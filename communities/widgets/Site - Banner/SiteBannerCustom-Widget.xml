<scriptedContentFragments>
	<scriptedContentFragment name="${resource:SiteBanner}" version="9.2.0.1667" description="${resource:SiteBannerDescription}" instanceIdentifier="c9932b3229d8453892c87cef53db657e" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="site-banner">
		<contentScript><![CDATA[#set ($siteVersion = $core_v2_widget.GetCustomValue('siteVersion', 'v1'))

#if ($siteVerson == "v1")
    $core_v2_ui.PagedContent('navigation-v1.vm')
#elseif ($siteVersion == "v2")
    $core_v2_ui.PagedContent('navigation-v2.vm')
#end]]></contentScript>
		<headerScript><![CDATA[
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:SiteBanner}'))
			]]></headerScript>
		<configuration><![CDATA[<propertyGroup id="version" resourceName="VersionTab">
    <property id="siteVersion" dataType="string" resourceName="Site_Version" defaultValue="v1" controlType="Telligent.Evolution.Controls.PropertyVisibilityValueSelectionControl, Telligent.Evolution.Controls">
		<propertyValue value="v1" resourceName="Site_Version_V1" propertiesToHide="useTLDFooter,navHTML,siteBrand,siteSearch,useQuestFooter,siteNavigation2" propertiesToShow="logo,siteNavigation"/>
		<propertyValue value="v2" resourceName="Site_Version_V2" propertiesToHide="logo,siteNavigation,groupSelectionCustom,navigation" propertiesToShow="useTLDFooter,siteBrand,siteSearch,useQuestFooter,siteNavigation2"/>
	</property>
</propertyGroup>
<propertyGroup id="optionsV1" resourceName="Options">
	<!-- Version 1 -->
	<property id="logo" dataType="url" defaultValue="~/cfs-file.ashx/__key/widgetcontainerfiles/3fc3f82483d14ec485ef92e206116d49-s-AAAAAAAAAAAAAAAAAAAAAA-header-header/logo.png" resourceName="Core_SiteUserNavigation_Logo" controlType="Telligent.Evolution.Controls.ThemeFileUrlControl, Telligent.Evolution.Controls">
		<propertyRule type="Telligent.Evolution.Controls.PropertyRules.FileExtensionRule, Telligent.Evolution.Controls" validExtensions="gif,jpg,jpeg,png" />
	</property>
	
	<!-- Version 2 -->
	<property id="siteBrand" dataType="string" resourceName="Site_Brand" defaultValue="exclude" controlType="Telligent.Evolution.Controls">
		<propertyValue value="dsg" resourceName="Dell_Software"/>
		<propertyValue value="quest" resourceName="Quest_Software"/>
	</property>
	<property id="siteSearch" dataType="string" resourceName="Site_Search" defaultValue="Default">
		<propertyValue value="Default" resourceName="Site_Search_Default"/>
		<propertyValue value="Root" resourceName="Site_Search_Root"/>
	</property>
	<property id="useRootFooter" resourceName="CF_Root_Footer" dataType="bool" defaultValue="false" />
</propertyGroup>
<propertyGroup id="links-tab" resourceName="LinksTab">
    <property id="links" resourceName="Links" descriptionResourceName="Links_Description" dataType="custom" defaultValue="Link=Notifications&amp;Link=Inbox&amp;Link=Bookmarks&amp;Link=User&amp;Link=Invite&amp;Link=UserInformation&amp;Link=Settings&amp;Link=SignOut" controlType="Telligent.Evolution.Controls.SortableListControl, Telligent.Evolution.Controls" height="275" key="Link" >
		<propertyValue value="Notifications" resourceName="Links_Notifications" />
		<propertyValue value="Inbox" resourceName="Links_Inbox" />
		<propertyValue value="Bookmarks" resourceName="Links_Bookmarks" />
		<propertyValue value="User" resourceName="Links_User" />
		<propertyValue value="Invite" resourceName="Links_User_Invite" />
		<propertyValue value="Settings" resourceName="Links_User_Settings" />
		<propertyValue value="UserInformation" resourceName="Links_User_Profile" />
		<propertyValue value="SignOut" resourceName="Links_User_Logout" />
	</property>
</propertyGroup>
<propertyGroup id="navigation-tab" resourceName="NavigationTab">
    <!-- Version 1 -->
    <property id="siteNavigation" dataType="string" resourceName="Site_Navigation" descriptionResourceName="Site_Navigation_Description" defaultValue="exclude" controlType="Telligent.Evolution.Controls.PropertyVisibilityValueSelectionControl, Telligent.Evolution.Controls">
		<propertyValue value="exclude" resourceName="Site_Navigation_Exclude" propertiesToHide="navigation"/>
		<propertyValue value="group" resourceName="Site_Navigation_Group" propertiesToHide="navigation"/>
		<propertyValue value="my_groups" resourceName="Site_Navigation_MyGroup" propertiesToHide="navigation"/>
		<propertyValue value="custom" resourceName="Site_Navigation_Custom" propertiesToShow="navigation"/>
	</property>
    <property id="groupSelectionCustom" resourceName="GroupInclusion" controlType="Telligent.Evolution.Controls.GroupSortableListControl, Telligent.Evolution.Controls" dataType="custom" key="group" sortPropertyId="siteNavigation" sortPropertyOn="group" />
	<property id="navigation" dataType="custom" controlType="Telligent.Evolution.Controls.CustomNavigationCustomControl, Telligent.Evolution.Controls" maximumDepth="1" resourceName="Custom_Navigation" descriptionResourceName="Custom_Navigation_Description" navigationType="site" />
	
	<!-- Version 2 -->
    <property id="siteNavigation2" dataType="string" resourceName="Site_Navigation" descriptionResourceName="Site_Navigation_Description" defaultValue="exclude" controlType="Telligent.Evolution.Controls.PropertyVisibilityValueSelectionControl, Telligent.Evolution.Controls">
		<propertyValue value="exclude" resourceName="Site_Navigation_Exclude" propertiesToHide="navHTML"/>
		<propertyValue value="custom" resourceName="Site_Navigation_Custom" propertiesToShow="navHTML"/>
		<propertyValue value="root" resourceName="Site_Navigation_Root" propertiesToHide="navHTML"/>
	</property>
	<property id="navHTML" resourceName="CF_Navigation_Content" dataType="html" controlType="Telligent.Evolution.Controls.HtmlEditorStringControl, Telligent.Evolution.Controls" width="100%" height="250px"/>
</propertyGroup>]]></configuration>
		<languageResources><language key="en-us">
  <resource name="SiteBanner">Site - Banner</resource>
  <resource name="SiteBannerDescription">Provides site-level navigation for users.</resource>
  <resource name="Options">Options</resource>
  <resource name="CF_Title">Widget Title</resource>
  <resource name="Site_Navigation">Site Navigation</resource>
  <resource name="Site_Navigation_Description">Optionally include group browsing or custom navigation alongside search and user links.</resource>
  <resource name="Site_Navigation_Exclude">Exclude</resource>
  <resource name="Site_Navigation_Group">Include Group Navigation</resource>
  <resource name="Site_Navigation_MyGroup">Include Accessing User's Group Navigation</resource>
  <resource name="Site_Navigation_Custom">Include Custom Navigation</resource>
  <resource name="Custom_Navigation">Custom Navigation Items</resource>
  <resource name="Custom_Navigation_Description">Add, edit, delete, and reorder custom navigation items.</resource>
  <resource name="navigation_groups">Groups</resource>
  <resource name="navigation_my_groups">Your Groups</resource>
  <resource name="navigation_custom"></resource>
  <resource name="Site_Navigation_Groups_More">All Groups</resource>
  <resource name="GroupInclusion">Include Groups</resource>
  <resource name="Site">Site</resource>
  <resource name="Links">User Links</resource>
  <resource name="Links_Description">Select, rearrange, and enable the links to be displayed</resource>
  <resource name="Links_Notifications">Notifications</resource>
  <resource name="Links_Inbox">Inbox</resource>
  <resource name="Links_Bookmarks">Bookmarks</resource>
  <resource name="Links_User">User</resource>
  <resource name="Links_User_Invite">Invite a member</resource>
  <resource name="Links_User_Settings">Settings</resource>
  <resource name="Links_User_Profile">Profile</resource>
  <resource name="Links_User_Logout">Sign Out</resource>
  <resource name="JoinSignIn">Join or Sign In</resource>
  <resource name="Cancel">Cancel</resource>
  <resource name="Bookmarks">Bookmarks</resource>
  <resource name="Bookmarks_More">View All</resource>
  <resource name="Bookmarks_None">You have no bookmarks.</resource>
  <resource name="Bookmark_Filter_Content">Content</resource>
  <resource name="Bookmark_Filter_Application">Application</resource>
  <resource name="Bookmark_Added">Bookmark Added</resource>
  <resource name="Bookmark_Removed">Bookmark Removed</resource>
  <resource name="Notifications">Notifications</resource>
  <resource name="Notifications_None">No notifications. Go get busy in the community!</resource>
  <resource name="TurnOffNotifications">Turn off</resource>
  <resource name="TurnOff">Confirm</resource>
  <resource name="TurnOffQuestion">Do not notify me when someone</resource>
  <resource name="TurnOffQuestionSuffix">?</resource>
  <resource name="Notifications_UnreadCountMessageSingular">You have {0} unread notification</resource>
  <resource name="Notifications_UnreadCountMessagePlural">You have {0} unread notifications</resource>
  <resource name="Notifications_Mark">Mark as Read</resource>
  <resource name="Notification_Filter_Unread">Unread</resource>
  <resource name="Notification_Filter_All">All</resource>
  <resource name="Conversations_Inbox">Inbox</resource>
  <resource name="Conversations_More">View All</resource>
  <resource name="Conversations_None">You have no messages.</resource>
  <resource name="Conversation_Send">New Message</resource>
  <resource name="Conversations_UnreadCountMessageSingular">You have {0} unread message</resource>
  <resource name="Conversations_UnreadCountMessagePlural">You have {0} unread messages</resource>
  <resource name="user">User</resource>
  <resource name="StopImpersonating">Stop Impersonating</resource>
  <resource name="Search_Filter_In">In {0}</resource>
  <resource name="Search_Filter_Anywhere">Anywhere</resource>
  <resource name="Search_Filter_Content">Content</resource>
  <resource name="Search_Filter_Groups">Groups</resource>
  <resource name="Search_Filter_People">People</resource>
  <resource name="Advanced_Search">Advanced Search</resource>
  <resource name="No_Results">No Results</resource>
  <resource name="Groups_NoGroups">There are no groups created in this site yet.</resource>
  <resource name="Core_SiteUserNavigation_Logo">Logo (optimal image size is 250*88px)</resource>
  <resource name="Core_SiteUserNavigation_Home">Home</resource>
  <resource name="Search">Search</resource>
  <resource name="TourTipSearch">Use search within the community to find people, content and groups. You can also use it to help navigate through the community.</resource>
  <resource name="TourTipNavigation">Navigate the community</resource>
  <resource name="TourTipSignIn">Sign in or Join the community.</resource>
  <resource name="TourTipNotifications">View recent notifications.</resource>
  <resource name="TourTipBookmarks">View bookmarks or bookmark the current page.</resource>
  <resource name="TourTipMessages">View your latest conversations.</resource>
  <resource name="TourTipProfile">Update your profile, change your settings or sign out.</resource>
  <resource name="loading">Loading...</resource>
  <resource name="VersionTab">Version</resource>
  <resource name="Site_Version_V1">Version 1 (Original)</resource>
  <resource name="Site_Version_V2">Version 2</resource>
  <resource name="Site_Version">Site Version</resource>
  <resource name="LinksTab">Links</resource>
  <resource name="NavigationTab">Navigation</resource>
  <resource name="Site_Brand">Site Brand</resource>
  <resource name="Site_Search">Site Search</resource>
  <resource name="Dell_Software">Dell Software</resource>
  <resource name="Quest_Software">Quest Software</resource>
  <resource name="Site_Search_Default">Default Telligent Search</resource>
  <resource name="Site_Search_Root">Search Based on Parent Site</resource>
  <resource name="CF_Root_Footer">Utilize Parent Site Footer</resource>
  <resource name="Site_Navigation_Root">Utilize Parent Site Navigation</resource>
  <resource name="CF_Navigation_Content">Custom Navigation Content</resource>
</language></languageResources>
		<files>
			<file name="bookmarks.vm">77u/I3NldCAoJHBhZ2VJbmRleCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X3BhZ2VJbmRleCcpKSkNCiNzZXQgKCRjb250ZW50VHlwZUlkcyA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19jb250ZW50VHlwZUlkcycpKQ0KI2lmICgkY29udGVudFR5cGVJZHMgJiYgJGNvbnRlbnRUeXBlSWRzLkxlbmd0aCA+IDApDQoJI3NldCAoJGJvb2ttYXJrcyA9ICRjb3JlX3YyX2Jvb2ttYXJrLkxpc3QoIiV7IFBhZ2VJbmRleCA9ICRwYWdlSW5kZXgsIFBhZ2VTaXplID0gMTAsIFNvcnRCeSA9ICdEYXRlJywgU29ydE9yZGVyID0gJ0Rlc2NlbmRpbmcnLCBDb250ZW50VHlwZUlkcyA9ICRjb250ZW50VHlwZUlkcyB9IikpDQojZWxzZQ0KCSNzZXQgKCRib29rbWFya3MgPSAkY29yZV92Ml9ib29rbWFyay5MaXN0KCIleyBQYWdlSW5kZXggPSAkcGFnZUluZGV4LCBQYWdlU2l6ZSA9IDEwLCBTb3J0QnkgPSAnRGF0ZScsIFNvcnRPcmRlciA9ICdEZXNjZW5kaW5nJyB9IikpDQojZW5kDQojc2V0ICgkYWNjZXNzaW5nVXNlciA9ICRjb3JlX3YyX3VzZXIuQWNjZXNzaW5nKQ0KDQojc2V0ICgkaGFzTW9yZSA9IGZhbHNlKQ0KI3NldCAoJGN1cnJlbnRQYWdlZFF1YW50aXR5ID0gKCRib29rbWFya3MuUGFnZUluZGV4ICsgMSkgKiAkYm9va21hcmtzLlBhZ2VTaXplKQ0KI2lmICgkYm9va21hcmtzLlRvdGFsQ291bnQgPiAkY3VycmVudFBhZ2VkUXVhbnRpdHkpDQoJI3NldCAoJGhhc01vcmUgPSB0cnVlKQ0KI2VuZA0KDQojc2V0ICgkcm9vdEdyb3VwID0gJGNvcmVfdjJfZ3JvdXAuUm9vdCkNCg0KI2ZvcmVhY2ggKCRib29rbWFyayBpbiAkYm9va21hcmtzKQ0KCSMjIHJlbmRlciBib29rbWFyaw0KCSNzZXQgKCRjb250ZW50ID0gZmFsc2UpDQoJI3NldCAoJGNvbnRlbnQgPSAkYm9va21hcmsuQ29udGVudCkNCgkjaWYgKCRjb250ZW50KQ0KCQkjIyBkZXRlcm1pbmUgYW4gaW1hZ2UgdG8gdXNlLiBQcmVmZXJyaW5nIGNvbnRlbnQgb3ZlciBhcHBsaWNhdGlvbiBvdmVyIGNvbnRhaW5lcg0KCQkjc2V0ICgkaW1hZ2VVcmwgPSBmYWxzZSkNCgkJI3NldCAoJGltYWdlVXJsID0gJGNvbnRlbnQuQXZhdGFyVXJsKQ0KCQkjaWYgKCghJGltYWdlVXJsIHx8ICRpbWFnZVVybCA9PSAnJykgJiYgJGNvbnRlbnQuQXBwbGljYXRpb24pDQoJCQkjc2V0ICgkaW1hZ2VVcmwgPSAkY29udGVudC5BcHBsaWNhdGlvbi5BdmF0YXJVcmwpDQoJCQkjaWYgKCghJGltYWdlVXJsIHx8ICRpbWFnZVVybCA9PSAnJykgJiYgJGNvbnRlbnQuQXBwbGljYXRpb24uQ29udGFpbmVyKQ0KCQkJCSNzZXQgKCRpbWFnZVVybCA9ICRjb250ZW50LkFwcGxpY2F0aW9uLkNvbnRhaW5lci5BdmF0YXJVcmwpDQoJCQkjZW5kDQoJCSNlbmQNCgkJPGxpIGNsYXNzPSJjb250ZW50LWl0ZW0iIGRhdGEtY29udGVudHVybD0iJGNvbnRlbnQuVXJsIiAjaWYoJGhhc01vcmUpIGRhdGEtaGFzbW9yZT0idHJ1ZSIgI2VuZD4NCgkJCSNpZiAoJGltYWdlVXJsKQ0KCQkJCTxkaXYgY2xhc3M9InBvc3QtYXV0aG9yIj4NCgkJCQkJPHNwYW4gY2xhc3M9ImF2YXRhciI+DQoJCQkJCQk8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb250ZW50LlVybCkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIj4NCgkJCQkJCQkkY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRpbWFnZVVybCwgNDAsIDQwLCAiJXtib3JkZXI9JzAnLCBhbHQ9JGNvbnRlbnQuSHRtbE5hbWUoJ1dlYicpLCBSZXNpemVNZXRob2Q9J1pvb21BbmRDcm9wJyxib3JkZXI9JzAnfSIpDQoJCQkJCQk8L2E+DQoJCQkJCTwvc3Bhbj4NCgkJCQk8L2Rpdj4NCgkJCSNlbmQNCgkJCTxkaXYgY2xhc3M9ImNvbnRlbnQiPg0KCQkJCSNzZXQgKCRuYW1lID0gJGNvcmVfdjJfbGFuZ3VhZ2UuVHJ1bmNhdGUoJGNvbnRlbnQuSHRtbE5hbWUoJ1dlYicpLCA1MCwgJ+KApicpKQ0KCQkJCSNpZiAoJG5hbWUubGVuZ3RoID09IDApDQoJCQkJCSNzZXQgKCRuYW1lID0gJGNvcmVfdjJfbGFuZ3VhZ2UuVHJ1bmNhdGUoJGNvbnRlbnQuSHRtbERlc2NyaXB0aW9uKCdXZWInKSwgNTAsICfigKYnKSkNCgkJCQkjZW5kDQoJCQkJJG5hbWUNCgkJCTwvZGl2Pg0KCQkJI2lmICgkY29udGVudCAmJiAkY29udGVudC5BcHBsaWNhdGlvbiAmJiAkY29udGVudC5BcHBsaWNhdGlvbi5Db250YWluZXIgJiYgJGNvbnRlbnQuVXJsICE9ICRjb250ZW50LkFwcGxpY2F0aW9uLkNvbnRhaW5lci5VcmwpDQoJCQkJI2lmICgkcm9vdEdyb3VwLkNvbnRhaW5lcklkICE9ICRjb250ZW50LkFwcGxpY2F0aW9uLkNvbnRhaW5lci5Db250YWluZXJJZCkNCgkJCQkJPHNwYW4gY2xhc3M9ImNvbnRlbnQtZ3JvdXAiPg0KCQkJCQkJPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29udGVudC5BcHBsaWNhdGlvbi5Db250YWluZXIuVXJsKSI+JGNvbnRlbnQuQXBwbGljYXRpb24uQ29udGFpbmVyLkh0bWxOYW1lKCdXZWInKTwvYT4NCgkJCQkJPC9zcGFuPg0KCQkJCSNlbmQNCgkJCSNlbmQNCgkJPC9saT4NCgkjZW5kDQojbm9kYXRhDQoJPGRpdiBjbGFzcz0ibWVzc2FnZSBub3JlY29yZHMiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdCb29rbWFya3NfTm9uZScpPC9kaXY+DQojZW5k</file>
			<file name="conversations.vm">77u/I3NldCAoJHBhZ2VJbmRleCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X3BhZ2VJbmRleCcpKSkNCiNzZXQgKCRjb252ZXJzYXRpb25zID0gJGNvcmVfdjJfY29udmVyc2F0aW9uLkxpc3QoIiV7IFBhZ2VJbmRleCA9ICRwYWdlSW5kZXgsIFBhZ2VTaXplID0gMTAgfSIpKQ0KI3NldCAoJGFjY2Vzc2luZ1VzZXIgPSAkY29yZV92Ml91c2VyLkFjY2Vzc2luZykNCiNzZXQgKCRtYXhQYXJ0aWNpcGFudEF2YXRhcnMgPSA1KQ0KDQojc2V0ICgkaGFzTW9yZSA9IGZhbHNlKQ0KI3NldCAoJGN1cnJlbnRQYWdlZFF1YW50aXR5ID0gKCRjb252ZXJzYXRpb25zLlBhZ2VJbmRleCArIDEpICogJGNvbnZlcnNhdGlvbnMuUGFnZVNpemUpDQojaWYgKCRjb252ZXJzYXRpb25zLlRvdGFsQ291bnQgPiAkY3VycmVudFBhZ2VkUXVhbnRpdHkpDQoJI3NldCAoJGhhc01vcmUgPSB0cnVlKQ0KI2VuZA0KDQojZm9yZWFjaCAoJGNvbnZlcnNhdGlvbiBpbiAkY29udmVyc2F0aW9ucykNCgkjc2V0ICgkbGFzdE1lc3NhZ2UgPSAkY29udmVyc2F0aW9uLkxhc3RNZXNzYWdlKQ0KDQoJIyMgcmVuZGVyIGNvbnZlcnNhdGlvbg0KCTxsaSBjbGFzcz0iY29udGVudC1pdGVtICNpZighJGNvbnZlcnNhdGlvbi5IYXNSZWFkKSB1bnJlYWQgI2VuZCIgZGF0YS1jb250ZW50dXJsPSIkY29udmVyc2F0aW9uLlVybCIgI2lmKCRoYXNNb3JlKSBkYXRhLWhhc21vcmU9InRydWUiICNlbmQ+DQoJCTxkaXYgY2xhc3M9InBvc3QtYXV0aG9yIj4NCgkJCTxzcGFuIGNsYXNzPSJhdmF0YXIiPg0KCQkJCTxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGxhc3RNZXNzYWdlLkF1dGhvci5VcmwpIiBjbGFzcz0iaW50ZXJuYWwtbGluayI+DQoJCQkJCSRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJGxhc3RNZXNzYWdlLkF1dGhvci5BdmF0YXJVcmwsIDQwLCA0MCwgIiV7Ym9yZGVyPScwJywgYWx0PSRjb250ZW50Lkh0bWxOYW1lKCdXZWInKSwgUmVzaXplTWV0aG9kPSdab29tQW5kQ3JvcCcsYm9yZGVyPScwJ30iKQ0KCQkJCTwvYT4NCgkJCTwvc3Bhbj4NCgkJPC9kaXY+DQoJCTxkaXYgY2xhc3M9InBvc3QtYXV0aG9ycyI+DQoJCQkjc2V0ICgkRFEgPSAnIicpDQoJCQkjc2V0ICgkYXV0aG9ycyA9ICIiKQ0KCQkJI2ZvcmVhY2ggKCRwYXJ0aWNpcGFudCBpbiAkY29udmVyc2F0aW9uLlBhcnRpY2lwYW50cykNCgkJCQkjc2V0ICgkYXV0aG9ycyA9ICIkYXV0aG9yczxhIGNsYXNzPSR7RFF9aW50ZXJuYWwtbGluayB2aWV3LXVzZXItcHJvZmlsZSR7RFF9IGhyZWY9JHtEUX0kY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRwYXJ0aWNpcGFudC5Qcm9maWxlVXJsKSR7RFF9PiRwYXJ0aWNpcGFudC5EaXNwbGF5TmFtZTwvYT4iKQ0KCQkJI2JldHdlZW4NCgkJCQkjc2V0ICgkYXV0aG9ycyA9ICIkYXV0aG9ycywgIikNCgkJCSNlbmQNCgkJCSRhdXRob3JzDQoJCTwvZGl2Pg0KCQk8ZGl2IGNsYXNzPSJjb250ZW50Ij4NCgkJCSNzZXQgKCRleGNlcnB0ID0gJGNvcmVfdjJfbGFuZ3VhZ2UuVHJ1bmNhdGUoJGxhc3RNZXNzYWdlLkh0bWxEZXNjcmlwdGlvbignV2ViJyksIDUwLCAn4oCmJykpDQoJCQkjaWYgKCRleGNlcnB0Lmxlbmd0aCA9PSAwKQ0KCQkJCSNzZXQgKCRleGNlcnB0ID0gJGNvcmVfdjJfbGFuZ3VhZ2UuVHJ1bmNhdGUoJGNvbnZlcnNhdGlvbi5GaXJzdE1lc3NhZ2UuU3ViamVjdCwgNTAsICfigKYnKSkNCgkJCSNlbmQNCgkJCSRleGNlcnB0DQoJCTwvZGl2Pg0KCQk8ZGl2IGNsYXNzPSJwb3N0LWRhdGUiPg0KCQkJPHNwYW4gY2xhc3M9InZhbHVlIj4kY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXRBZ29EYXRlKCRjb252ZXJzYXRpb24uTGFzdE1lc3NhZ2UuQ3JlYXRlZERhdGUpPC9zcGFuPg0KCQk8L2Rpdj4NCgk8L2xpPg0KI25vZGF0YQ0KCTxkaXYgY2xhc3M9Im1lc3NhZ2Ugbm9yZWNvcmRzIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ29udmVyc2F0aW9uc19Ob25lJyk8L2Rpdj4NCiNlbmQ=</file>
			<file name="custom.vm">77u/I3NldCAoJGl0ZW1zID0gJGNvcmVfdjJfY3VzdG9tTmF2aWdhdGlvbi5EZXNlcmlhbGl6ZSgkY29yZV92Ml93aWRnZXQuR2V0Q3VzdG9tVmFsdWUoJ25hdmlnYXRpb24nLCAnJykpKQ0KDQojZm9yZWFjaCAoJGl0ZW0gaW4gJGl0ZW1zKQ0KCTxsaSBjbGFzcz0iY29udGVudC1pdGVtICNpZigkaXRlbS5Jc1NlbGVjdGVkKSBzZWxlY3RlZCAjZW5kIiBkYXRhLWNvbnRlbnR1cmw9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGl0ZW0uVXJsKSI+DQoJCTxkaXYgY2xhc3M9ImNvbnRlbnQiPiRpdGVtLkxhYmVsPC9kaXY+DQoJPC9saT4NCiNlbmQ=</file>
			<file name="groups.vm">77u/I3NldCAoJHBhZ2VJbmRleCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X3BhZ2VJbmRleCcpKSkNCiNzZXQgKCRzaXRlTmF2aWdhdGlvblR5cGUgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfc2l0ZU5hdmlnYXRpb25UeXBlJykpDQojc2V0ICgkYWNjZXNzaW5nVXNlciA9ICRjb3JlX3YyX3VzZXIuQWNjZXNzaW5nKQ0KI3NldCgkZ3JvdXBTZWxlY3Rpb24gPSBmYWxzZSkNCiNzZXQoJGdyb3VwU2VsZWN0aW9uID0gJGNvcmVfdjJfd2lkZ2V0LkdldEN1c3RvbVZhbHVlKCdncm91cFNlbGVjdGlvbkN1c3RvbScsICcnKSkNCg0KI3NldCAoJGdyb3VwTGlzdE9wdGlvbnMgPSAiJXsgUGFnZUluZGV4ID0gJHBhZ2VJbmRleCwgUGFnZVNpemUgPSAxMCwgU29ydE9yZGVyID0gJ0FzY2VuZGluZycgfSIpDQojaWYgKCRzaXRlTmF2aWdhdGlvblR5cGUgPT0gJ215X2dyb3VwcycpDQoJI3NldCAoJGluY2x1ZGVQZW5kaW5nTWVtYmVyc2hpcHMgPSB0cnVlKQ0KCSRncm91cExpc3RPcHRpb25zLkFkZCgnVXNlcklkJywgJGFjY2Vzc2luZ1VzZXIuSWQpDQoJJGdyb3VwTGlzdE9wdGlvbnMuQWRkKCdJbmNsdWRlUGVuZGluZ01lbWJlcnNoaXBzJywgJGluY2x1ZGVQZW5kaW5nTWVtYmVyc2hpcHMpDQoJJGdyb3VwTGlzdE9wdGlvbnMuQWRkKCdTb3J0QnknLCAnTmFtZScpDQojZWxzZWlmICgkc2l0ZU5hdmlnYXRpb25UeXBlID09ICdncm91cCcgJiYgJGdyb3VwU2VsZWN0aW9uICYmICRncm91cFNlbGVjdGlvbi5MZW5ndGggPiAwKQ0KCSNzZXQoJGdyb3VwU2VsZWN0aW9uID0gJGNvcmVfdjJfdXRpbGl0eS5Kb2luKCcsJywgJGNvcmVfdjJfcGFnZS5QYXJzZVF1ZXJ5U3RyaW5nKCRncm91cFNlbGVjdGlvbikuVmFsdWVzKCdncm91cCcpKSkNCgkkZ3JvdXBMaXN0T3B0aW9ucy5BZGQoJ0NvbnRhaW5lcklkcycsICRncm91cFNlbGVjdGlvbikNCgkkZ3JvdXBMaXN0T3B0aW9ucy5BZGQoJ1NvcnRCeScsICdDb250YWluZXJJZHNPcmRlcicpDQojZWxzZQ0KCSRncm91cExpc3RPcHRpb25zLkFkZCgnU29ydEJ5JywgJ1NvcnRPcmRlcicpDQojZW5kDQoNCiRncm91cExpc3RPcHRpb25zLkFkZCgnUGFyZW50R3JvdXBJZCcsICRjb3JlX3YyX2dyb3VwLlJvb3QuSWQpDQoNCiNzZXQgKCRncm91cHMgPSAkY29yZV92Ml9ncm91cC5MaXN0KCRncm91cExpc3RPcHRpb25zKSkNCg0KI3NldCAoJGhhc01vcmUgPSBmYWxzZSkNCiNzZXQgKCRjdXJyZW50UGFnZWRRdWFudGl0eSA9ICgkZ3JvdXBzLlBhZ2VJbmRleCArIDEpICogJGdyb3Vwcy5QYWdlU2l6ZSkNCiNpZiAoJGdyb3Vwcy5Ub3RhbENvdW50ID4gJGN1cnJlbnRQYWdlZFF1YW50aXR5KQ0KCSNzZXQgKCRoYXNNb3JlID0gdHJ1ZSkNCiNlbmQNCg0KI3NldCAoJGN1cnJlbnRHcm91cFBhdGggPSAkY29yZV92Ml9ncm91cC5DdXJyZW50R3JvdXBQYXRoKQ0KDQojZm9yZWFjaCAoJGdyb3VwIGluICRncm91cHMpDQoJIyMgcmVuZGVyIGdyb3VwDQoJI3NldCAoJGltYWdlVXJsID0gZmFsc2UpDQoJI3NldCAoJGltYWdlVXJsID0gJGdyb3VwLkF2YXRhclVybCkNCgkjc2V0ICgkc2VsZWN0ZWQgPSBmYWxzZSkNCgkjZm9yZWFjaCAoJGdyb3VwUGF0aENvbXBvbmVudCBpbiAkY3VycmVudEdyb3VwUGF0aCkNCgkJI2lmICgkZ3JvdXBQYXRoQ29tcG9uZW50LklkID09ICRncm91cC5JZCkNCgkJCSNzZXQgKCRzZWxlY3RlZCA9IHRydWUpDQoJCSNlbmQNCgkjZW5kDQoJPGxpIGNsYXNzPSJjb250ZW50LWl0ZW0gI2lmICgkc2VsZWN0ZWQpIHNlbGVjdGVkICNlbmQiIGRhdGEtY29udGVudHVybD0iJGdyb3VwLlVybCIgI2lmKCRoYXNNb3JlKSBkYXRhLWhhc21vcmU9InRydWUiICNlbmQ+DQoJCSNpZiAoJGltYWdlVXJsKQ0KCQkJPGRpdiBjbGFzcz0icG9zdC1hdXRob3IiPg0KCQkJCTxzcGFuIGNsYXNzPSJhdmF0YXIiPg0KCQkJCQk8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRncm91cC5VcmwpIiBjbGFzcz0iaW50ZXJuYWwtbGluayI+DQoJCQkJCQkkY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRpbWFnZVVybCwgNDAsIDQwLCAiJXtib3JkZXI9JzAnLCBhbHQ9JGdyb3VwLk5hbWUsIFJlc2l6ZU1ldGhvZD0nWm9vbUFuZENyb3AnLGJvcmRlcj0nMCd9IikNCgkJCQkJPC9hPg0KCQkJCTwvc3Bhbj4NCgkJCTwvZGl2Pg0KCQkjZW5kDQoJCTxkaXYgY2xhc3M9ImNvbnRlbnQiPg0KCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuVHJ1bmNhdGUoJGdyb3VwLk5hbWUsIDUwLCAn4oCmJykNCgkJPC9kaXY+DQoJCSNpZiAoJGdyb3VwLkRlc2NyaXB0aW9uICYmICRncm91cC5EZXNjcmlwdGlvbi5sZW5ndGggPiAwKQ0KCQkJPGRpdiBjbGFzcz0iZGVzY3JpcHRpb24iPg0KCQkJCSRncm91cC5EZXNjcmlwdGlvbg0KCQkJPC9kaXY+DQoJCSNlbmQNCgk8L2xpPg0KDQojbm9kYXRhDQoJPGRpdiBjbGFzcz0ibWVzc2FnZSBub3JlY29yZHMiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdHcm91cHNfTm9Hcm91cHMnKTwvZGl2Pg0KI2VuZA0K</file>
			<file name="navigation-v1.vm">I3NldCAoJGxpbmtzID0gJGNvcmVfdjJfcGFnZS5QYXJzZVF1ZXJ5U3RyaW5nKCRjb3JlX3YyX3dpZGdldC5HZXRDdXN0b21WYWx1ZSgnbGlua3MnLCdMaW5rPU5vdGlmaWNhdGlvbnMmYW1wO0xpbms9SW5ib3gmYW1wO0xpbms9Qm9va21hcmtzJmFtcDtMaW5rPVVzZXInKSkpCiNzZXQgKCRoYXNMaW5rcyA9IGZhbHNlKQoKI3NldCAoJHVzZXIgPSAkY29yZV92Ml91c2VyLkFjY2Vzc2luZykKI3NldCAoJGlzUmVnaXN0ZXJlZCA9ICRjb3JlX3YyX3VzZXIuSXNSZWdpc3RlcmVkKCR1c2VyLklkKSkKI3NldCAoJGlzSW1wZXJzb25hdGVkID0gJGNvcmVfdjJfYXV0aGVudGljYXRpb24uSXNJbXBlcnNvbmF0ZWQoKSkKI3NldCAoJGltcGVyc29uYXRvciA9ICRjb3JlX3YyX2F1dGhlbnRpY2F0aW9uLkltcGVyc29uYXRvcigpKQoKI3NldCAoJGxpc3RUZW1wbGF0ZSA9ICdzaXRlLWJhbm5lci1saXN0LXRlbXBsYXRlJykKI3NldCAoJG5vdGlmaWNhdGlvblByZWZlcmVuY2VUZW1wbGF0ZSA9ICdzaXRlLWJhbm5lci1ub3RpZmljYXRpb24tcHJlZmVyZW5jZXMtdGVtcGxhdGUnKQojc2V0ICgkYm9va21hcmtGaWx0ZXJUZW1wbGF0ZSA9ICdzaXRlLWJhbm5lci1ib29rbWFyay1maWx0ZXItdGVtcGxhdGUnKQojc2V0ICgkbm90aWZpY2F0aW9uRmlsdGVyVGVtcGxhdGUgPSAnc2l0ZS1iYW5uZXItbm90aWZpY2F0aW9uLWZpbHRlci10ZW1wbGF0ZScpCiNzZXQgKCR1c2VyVGVtcGxhdGUgPSAnc2l0ZS1iYW5uZXItdXNlci10ZW1wbGF0ZScpCiNzZXQgKCRzZWFyY2hGaWx0ZXJUZW1wbGF0ZSA9ICdzaXRlLWJhbm5lci1zZWFyY2gtZmlsdGVyLXRlbXBsYXRlJykKI3NldCAoJG5vdGlmaWNhdGlvbnNVbnJlYWQgPSAwKQojc2V0ICgkY29udmVyc2F0aW9uc1VucmVhZCA9IDApCiNzZXQgKCRpbmNsdWRlSmF2YXNjcmlwdCA9IGZhbHNlKQojc2V0ICgkaXNCb29rbWFya2VkID0gZmFsc2UpCiNzZXQgKCRjdXJyZW50Q29udGVudElkID0gJycpCgojc2V0ICgkY3VycmVudENvbnRlbnQgPSBmYWxzZSkKI3NldCAoJGN1cnJlbnRDb250ZW50ID0gJGNvcmVfdjJfY29udGVudC5DdXJyZW50KQojc2V0ICgkY3VycmVudEFwcGxpY2F0aW9uID0gZmFsc2UpCiNzZXQgKCRjdXJyZW50QXBwbGljYXRpb24gPSAkY29yZV92Ml9hcHBsaWNhdGlvbi5DdXJyZW50KQojc2V0ICgkY3VycmVudEdyb3VwID0gZmFsc2UpCiNzZXQgKCRjdXJyZW50R3JvdXAgPSAkY29yZV92Ml9ncm91cC5DdXJyZW50KQojc2V0ICgkcm9vdEdyb3VwID0gZmFsc2UpCiNzZXQgKCRyb290R3JvdXAgPSAkY29yZV92Ml9ncm91cC5Sb290KQojaWYgKCRyb290R3JvdXAuSWQgPT0gJGN1cnJlbnRHcm91cC5JZCkKCSNzZXQgKCRjdXJyZW50R3JvdXAgPSBmYWxzZSkKI2VuZAoKIyMgbWFyayBhbnkgdW5yZWFkIG5vdGlmaWNhdGlvbnMgZm9yIHRoZSBjdXJyZW50IHBpZWNlIG9mIGNvbnRlbnQgYXMgcmVhZAojaWYgKCRjdXJyZW50Q29udGVudCAmJiAkaXNSZWdpc3RlcmVkKQoJIyMgZGV0ZWN0IGlmIGN1cnJlbnQgY29udGVudCBpcyBhY3R1YWxseSBhbiBhcHBsaWNhdGlvbgoJI3NldCAoJGlzQXBwbGljYXRpb24gPSBmYWxzZSkKCSNzZXQgKCRhcHBsaWNhdGlvbiA9ICRjdXJyZW50Q29udGVudC5BcHBsaWNhdGlvbikKCSNpZiAoISRhcHBsaWNhdGlvbiB8fCAkYXBwbGljYXRpb24uQXBwbGljYXRpb25JZCA9PSAkY3VycmVudENvbnRlbnQuQ29udGVudElkKQoJCSNzZXQgKCRpc0FwcGxpY2F0aW9uID0gdHJ1ZSkKCSNlbmQKCgkjaWYgKCEkaXNBcHBsaWNhdGlvbikKCQkjIyBsb2FkIGFuZCBtYXJrIGFzIHJlYWQgYW55IHVucmVhZCBub3RpZmljYXRpb25zIGZvciB0aGlzIGNvbnRlbnQKCQkjc2V0ICgkdW5yZWFkQ29udGVudE5vdGlmaWNhdGlvbnMgPSAkY29yZV92Ml9ub3RpZmljYXRpb24uTGlzdCgiJXsgQ29udGVudElkID0gJGN1cnJlbnRDb250ZW50LkNvbnRlbnRJZCwgQ29udGVudFR5cGVJZCA9ICRjdXJyZW50Q29udGVudC5Db250ZW50VHlwZUlkLCBJc1JlYWQgPSAnZmFsc2UnIH0iKSkKCQkjZm9yZWFjaCAoJHVucmVhZE5vdGlmaWNhdGlvbiBpbiAkdW5yZWFkQ29udGVudE5vdGlmaWNhdGlvbnMpCgkJCSNzZXQgKCR1cGRhdGVkTm90aWZpY2F0aW9uID0gJGNvcmVfdjJfbm90aWZpY2F0aW9uLlVwZGF0ZSgkdW5yZWFkTm90aWZpY2F0aW9uLk5vdGlmaWNhdGlvbklkLCAiJXsgTWFya0FzUmVhZCA9ICd0cnVlJyB9IikpCgkJI2VuZAoKCQkjIyBGb3J1bSBSZXBseSBOb3RpZmljYXRpb25zIGFyZSBnZW5lcmFsbHkgbWFkZSBhZ2FpbnN0IEZvcnVtIFRocmVhZHMsIG5vdCBSZXBsaWVzLiBTbyBhbHNvLCBtYXJrIGFueSBub3RpZmljYXRpb25zIGZvciB0aGVpciBwYXJlbnQgdGhyZWFkcywgZXhwbGljaXRseS4KCQkjaWYgKCRjdXJyZW50Q29udGVudC5Db250ZW50VHlwZUlkID09ICRjb3JlX3YyX2ZvcnVtUmVwbHkuQ29udGVudFR5cGVJZCkKCQkJI3NldCAoJGZvcnVtUmVwbHkgPSAkY29yZV92Ml9mb3J1bVJlcGx5LkdldCgkY3VycmVudENvbnRlbnQuQ29udGVudElkKSkKCQkJI2lmICgkZm9ydW1SZXBseSkKCQkJCSNzZXQgKCRmb3J1bVRocmVhZCA9ICRjb3JlX3YyX2ZvcnVtVGhyZWFkLkdldCgkZm9ydW1SZXBseS5UaHJlYWRJZCkpCgkJCQkjaWYgKCRmb3J1bVRocmVhZCkKCQkJCQkjIyBsb2FkIGFuZCBtYXJrIGFzIHJlYWQgYW55IHVucmVhZCBub3RpZmljYXRpb25zIGZvciB0aGlzIGZvcnVtIHRocmVhZAoJCQkJCSNzZXQgKCR1bnJlYWRDb250ZW50Tm90aWZpY2F0aW9ucyA9ICRjb3JlX3YyX25vdGlmaWNhdGlvbi5MaXN0KCIleyBDb250ZW50SWQgPSAkZm9ydW1UaHJlYWQuQ29udGVudElkLCBDb250ZW50VHlwZUlkID0gJGZvcnVtVGhyZWFkLmZvcnVtVGhyZWFkQ29udGVudFR5cGVJZCwgSXNSZWFkID0gJ2ZhbHNlJyB9IikpCgkJCQkJI2ZvcmVhY2ggKCR1bnJlYWROb3RpZmljYXRpb24gaW4gJHVucmVhZENvbnRlbnROb3RpZmljYXRpb25zKQoJCQkJCQkjc2V0ICgkdXBkYXRlZE5vdGlmaWNhdGlvbiA9ICRjb3JlX3YyX25vdGlmaWNhdGlvbi5VcGRhdGUoJHVucmVhZE5vdGlmaWNhdGlvbi5Ob3RpZmljYXRpb25JZCwgIiV7IE1hcmtBc1JlYWQgPSAndHJ1ZScgfSIpKQoJCQkJCSNlbmQKCQkJCSNlbmQKCQkJI2VuZAoJCSNlbmQKCSNlbmQKI2VuZAoKIyMgc2l0ZSBuYXZpZ2F0aW9uCiNzZXQgKCRoYXNTaXRlTmF2aWdhdGlvbiA9IGZhbHNlKQojc2V0ICgkc2l0ZU5hdmlnYXRpb25VcmwgPSAnJykKI3NldCAoJHNpdGVOYXZpZ2F0aW9uVHlwZSA9ICRjb3JlX3YyX3dpZGdldC5HZXRTdHJpbmdWYWx1ZSgnc2l0ZU5hdmlnYXRpb24nLCAnZXhjbHVkZScpKQoKI2lmICgkc2l0ZU5hdmlnYXRpb25UeXBlID09ICdncm91cCcgfHwgJHNpdGVOYXZpZ2F0aW9uVHlwZSA9PSAnbXlfZ3JvdXBzJykKCSNzZXQgKCRoYXNTaXRlTmF2aWdhdGlvbiA9IHRydWUpCgkjc2V0ICgkc2l0ZU5hdmlnYXRpb25VcmwgPSAkY29yZV92Ml93aWRnZXQuR2V0RXhlY3V0ZWRGaWxlVXJsKCdncm91cHMudm0nKSkKCgkjc2V0ICgkZ3JvdXBMaXN0T3B0aW9ucyA9ICIleyBQYWdlSW5kZXggPSAkcGFnZUluZGV4LCBQYWdlU2l6ZSA9IDEwLCBTb3J0T3JkZXIgPSAnQXNjZW5kaW5nJyB9IikKCSNpZiAoJHNpdGVOYXZpZ2F0aW9uVHlwZSA9PSAnbXlfZ3JvdXBzJykKCQkjc2V0ICgkaW5jbHVkZVBlbmRpbmdNZW1iZXJzaGlwcyA9IHRydWUpCgkJJGdyb3VwTGlzdE9wdGlvbnMuQWRkKCdVc2VySWQnLCAkdXNlci5JZCkKCQkkZ3JvdXBMaXN0T3B0aW9ucy5BZGQoJ0luY2x1ZGVQZW5kaW5nTWVtYmVyc2hpcHMnLCAkaW5jbHVkZVBlbmRpbmdNZW1iZXJzaGlwcykKCQkkZ3JvdXBMaXN0T3B0aW9ucy5BZGQoJ1NvcnRCeScsICdOYW1lJykKCSNlbHNlCgogICAgI3NldCgkZ3JvdXBTZWxlY3Rpb24gPSBmYWxzZSkKICAJI3NldCgkZ3JvdXBTZWxlY3Rpb24gPSAkY29yZV92Ml93aWRnZXQuR2V0Q3VzdG9tVmFsdWUoJ2dyb3VwU2VsZWN0aW9uQ3VzdG9tJywgJycpKQoKICAgICNpZiAoJGdyb3VwU2VsZWN0aW9uICYmICRncm91cFNlbGVjdGlvbi5MZW5ndGggPiAwKQogICAgICAjc2V0KCRncm91cFNlbGVjdGlvbiA9ICRjb3JlX3YyX3V0aWxpdHkuSm9pbignLCcsICRjb3JlX3YyX3BhZ2UuUGFyc2VRdWVyeVN0cmluZygkZ3JvdXBTZWxlY3Rpb24pLlZhbHVlcygnZ3JvdXAnKSkpCiAgICAgICRncm91cExpc3RPcHRpb25zLkFkZCgnQ29udGFpbmVySWRzJywgJGdyb3VwU2VsZWN0aW9uKQogICAgICAkZ3JvdXBMaXN0T3B0aW9ucy5BZGQoJ1NvcnRCeScsICdDb250YWluZXJJZHNPcmRlcicpCiAgICAjZWxzZQogICAgICAkZ3JvdXBMaXN0T3B0aW9ucy5BZGQoJ1NvcnRCeScsICdTb3J0T3JkZXInKQogICAgI2VuZAoKICAgICRncm91cExpc3RPcHRpb25zLkFkZCgnUGFyZW50R3JvdXBJZCcsICRjb3JlX3YyX2dyb3VwLlJvb3QuSWQpCgkjZW5kCgoJI3NldCAoJGdyb3VwcyA9ICRjb3JlX3YyX2dyb3VwLkxpc3QoJGdyb3VwTGlzdE9wdGlvbnMpKQoJI2lmICghJGdyb3VwcyB8fCAkZ3JvdXBzLlRvdGFsQ291bnQgPT0gMCkKCQkjc2V0ICgkaGFzU2l0ZU5hdmlnYXRpb24gPSBmYWxzZSkKCSNlbmQKI2Vsc2VpZiAoJHNpdGVOYXZpZ2F0aW9uVHlwZSA9PSAnY3VzdG9tJykKCSNzZXQgKCRoYXNTaXRlTmF2aWdhdGlvbiA9IHRydWUpCgkjc2V0ICgkc2l0ZU5hdmlnYXRpb25VcmwgPSAkY29yZV92Ml93aWRnZXQuR2V0RXhlY3V0ZWRGaWxlVXJsKCdjdXN0b20udm0nKSkKCSMjIGRvbid0IHNob3cgY3VzdG9tIG5hdmlnYXRpb24gaWYgbm8gbGlua3MgYXJlIGRlZmluZWQgYnkgY29uZmlndXJhdGlvbgoJI3NldCAoJGN1c3RvbVNpdGVOYXZpZ2F0aW9uSXRlbXMgPSAkY29yZV92Ml9jdXN0b21OYXZpZ2F0aW9uLkRlc2VyaWFsaXplKCRjb3JlX3YyX3dpZGdldC5HZXRDdXN0b21WYWx1ZSgnbmF2aWdhdGlvbicsICcnKSkpCgkjaWYgKCEkY3VzdG9tU2l0ZU5hdmlnYXRpb25JdGVtcyB8fCAkY3VzdG9tU2l0ZU5hdmlnYXRpb25JdGVtcy5Db3VudCA9PSAwKQoJCSNzZXQgKCRoYXNTaXRlTmF2aWdhdGlvbiA9IGZhbHNlKQoJI2VuZAojZW5kCgoKI3NldCAoJHNlYXJjaElkID0gJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdTZWFyY2gnKSkKI3NldCAoJGJhbm5lcklkID0gJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdiYW5uZXInKSkKI3NldCAoJHNlYXJjaEZpZWxkc0lkID0gJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdzZWFyY2hGaWVsZHMnKSkKI3NldCAoJGJhbm5lclNpdGVMaW5rc0lkID0gJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdiYW5uZXJTaXRlTGlua3MnKSkKI3NldCAoJGJhbm5lclVzZXJMaW5rc0lkID0gJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdiYW5uZXJMaW5rcycpKQojc2V0ICgkaGFuZGhlbGRTZWFyY2hGaWVsZHNJZCA9ICRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnaGFuZGhlbGRTZWFyY2hGaWVsZHMnKSkKI3NldCAoJGhhbmRoZWxkQmFubmVyVXNlckxpbmtzSWQgPSAkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ2hhbmRoZWxkQmFubmVyTGlua3MnKSkKI3NldCAoJGhhbmRoZWxkU2VhcmNoRmllbGRzTGlua0lkID0gJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdoYW5kaGVsZFNlYXJjaEZpZWxkc0xpbmsnKSkKI3NldCAoJGhhbmRoZWxkU2l0ZU5hdmlnYXRpb25MaW5rSWQgPSAkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ2hhbmRoZWxkU2l0ZU5hdmlnYXRpb25MaW5rJykpCiNzZXQgKCRoYW5kaGVsZEJhbm5lclVzZXJMaW5rc0xpbmtJZCA9ICRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnaGFuZGhlbGRCYW5uZXJMaW5rc0xpbmsnKSkKI3NldCAoJGhhbmRoZWxkQmFubmVyVXNlckxpbmtzQ291bnRJZCA9ICRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnaGFuZGhlbGRCYW5uZXJMaW5rc0NvdW50JykpCiNzZXQgKCRoYW5kaGVsZFNpdGVMaW5rc0xpbmtJZCA9ICRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnaGFuZGhlbGRTaXRlTGlua3NMaW5rJykpCiNzZXQgKCRoYW5kaGVsZFNpdGVMaW5rc0lkID0gJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdoYW5kaGVsZFNpdGVMaW5rcycpKQoKI3NldCAoJGN1cnJlbnRTZWFjaFF1ZXJ5ID0gJycpCiNzZXQgKCRjdXJyZW50U2VhY2hRdWVyeSA9ICRjb3JlX3YyX2VuY29kaW5nLkh0bWxFbmNvZGUoJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCdxJykpKQoKPGRpdiBjbGFzcz0iYmFubmVyIHNpdGUgI2lmICgkaGFzU2l0ZU5hdmlnYXRpb24pIHdpdGgtc2l0ZS1uYXZpZ2F0aW9uICNlbmQiIGlkPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRiYW5uZXJJZCkiPgoJPGRpdiBjbGFzcz0iYXZhdGFyIj4KCQkjc2V0KCRsb2dvVXJsID0gZmFsc2UpCgkJI3NldCgkbG9nb1VybCA9ICRjb3JlX3YyX3dpZGdldC5HZXRVcmxWYWx1ZSgnbG9nbycsICcnKSkKCQkjaWYgKCRsb2dvVXJsICYmICRsb2dvVXJsICE9ICcnKQoJCQkjc2V0ICgkY3VycmVudFVybCA9IGZhbHNlKQoJCQkjc2V0ICgkY3VycmVudFVybCA9ICRjb3JlX3YyX3VybHMuQ3VycmVudCkKCQkJI3NldCAoJHNob3dIb21lVGlwID0gZmFsc2UpCgkJCSNpZiAoJGN1cnJlbnRVcmwgIT0gJ0hvbWUnKQoJCQkJI3NldCAoJHNob3dIb21lVGlwID0gdHJ1ZSkKCQkJI2VuZAoJCQk8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX3VybHMuSG9tZSgpKSIgdGl0bGU9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NvcmVfU2l0ZVVzZXJOYXZpZ2F0aW9uX0hvbWUnKSkiICNpZiAoJHNob3dIb21lVGlwKSBjbGFzcz0idWktdGlwIiAjZW5kPgoJCQkJJGNvcmVfdjJfdWkuR2V0UmVzaXplZEltYWdlSHRtbCgkbG9nb1VybCwgMTI1LCA0NCwgIiV7IGJvcmRlcj0nMHB4JywgU2NhbGVGYWN0b3IgPSAyIH0iKQoJCQk8L2E+CgkJI2VuZAoJPC9kaXY+CgogICNpZiAoJGNvcmVfdjJfdXJscy5DdXJyZW50ID09ICdIb21lJykKICAgIDxoMSBjbGFzcz0ibmFtZSBoaWRkZW4iPiRjb3JlX3YyX2NvbmZpZ3VyYXRpb24uU2l0ZU5hbWU8L2gxPgogICNlbHNlCiAgICA8ZGl2IGNsYXNzPSJuYW1lIGhpZGRlbiI+JGNvcmVfdjJfY29uZmlndXJhdGlvbi5TaXRlTmFtZTwvZGl2PgogICNlbmQKCgkjaWYgKCRoYXNTaXRlTmF2aWdhdGlvbikKCQkjc2V0ICgkc2l0ZU5hdmlnYXRpb25UeXBlQ2xhc3MgPSAkc2l0ZU5hdmlnYXRpb25UeXBlKQoJCSNpZiAoJHNpdGVOYXZpZ2F0aW9uVHlwZSA9PSAnbXlfZ3JvdXBzJykKCQkJI3NldCAoJHNpdGVOYXZpZ2F0aW9uVHlwZUNsYXNzID0gJ2dyb3VwJykKCQkjZW5kCgkJPGRpdiBjbGFzcz0ibmF2aWdhdGlvbi1saXN0IHNpdGUtbGlua3MiIGlkPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRiYW5uZXJTaXRlTGlua3NJZCkiPgoJCQk8dWw+CgkJCQk8bGkgY2xhc3M9Im5hdmlnYXRpb24tbGlzdC1pdGVtIj4KCQkJCQk8YSBocmVmPSIjIgoJCQkJCQkjc2V0ICgkc2l0ZU5hdmlnYXRpb25DbGFzcyA9ICJzaXRlLW5hdmlnYXRpb24gJHtjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHNpdGVOYXZpZ2F0aW9uVHlwZUNsYXNzKX0gdWktdGlwIikKCQkJCQkJI2lmICgkaXNSZWdpc3RlcmVkKQoJCQkJCQkJJGNvcmVfdjJfdG91clRpcC5SZW5kZXIoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1RvdXJUaXBOYXZpZ2F0aW9uJyksICIleyBDc3NDbGFzcyA9ICRzaXRlTmF2aWdhdGlvbkNsYXNzIH0iKQoJCQkJCQkjZWxzZQoJCQkJCQkJY2xhc3M9IiRzaXRlTmF2aWdhdGlvbkNsYXNzIgoJCQkJCQkjZW5kCgkJCQkJaWQ9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdzaXRlJykpIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnU2l0ZScpPC9hPgoJCQkJPC9saT4KCQkJPC91bD4KCQk8L2Rpdj4KCSNlbmQKCgk8ZmllbGRzZXQgY2xhc3M9InNlYXJjaCIgaWQ9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHNlYXJjaEZpZWxkc0lkKSI+CgkJPHVsIGNsYXNzPSJmaWVsZC1saXN0Ij4KCQkJPGxpIGNsYXNzPSJmaWVsZC1pdGVtIj4KCQkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWRlc2NyaXB0aW9uIGhpZGRlbiI+CgkJCQkJPGxhYmVsPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdTZWFyY2gnKTwvbGFiZWw+CgkJCQk8L3NwYW4+CgkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1pbnB1dCI+CgkJCQkJPGlucHV0IGF1dG9jb21wbGV0ZT0ib2ZmIiB0eXBlPSJzZWFyY2giIHBsYWNlaG9sZGVyPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdTZWFyY2gnKSkiIGlkPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRzZWFyY2hJZCkiIHZhbHVlPSIkIWN1cnJlbnRTZWFjaFF1ZXJ5IiAjaWYgKCRpc1JlZ2lzdGVyZWQpICRjb3JlX3YyX3RvdXJUaXAuUmVuZGVyKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdUb3VyVGlwU2VhcmNoJykpICNlbmQgIC8+CgkJCQk8L3NwYW4+CgkJCTwvbGk+CgkJPC91bD4KCTwvZmllbGRzZXQ+CgoJI3NldCAoJGJhbm5lckxpbmtzID0gJGxpbmtzLlZhbHVlcygnTGluaycpKQoJI3NldCAoJHJldmVyc2VkTGlua3MgPSAkYmFubmVyTGlua3MuUmV2ZXJzZSgpKQoJI2ZvcmVhY2goJGxpbmsgaW4gJGJhbm5lckxpbmtzKQoJCSNiZWZvcmVhbGwKCQkJPGRpdiBjbGFzcz0ibmF2aWdhdGlvbi1saXN0IHVzZXItbGlua3MiIGlkPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRiYW5uZXJVc2VyTGlua3NJZCkiPgoJCQkJPHVsPgoJCSNlYWNoCgkJCSNzZXQoJHVybCA9IGZhbHNlKQoJCQkjaWYoJGxpbmsgPT0gJ0Jvb2ttYXJrcycgJiYgJGlzUmVnaXN0ZXJlZCkKCQkJCTxsaSBjbGFzcz0ibmF2aWdhdGlvbi1saXN0LWl0ZW0iPgoJCQkJCTxhIGhyZWY9IiMiICNpZiAoJGlzUmVnaXN0ZXJlZCkgJGNvcmVfdjJfdG91clRpcC5SZW5kZXIoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1RvdXJUaXBCb29rbWFya3MnKSwgIiV7IENzc0NsYXNzID0gJ2Jvb2ttYXJrcyB1aS10aXAnIH0iKSAjZW5kIGlkPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ2Jvb2ttYXJrcycpIiB0aXRsZT0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQm9va21hcmtzJykpIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQm9va21hcmtzJyk8L2E+CgkJCQk8L2xpPgoJCQkJI3NldCAoJGhhc0xpbmtzID0gdHJ1ZSkKCgkJCQkjIyBidWlsZCBkeW5hbWljIGxpc3RzIG9mIGFsbCBjb250ZW50IHR5cGVzLCBhcHBsaWNhdGlvbiB0eXBlcywgYW5kIGNvbnRhaW5lciB0eXBlcyBmb3IgZmlsdGVyaW5nCgkJCQkjc2V0ICgkYWxsQ29udGVudFR5cGVzID0gJGNvcmVfdjJfY29udGVudFR5cGUuTGlzdCgpKQoJCQkJI3NldCAoJGNvbnRlbnRUeXBlcyA9ICIiKQoJCQkJI3NldCAoJGFwcGxpY2F0aW9uQ29udGVudFR5cGVzID0gIiIpCgkJCQkjc2V0ICgkY29udGFpbmVyQ29udGVudFR5cGVzID0gIiIpCgkJCQkjZm9yZWFjaCAoJHR5cGUgaW4gJGFsbENvbnRlbnRUeXBlcykKCQkJCQkjaWYgKCRjb3JlX3YyX2Jvb2ttYXJrLlN1cHBvcnRzQm9va21hcmtzKCR0eXBlLklkKSkKCQkJCQkJI3NldCAoJGNvbnRhaW5lclR5cGUgPSBmYWxzZSkKCQkJCQkJI3NldCAoJGNvbnRhaW5lclR5cGUgPSAkY29yZV92Ml9jb250YWluZXJUeXBlLkdldCgkdHlwZS5JZCkpCgkJCQkJCSNpZiAoJGNvbnRhaW5lclR5cGUgJiYgJGNvbnRhaW5lclR5cGUuSWQpCgkJCQkJCQkjc2V0ICgkY29udGFpbmVyQ29udGVudFR5cGVzID0gIiR7Y29udGFpbmVyQ29udGVudFR5cGVzfSR7dHlwZS5JZH06JHt0eXBlLk5hbWV9LCIpCgkJCQkJCSNlbHNlCgkJCQkJCQkjc2V0ICgkYXBwbGljYXRpb25UeXBlID0gZmFsc2UpCgkJCQkJCQkjc2V0ICgkYXBwbGljYXRpb25UeXBlID0gJGNvcmVfdjJfYXBwbGljYXRpb25UeXBlLkdldCgkdHlwZS5JZCkpCgkJCQkJCQkjaWYgKCRhcHBsaWNhdGlvblR5cGUgJiYgJGFwcGxpY2F0aW9uVHlwZS5JZCkKCQkJCQkJCQkjc2V0ICgkYXBwbGljYXRpb25Db250ZW50VHlwZXMgPSAiJHthcHBsaWNhdGlvbkNvbnRlbnRUeXBlc30ke3R5cGUuSWR9LCIpCgkJCQkJCQkjZWxzZQoJCQkJCQkJCSNzZXQgKCRjb250ZW50VHlwZXMgPSAiJHtjb250ZW50VHlwZXN9JHt0eXBlLklkfSwiKQoJCQkJCQkJI2VuZAoJCQkJCQkjZW5kCgkJCQkJI2VuZAoJCQkJI2VuZAoKCQkJI2Vsc2VpZigkbGluayA9PSAnTm90aWZpY2F0aW9ucycgJiYgJGlzUmVnaXN0ZXJlZCkKCQkJCTxsaSBjbGFzcz0ibmF2aWdhdGlvbi1saXN0LWl0ZW0iPgoJCQkJCTxhIGhyZWY9IiMiICNpZiAoJGlzUmVnaXN0ZXJlZCkgJGNvcmVfdjJfdG91clRpcC5SZW5kZXIoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1RvdXJUaXBOb3RpZmljYXRpb25zJyksICIleyBDc3NDbGFzcyA9ICdub3RpZmljYXRpb25zIHVpLXRpcCcgfSIpICNlbmQgaWQ9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnbm90aWZpY2F0aW9ucycpIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTm90aWZpY2F0aW9ucycpPC9hPgoJCQkJPC9saT4KCQkJCSNzZXQgKCRoYXNMaW5rcyA9IHRydWUpCgkJCQkjc2V0ICgkb3B0aW9ucyA9ICIleyBJc1JlYWQgPSAnRmFsc2UnLCBQYWdlU2l6ZSA9IDEgfSIpCgkJCQkjc2V0ICgkY29udmVyc2F0aW9uTWVzc2FnZU5vdGlmaWNhdGlvbkZpbHRlck5hbWUgPSAiX0ZpbHRlcnNfJHtjb3JlX3YyX2NvbnZlcnNhdGlvbk1lc3NhZ2UuTm90aWZpY2F0aW9uVHlwZUlkfSIpCgkJCQkkb3B0aW9ucy5BZGQoJGNvbnZlcnNhdGlvbk1lc3NhZ2VOb3RpZmljYXRpb25GaWx0ZXJOYW1lLCAnRXhjbHVkZScpCgkJCQkjc2V0ICgkbm90aWZpY2F0aW9uc1VucmVhZCA9ICRjb3JlX3YyX25vdGlmaWNhdGlvbi5MaXN0KCRvcHRpb25zKS5Ub3RhbENvdW50KQoJCQkjZWxzZWlmKCRsaW5rID09ICdVc2VyJykKCQkJCSNpZiAoJGlzUmVnaXN0ZXJlZCkKCQkJCQk8bGkgY2xhc3M9Im5hdmlnYXRpb24tbGlzdC1pdGVtIj4KCQkJCQkJPGEgaHJlZj0iIyIgI2lmICgkaXNSZWdpc3RlcmVkKSAkY29yZV92Ml90b3VyVGlwLlJlbmRlcigkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnVG91clRpcFByb2ZpbGUnKSwgIiV7IENzc0NsYXNzID0gJ2ludGVybmFsLWxpbmsgdXNlciB1aS10aXAnIH0iKSAjZW5kIGlkPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgndXNlcicpKSIgdGl0bGU9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfdXNlci5BY2Nlc3NpbmcuRGlzcGxheU5hbWUpIj4KCQkJCQkJCSRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJHVzZXIuQXZhdGFyVXJsLCAyMCwgMjAsICIleyBSZXNpemVNZXRob2QgPSAnWm9vbUFuZENyb3AnIH0iKQoJCQkJCQkJIyMgJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ3VzZXInKQoJCQkJCQk8L2E+CgkJCQkJPC9saT4KCQkJCQkjc2V0KCRoYXNMaW5rcyA9IHRydWUpCgkJCQkjZWxzZQoJCQkJCSNzZXQoJHVybCA9ICRjb3JlX3YyX3VybHMuTG9naW4oKSkKCQkJCQkjaWYgKCR1cmwpCgkJCQkJCTxsaSBjbGFzcz0ibmF2aWdhdGlvbi1saXN0LWl0ZW0iPgoJCQkJCQkJPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkdXJsKSIgJGNvcmVfdjJfdG91clRpcC5SZW5kZXIoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1RvdXJUaXBTaWduSW4nKSwgIiV7IENzc0NsYXNzID0gJ2ludGVybmFsLWxpbmsgdXNlciB3aXRoLWljb24gdWktdGlwJyB9IikgdGl0bGU9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0pvaW5TaWduSW4nKSkiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCd1c2VyJyk8L2E+CgkJCQkJCTwvbGk+CgkJCQkJCSNzZXQoJGhhc0xpbmtzID0gdHJ1ZSkKCQkJCQkjZW5kCgkJCQkjZW5kCgkJCSNlbHNlaWYoJGxpbmsgPT0gJ0luYm94JyAmJiAkaXNSZWdpc3RlcmVkKQoJCQkJI3NldCgkdXJsID0gJGNvcmVfdjJfdXJscy5Db252ZXJzYXRpb25zKCkpCgkJCQkjaWYgKCR1cmwpCgkJCQkJI3NldCgkY29udmVyc2F0aW9uc1VucmVhZCA9ICRjb3JlX3YyX2NvbnZlcnNhdGlvbi5VbnJlYWRDb3VudCgpKQoJCQkJCTxsaSBjbGFzcz0ibmF2aWdhdGlvbi1saXN0LWl0ZW0iPgoJCQkJCQk8YSBocmVmPSIjIiAjaWYgKCRpc1JlZ2lzdGVyZWQpICRjb3JlX3YyX3RvdXJUaXAuUmVuZGVyKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdUb3VyVGlwTWVzc2FnZXMnKSwgIiV7IENzc0NsYXNzID0gJ2NvbnZlcnNhdGlvbnMgdWktdGlwJyB9IikgI2VuZCBpZD0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdjb252ZXJzYXRpb25zJykiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDb252ZXJzYXRpb25zX0luYm94Jyk8L2E+CgkJCQkJPC9saT4KCQkJCQkjc2V0KCRoYXNMaW5rcyA9IHRydWUpCgkJCQkjZW5kCgkJCSNlbmQKCQkjYWZ0ZXJhbGwKCQkJCTwvdWw+CgkJCTwvZGl2PgoJI2VuZAoKCTxkaXYgY2xhc3M9Im5hdmlnYXRpb24tbGlzdCBoYW5kaGVsZCI+CgkJPHVsPgoJCQk8bGkgY2xhc3M9Im5hdmlnYXRpb24tbGlzdC1pdGVtIj4KCQkJCTxhIGhyZWY9IiMiIGNsYXNzPSJzaXRlIiBpZD0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkaGFuZGhlbGRTaXRlTGlua3NMaW5rSWQpIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnU2l0ZScpPC9hPgoJCQk8L2xpPgoJCQk8bGkgY2xhc3M9Im5hdmlnYXRpb24tbGlzdC1pdGVtIj4KCQkJCTxhIGhyZWY9IiMiIGNsYXNzPSJzZWFyY2giIGlkPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRoYW5kaGVsZFNlYXJjaEZpZWxkc0xpbmtJZCkiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdTZWFyY2gnKTwvYT4KCQkJPC9saT4KCQkJPGxpIGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QtaXRlbSI+CgkJCQkjaWYgKCRpc1JlZ2lzdGVyZWQpCgkJCQkJPGEgaHJlZj0iIyIgY2xhc3M9InBvcHVwLWxpc3QtY291bnQiIGlkPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRoYW5kaGVsZEJhbm5lclVzZXJMaW5rc0NvdW50SWQpIj48L2E+CgkJCQkJPGEgaHJlZj0iIyIgY2xhc3M9InVzZXIgbG9nZ2VkLWluIiBpZD0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkaGFuZGhlbGRCYW5uZXJVc2VyTGlua3NMaW5rSWQpIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgndXNlcicpPC9hPgoJCQkJI2Vsc2UKCQkJCQkjc2V0KCR1cmwgPSAkY29yZV92Ml91cmxzLkxvZ2luKCkpCgkJCQkJI2lmICgkdXJsKQoJCQkJCQk8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCR1cmwpIiBjbGFzcz0idXNlciI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ3VzZXInKTwvYT4KCQkJCQkjZW5kCgkJCQkjZW5kCgkJCTwvbGk+CgkJPC91bD4KCTwvZGl2PgoJPGRpdiBjbGFzcz0iY29udGFpbmVyIGhhbmRoZWxkIj4KCQk8ZmllbGRzZXQgY2xhc3M9InNlYXJjaCIgc3R5bGU9ImRpc3BsYXk6bm9uZSIgaWQ9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGhhbmRoZWxkU2VhcmNoRmllbGRzSWQpIj48L2ZpZWxkc2V0PgoJCTxkaXYgY2xhc3M9InVzZXItbGlua3MiIHN0eWxlPSJkaXNwbGF5Om5vbmUiIGlkPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRoYW5kaGVsZEJhbm5lclVzZXJMaW5rc0lkKSI+PC9kaXY+Cgk8L2Rpdj4KCjwvZGl2PgoKI3JlZ2lzdGVyRW5kT2ZQYWdlSHRtbCgndGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLnNpdGVCYW5uZXInKQogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml93aWRnZXQuR2V0RmlsZVVybCgndWkuY3NzJykpIj4KCgk8c2NyaXB0IHR5cGU9InRleHQvaHRtbCIgaWQ9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJG5vdGlmaWNhdGlvblByZWZlcmVuY2VUZW1wbGF0ZSkiPgoJCTxkaXYgY2xhc3M9Im5vdGlmaWNhdGlvbi1wcmVmZXJlbmNlIj4KCQkJPHNwYW4gY2xhc3M9ImRlc2NyaXB0aW9uIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnVHVybk9mZlF1ZXN0aW9uJykgPHN0cm9uZz48JTogbm90aWZpY2F0aW9uVHlwZU5hbWUgJT48L3N0cm9uZz4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnVHVybk9mZlF1ZXN0aW9uU3VmZml4Jyk8L3NwYW4+CgkJCTxhIGhyZWY9IiMiIGNsYXNzPSJjb25maXJtIGludGVybmFsLWxpbmsgYnV0dG9uIHN1Ym1pdC1idXR0b24iIGRhdGEtbm90aWZpY2F0aW9udHlwZWlkPSI8JTogbm90aWZpY2F0aW9uVHlwZUlkICU+Ij4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnVHVybk9mZicpPC9hPgoJCQk8YSBocmVmPSIjIiBjbGFzcz0iY2FuY2VsIGludGVybmFsLWxpbmsgYnV0dG9uIHN1Ym1pdC1idXR0b24iPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDYW5jZWwnKTwvYT4KCQk8L2Rpdj4KCTwvc2NyaXB0PgoKCgk8c2NyaXB0IHR5cGU9InRleHQvaHRtbCIgaWQ9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGxpc3RUZW1wbGF0ZSkiPgoJCTxkaXY+CgkJCTxkaXYgY2xhc3M9Im11bHRpcGxlLWNvbHVtbi1saXN0IGNvbHVtbnMtMSI+CgkJCQk8ZGl2IGNsYXNzPSJtdWx0aXBsZS1jb2x1bW4taXRlbSBjb2x1bW4tMSI+CgkJCQkJPHVsIGNsYXNzPSJjb250ZW50LWxpc3QgY29udGVudCI+CgkJCQkJPC91bD4KCQkJCQk8ZGl2IGNsYXNzPSJsb2FkaW5nIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnbG9hZGluZycpPC9kaXY+CgkJCQkJPCUgaWYoZm9vdGVyQ29udGVudCkgeyAlPgoJCQkJCQk8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtZm9vdGVyIj4KCQkJCQkJCTwlPSBmb290ZXJDb250ZW50ICU+CgkJCQkJCTwvZGl2PgoJCQkJCTwlIH0gJT4KCQkJCTwvZGl2PgoJCQk8L2Rpdj4KCQk8L2Rpdj4KCTwvc2NyaXB0PgoKCgk8c2NyaXB0IHR5cGU9InRleHQvaHRtbCIgaWQ9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGJvb2ttYXJrRmlsdGVyVGVtcGxhdGUpIj4KCgkJPHVsIGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QgZmlsdGVyIj4KCQkJPCUgaWYoY29udGVudFR5cGVJZHMgJiYgY29udGVudFR5cGVJZHMubGVuZ3RoID4gMCkgeyAlPgoJCQkJPGxpIGNsYXNzPSJuYXZpZ2F0aW9uLWl0ZW0gY29udmVyc2F0aW9ucyI+CgkJCQkJPGEgY2xhc3M9ImludGVybmFsLWxpbmsiIGhyZWY9IiMiIGRhdGEtY29udGVudHR5cGVpZHM9IjwlOiBjb250ZW50VHlwZUlkcyAlPiI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0Jvb2ttYXJrX0ZpbHRlcl9Db250ZW50Jyk8L2E+CgkJCQk8L2xpPgoJCQk8JSB9ICU+CgkJCTwlIGlmKGFwcGxpY2F0aW9uQ29udGVudFR5cGVJZHMgJiYgYXBwbGljYXRpb25Db250ZW50VHlwZUlkcy5sZW5ndGggPiAwKSB7ICU+CgkJCQk8bGkgY2xhc3M9Im5hdmlnYXRpb24taXRlbSBjb252ZXJzYXRpb25zIj4KCQkJCQk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayIgaHJlZj0iIyIgZGF0YS1jb250ZW50dHlwZWlkcz0iPCU6IGFwcGxpY2F0aW9uQ29udGVudFR5cGVJZHMgJT4iPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdCb29rbWFya19GaWx0ZXJfQXBwbGljYXRpb24nKTwvYT4KCQkJCTwvbGk+CgkJCTwlIH0gJT4KCQkJPCUgaWYoY29udGFpbmVyVHlwZXMgJiYgY29udGFpbmVyVHlwZXMubGVuZ3RoID4gMCkgeyAlPgoJCQkJPCUgZm9yZWFjaChjb250YWluZXJUeXBlcywgZnVuY3Rpb24oY29udGFpbmVyVHlwZSkgeyAgJT4KCQkJCQk8bGkgY2xhc3M9Im5hdmlnYXRpb24taXRlbSBjb252ZXJzYXRpb25zIj4KCQkJCQkJPGEgY2xhc3M9ImludGVybmFsLWxpbmsiIGhyZWY9IiMiIGRhdGEtY29udGVudHR5cGVpZHM9IjwlOiBjb250YWluZXJUeXBlLmlkICU+Ij48JTogY29udGFpbmVyVHlwZS5uYW1lICU+PC9hPgoJCQkJCTwvbGk+CgkJCQk8JSB9KTsgJT4KCQkJPCUgfSAlPgoJCTwvdWw+CgoJPC9zY3JpcHQ+CgoJPHNjcmlwdCB0eXBlPSJ0ZXh0L2h0bWwiIGlkPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRub3RpZmljYXRpb25GaWx0ZXJUZW1wbGF0ZSkiPgoJCTx1bCBjbGFzcz0ibmF2aWdhdGlvbi1saXN0IGZpbHRlciI+CgkJCTxsaSBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtIGFsbCI+CgkJCQk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayIgaHJlZj0iIyIgZGF0YS1maWx0ZXI9ImFsbCI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ05vdGlmaWNhdGlvbl9GaWx0ZXJfQWxsJyk8L2E+CgkJCTwvbGk+CgkJCTxsaSBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtIHVucmVhZCI+CgkJCQk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayIgaHJlZj0iIyIgZGF0YS1maWx0ZXI9InVucmVhZCI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ05vdGlmaWNhdGlvbl9GaWx0ZXJfVW5yZWFkJyk8L2E+CgkJCTwvbGk+CgkJPC91bD4KCTwvc2NyaXB0PgoKCTxzY3JpcHQgdHlwZT0idGV4dC9odG1sIiBpZD0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkc2VhcmNoRmlsdGVyVGVtcGxhdGUpIj4KCQk8JSBpZihwbGFjZXMgJiYgcGxhY2VzLmxlbmd0aCA+IDApIHsgJT4KCQkJPHVsIGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QgZmlsdGVyIj4KCQkJCTwlIGZvcmVhY2gocGxhY2VzLCBmdW5jdGlvbihwbGFjZSkgeyAlPgoJCQkJCTxsaSBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtIj4KCQkJCQkJPGEgY2xhc3M9InBsYWNlIGludGVybmFsLWxpbmsiIGhyZWY9IiMiIGRhdGEta2V5PSI8JTogcGxhY2Uua2V5ICU+IiBkYXRhLXZhbHVlPSI8JTogcGxhY2UudmFsdWUgJT4iIGRhdGEtc2VhcmNocGFyYW09IjwlOiBwbGFjZS5zZWFyY2hQYXJhbWV0ZXIgJT4iIGRhdGEtc2VhcmNodmFsdWU9IjwlOiBwbGFjZS5zZWFyY2hWYWx1ZSAlPiI+PCU9IHBsYWNlLm5hbWUgJT48L2E+CgkJCQk8JSB9KTsgJT4KCQkJPC91bD4KCQk8JSB9ICU+CgoJCTwlIGlmKGZpbHRlcnMgJiYgZmlsdGVycy5sZW5ndGggPiAwKSB7ICU+CgkJCTx1bCBjbGFzcz0ibmF2aWdhdGlvbi1saXN0IGZpbHRlciI+CgkJCTwlIGZvcmVhY2goZmlsdGVycywgZnVuY3Rpb24oZmlsdGVyKSB7ICAlPgoJCQkJPGxpIGNsYXNzPSJuYXZpZ2F0aW9uLWl0ZW0iPgoJCQkJCTxhIGNsYXNzPSJ0eXBlIGludGVybmFsLWxpbmsiIGhyZWY9IiMiIGRhdGEta2V5PSI8JTogZmlsdGVyLmtleSAlPiI+PCU9IGZpbHRlci5uYW1lICU+PC9hPgoJCQkJPC9saT4KCQkJPCUgfSk7ICU+CgkJCTwvdWw+CgkJPCUgfSAlPgoJPC9zY3JpcHQ+CgoJPHNjcmlwdCB0eXBlPSJ0ZXh0L2h0bWwiIGlkPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCR1c2VyVGVtcGxhdGUpIj4KCQk8ZGl2IGNsYXNzPSJ1c2VyIj4KCQkJPGRpdiBjbGFzcz0iYXZhdGFyIj4KCQkJCTxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHVzZXIuUHJvZmlsZVVybCkiPgoJCQkJCSRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJHVzZXIuQXZhdGFyVXJsLCA0MCwgNDAsICIleyBSZXNpemVNZXRob2QgPSAnWm9vbUFuZENyb3AnIH0iKQoJCQkJPC9hPgoJCQk8L2Rpdj4KCQkJPHNwYW4gY2xhc3M9InVzZXItbmFtZSI+CgkJCQk8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCR1c2VyLlByb2ZpbGVVcmwpIj4kY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCR1c2VyLkRpc3BsYXlOYW1lKTwvYT4KCQkJPC9zcGFuPgoKCQkJI3NldCgkYXV0aFR5cGUgPSBmYWxzZSkKCQkJI3NldCgkYXV0aFR5cGUgPSAkY29yZV92Ml9hdXRoZW50aWNhdGlvbi5HZXRMYXN0TG9naW5UeXBlKCkpCgkJCSNpZiAoJGF1dGhUeXBlICYmICRhdXRoVHlwZSAhPSAnJykKCQkJCSNzZXQoJG9hdGhQcm92aWRlciA9IGZhbHNlKQoJCQkJI3NldCgkb2F0aFByb3ZpZGVyID0gJGNvcmVfdjJfYXV0aGVudGljYXRpb24uR2V0T0F1dGhQcm92aWRlcigkYXV0aFR5cGUpKQoJCQkJI2lmICgkb2F0aFByb3ZpZGVyKQoJCQkJCTxzcGFuIGNsYXNzPSJvYXV0aC1wcm92aWRlciI+CgkJCQkJCSRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJG9hdGhQcm92aWRlci5JY29uVXJsLCAxOCwgMTgsICIleyBib3JkZXI9JzAnLCBhbHQgPSAkb2F0aFByb3ZpZGVyLkNsaWVudE5hbWUsIGNsYXNzID0gJ3VpLXRpcCcsIFJlc2l6ZU1ldGhvZCA9ICdab29tQW5kQ3JvcCcgfSIpCgkJCQkJPC9zcGFuPgoJCQkJI2VuZAoJCQkjZW5kCgkJPC9kaXY+CgoJCSNzZXQoJGhhc1VzZXJMaW5rcyA9IHRydWUpCgkJI3NldCAoJHVzZXJMaW5rcyA9ICRsaW5rcy5WYWx1ZXMoJ0xpbmsnKSkKCQkjZm9yZWFjaCgkbGluayBpbiAkdXNlckxpbmtzKQoJCSNiZWZvcmVhbGwKCQkJPHVsIGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QgdXNlciI+CgkJI2VhY2gKCQkJI2lmKCRsaW5rID09ICdVc2VySW5mb3JtYXRpb24nKQoJCQkJI3NldCgkdXJsID0gZmFsc2UpCgkJCQkjc2V0KCR1cmwgPSAkdXNlci5Qcm9maWxlVXJsKQoJCQkJI2lmICgkdXJsKQoJCQkJCTxsaSBjbGFzcz0ibmF2aWdhdGlvbi1saXN0LWl0ZW0iPgoJCQkJCQk8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCR1c2VyLlByb2ZpbGVVcmwpIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTGlua3NfVXNlcl9Qcm9maWxlJyk8L2E+CgkJCQkJPC9saT4KCQkJCQkjc2V0KCRoYXNVc2VyTGlua3MgPSB0cnVlKQoJCQkJI2VuZAoJCQkjZWxzZWlmKCRsaW5rID09ICdTZXR0aW5ncycpCgkJCQkjc2V0KCR1cmwgPSBmYWxzZSkKCQkJCSNzZXQoJHVybCA9ICRjb3JlX3YyX3VybHMuU2V0dGluZ3MoKSkKCQkJCSNpZiAoJHVybCkKCQkJCQk8bGkgY2xhc3M9Im5hdmlnYXRpb24tbGlzdC1pdGVtIj4KCQkJCQkJPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkdXJsKSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0xpbmtzX1VzZXJfU2V0dGluZ3MnKTwvYT4KCQkJCQk8L2xpPgoJCQkJCSNzZXQoJGhhc1VzZXJMaW5rcyA9IHRydWUpCgkJCQkjZW5kCgkJCSNlbHNlaWYoJGxpbmsgPT0gJ0ludml0ZScpCgkJCQkjc2V0KCR1cmwgPSBmYWxzZSkKCQkJCSNzZXQoJHVybCA9ICRjb3JlX3YyX3VybHMuSW52aXRlKCkpCgkJCQkjaWYgKCR1cmwpCgkJCQkJPGxpIGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QtaXRlbSI+CgkJCQkJCTxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHVybCkiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdMaW5rc19Vc2VyX0ludml0ZScpPC9hPgoJCQkJCTwvbGk+CgkJCQkJI3NldCgkaGFzVXNlckxpbmtzID0gdHJ1ZSkKCQkJCSNlbmQKCQkJI2Vsc2VpZigkbGluayA9PSAnU2lnbk91dCcpCgkJCQkjc2V0KCR1cmwgPSBmYWxzZSkKCQkJCSNzZXQoJHVybCA9ICRjb3JlX3YyX3VybHMuTG9nT3V0KCkpCgkJCQkjaWYgKCR1cmwpCgkJCQkJPGxpIGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QtaXRlbSBsb2dvdXQiPgoJCQkJCQk8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCR1cmwpIiBjbGFzcz0iaW50ZXJuYWwtbGluayBsb2dvdXQiPgoJCQkJCQkJI2lmKCRpc0ltcGVyc29uYXRlZCkkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnU3RvcEltcGVyc29uYXRpbmcnKSNlbHNlJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0xpbmtzX1VzZXJfTG9nb3V0JykjZW5kCgkJCQkJCTwvYT4KCQkJCQk8L2xpPgoJCQkJCSNzZXQoJGhhc1VzZXJMaW5rcyA9IHRydWUpCgkJCQkjZW5kCgkJCSNlbmQKCQkjYWZ0ZXJhbGwKCQkJPC91bD4KCQkjZW5kCgk8L3NjcmlwdD4KCgk8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX3dpZGdldC5HZXRGaWxlVXJsKCd1aS5qcycpKSI+PC9zY3JpcHQ+CiNlbmQKI3JlZ2lzdGVyRW5kT2ZQYWdlSHRtbCgpCgk8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CgkJI3NldCgkRFEgPSAnIicpCgoJCSNzZXQoJGNvbnZlcnNhdGlvbkxpc3RGb290ZXJDb250ZW50ID0gIjxhIGhyZWY9JHtEUX0ke2NvcmVfdjJfdXJscy5Db252ZXJzYXRpb25zKCl9JHtEUX0gY2xhc3M9JHtEUX1sZWZ0JHtEUX0+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NvbnZlcnNhdGlvbnNfTW9yZScpPC9hPjxhIGhyZWY9JHtEUX0jJHtEUX0gZGF0YS1tZXNzYWdlbmFtZT0ke0RRfXdpZGdldC4ke2NvcmVfdjJfd2lkZ2V0LldyYXBwZXJFbGVtZW50SWR9LnN0YXJ0Y29udmVyc2F0aW9uJHtEUX0gY2xhc3M9JHtEUX1yaWdodCR7RFF9PiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDb252ZXJzYXRpb25fU2VuZCcpPC9hPiIpCgoKCQkjc2V0KCRub3RpZmljYXRpb25TZXR0aW5nc1VybCA9ICRjb3JlX3YyX3VybHMuU2V0dGluZ3MoKSkKCQkjc2V0KCRub3RpZmljYXRpb25MaXN0Rm9vdGVyQ29udGVudCA9ICI8YSBocmVmPSR7RFF9IyR7RFF9IGNsYXNzPSR7RFF9bWFyay1yZWFkIGxlZnQke0RRfSAjaWYgKCRub3RpZmljYXRpb25zVW5yZWFkID09IDApIHN0eWxlPSR7RFF9ZGlzcGxheTpub25lJHtEUX0gI2VuZD4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTm90aWZpY2F0aW9uc19NYXJrJyk8L2E+PGEgY2xhc3M9JHtEUX1yaWdodCR7RFF9IGhyZWY9JHtEUX0ke25vdGlmaWNhdGlvblNldHRpbmdzVXJsfSR7RFF9PiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdMaW5rc19Vc2VyX1NldHRpbmdzJyk8L2E+IikKCgkJI3NldCgkYm9va21hcmtzVXJsID0gJGNvcmVfdjJfdXJscy5GYXZvcml0ZXMoJGNvcmVfdjJfdXNlci5BY2Nlc3NpbmcuSWQpKQoJCSNzZXQoJGJvb2ttYXJrc0xpc3RGb290ZXJDb250ZW50ID0gIjxhIGNsYXNzPSR7RFF9bGVmdCR7RFF9IGhyZWY9JHtEUX0ke2Jvb2ttYXJrc1VybH0ke0RRfT4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQm9va21hcmtzX01vcmUnKTwvYT4iKQoJCSMjIHBvc3NpYmx5IHNob3cgYm9va21hcmsvdW5ib29rbWFyayBsaW5rCgkJI2lmICgkaXNSZWdpc3RlcmVkICYmICRjdXJyZW50Q29udGVudCAmJiAkdXNlciAmJiAkY3VycmVudENvbnRlbnQuQ29udGVudElkICE9ICR1c2VyLkNvbnRlbnRJZCkKCQkJI3NldCAoJGN1cnJlbnRDb250ZW50Qm9va21hcmsgPSAkY29yZV92Ml9ib29rbWFyay5HZXQoJGN1cnJlbnRDb250ZW50LkNvbnRlbnRJZCkpCgkJCSNpZiAoJGN1cnJlbnRDb250ZW50Qm9va21hcmspCgkJCQkjc2V0ICgkaXNCb29rbWFya2VkID0gdHJ1ZSkKCQkJI2VuZAoJCQkjc2V0ICgkY3VycmVudENvbnRlbnRJZCA9ICRjdXJyZW50Q29udGVudC5Db250ZW50SWQpCgkJCSNzZXQgKCRib29rbWFya0NvbXBvbmVudCA9ICRjb3JlX3YyX3VpLkJvb2ttYXJrKCRjdXJyZW50Q29udGVudC5Db250ZW50SWQsICRjdXJyZW50Q29udGVudC5Db250ZW50VHlwZUlkLCAiJXsgQ3NzQ2xhc3MgPSAncmlnaHQnIH0iKSkKCQkJI3NldCAoJGJvb2ttYXJrc0xpc3RGb290ZXJDb250ZW50ID0gIiR7Ym9va21hcmtzTGlzdEZvb3RlckNvbnRlbnR9JHtib29rbWFya0NvbXBvbmVudH0iKQoJCSNlbmQKCgkJI3NldCgkc2VhcmNoTGlzdEZvb3RlckNvbnRlbnQgPSAiPGEgZGF0YS1tZXNzYWdlbmFtZT0ke0RRfXdpZGdldC4ke2NvcmVfdjJfd2lkZ2V0LldyYXBwZXJFbGVtZW50SWR9LmFkdmFuY2Vkc2VhcmNoJHtEUX0gY2xhc3M9JHtEUX1yaWdodCR7RFF9IGlkPSR7RFF9JGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdhZHZhbmNlZHNlYXJjaCcpJHtEUX0gaHJlZj0ke0RRfSMke0RRfT4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQWR2YW5jZWRfU2VhcmNoJyk8L2E+IikKCgkJalF1ZXJ5KGZ1bmN0aW9uKCl7CgkJCWpRdWVyeS50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMuc2l0ZUJhbm5lci5yZWdpc3Rlcih7CgkJCQl3cmFwcGVyOiAnIyRjb3JlX3YyX3dpZGdldC5XcmFwcGVyRWxlbWVudElkJywKCgkJCQltZXNzYWdlUHJlZml4OiAnd2lkZ2V0LiR7Y29yZV92Ml93aWRnZXQuV3JhcHBlckVsZW1lbnRJZH0uJywKCQkJCWJhbm5lcjogalF1ZXJ5KCcjJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkYmFubmVySWQpJyksCgoJCQkJaGFuZGhlbGRTZWFyY2hGaWVsZHNMaW5rOiBqUXVlcnkoJyMkY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRoYW5kaGVsZFNlYXJjaEZpZWxkc0xpbmtJZCknKSwKCQkJCWhhbmRoZWxkU2VhcmNoRmllbGRzOiBqUXVlcnkoJyMkY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRoYW5kaGVsZFNlYXJjaEZpZWxkc0lkKScpLAoJCQkJaGFuZGhlbGRCYW5uZXJMaW5rc0xpbms6IGpRdWVyeSgnIyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGhhbmRoZWxkQmFubmVyVXNlckxpbmtzTGlua0lkKScpLAoJCQkJaGFuZGhlbGRCYW5uZXJMaW5rczogalF1ZXJ5KCcjJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkaGFuZGhlbGRCYW5uZXJVc2VyTGlua3NJZCknKSwKCQkJCXNlYXJjaEZpZWxkczogalF1ZXJ5KCcjJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkc2VhcmNoRmllbGRzSWQpJyksCgkJCQliYW5uZXJMaW5rczogalF1ZXJ5KCcjJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkYmFubmVyVXNlckxpbmtzSWQpJyksCgkJCQloYW5kaGVsZEJhbm5lckxpbmtzQ291bnQ6IGpRdWVyeSgnIyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGhhbmRoZWxkQmFubmVyVXNlckxpbmtzQ291bnRJZCknKSwKCQkJCWJhbm5lclNpdGVMaW5rczogalF1ZXJ5KCcjJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkYmFubmVyU2l0ZUxpbmtzSWQpJyksCgkJCQloYW5kaGVsZFNpdGVMaW5rc0xpbms6IGpRdWVyeSgnIyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGhhbmRoZWxkU2l0ZUxpbmtzTGlua0lkKScpLAoJCQkJaGFuZGhlbGRTaXRlTGlua3M6IGpRdWVyeSgnIyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGhhbmRoZWxkU2l0ZUxpbmtzSWQpJyksCgoJCQkJbm90aWZpY2F0aW9uc1RlbXBsYXRlOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkbGlzdFRlbXBsYXRlKScsCgkJCQlub3RpZmljYXRpb25zVXJsOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml93aWRnZXQuR2V0RXhlY3V0ZWRGaWxlVXJsKCdub3RpZmljYXRpb25zLnZtJykpJywKCQkJCW5vdGlmaWNhdGlvbnNMaW5rOiBqUXVlcnkoJyMkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ25vdGlmaWNhdGlvbnMnKScpLAoJCQkJbm90aWZpY2F0aW9uc1VucmVhZDogJG5vdGlmaWNhdGlvbnNVbnJlYWQsCgkJCQlub3RpZmljYXRpb25MaXN0Rm9vdGVyQ29udGVudDogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJG5vdGlmaWNhdGlvbkxpc3RGb290ZXJDb250ZW50KScsCgkJCQlub3RpZmljYXRpb25QcmVmZXJlbmNlVGVtcGxhdGU6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRub3RpZmljYXRpb25QcmVmZXJlbmNlVGVtcGxhdGUpJywKCQkJCW5vdGlmaWNhdGlvbnNzVW5yZWFkQ291bnRNZXNzYWdlU2luZ3VsYXI6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdOb3RpZmljYXRpb25zX1VucmVhZENvdW50TWVzc2FnZVNpbmd1bGFyJykpJywKCQkJCW5vdGlmaWNhdGlvbnNzVW5yZWFkQ291bnRNZXNzYWdlUGx1cmFsOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTm90aWZpY2F0aW9uc19VbnJlYWRDb3VudE1lc3NhZ2VQbHVyYWwnKSknLAoJCQkJbm90aWZpY2F0aW9uc0ZpbHRlclRlbXBsYXRlOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkbm90aWZpY2F0aW9uRmlsdGVyVGVtcGxhdGUpJywKCgkJCQljb252ZXJzYXRpb25zVGVtcGxhdGU6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRsaXN0VGVtcGxhdGUpJywKCQkJCWNvbnZlcnNhdGlvbnNVcmw6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX3dpZGdldC5HZXRFeGVjdXRlZEZpbGVVcmwoJ2NvbnZlcnNhdGlvbnMudm0nKSknLAoJCQkJY29udmVyc2F0aW9uc0xpbms6IGpRdWVyeSgnIyRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnY29udmVyc2F0aW9ucycpJyksCgkJCQljb252ZXJzYXRpb25zVW5yZWFkOiAkY29udmVyc2F0aW9uc1VucmVhZCwKCQkJCWNvbnZlcnNhdGlvbk5vdGlmaWNhdGlvblR5cGVJZDogJyRjb3JlX3YyX2NvbnZlcnNhdGlvbk1lc3NhZ2UuTm90aWZpY2F0aW9uVHlwZUlkJywKCQkJCWNvbnZlcnNhdGlvbkxpc3RGb290ZXJDb250ZW50OiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29udmVyc2F0aW9uTGlzdEZvb3RlckNvbnRlbnQpJywKCQkJCWNvbnZlcnNhdGlvbnNVbnJlYWRDb3VudE1lc3NhZ2VTaW5ndWxhcjogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NvbnZlcnNhdGlvbnNfVW5yZWFkQ291bnRNZXNzYWdlU2luZ3VsYXInKSknLAoJCQkJY29udmVyc2F0aW9uc1VucmVhZENvdW50TWVzc2FnZVBsdXJhbDogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NvbnZlcnNhdGlvbnNfVW5yZWFkQ291bnRNZXNzYWdlUGx1cmFsJykpJywKCQkJCWNvbnZlcnNhdGlvbk5ld0NvbnZlcnNhdGlvbk1vZGFsVXJsOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml91cmxzLkFkZENvbnZlcnNhdGlvbigpKScsCgoJCQkJYm9va21hcmtzVGVtcGxhdGU6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRsaXN0VGVtcGxhdGUpJywKCQkJCWJvb2ttYXJrc1VybDogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfd2lkZ2V0LkdldEV4ZWN1dGVkRmlsZVVybCgnYm9va21hcmtzLnZtJykpJywKCQkJCWJvb2ttYXJrc0xpbms6IGpRdWVyeSgnIyRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnYm9va21hcmtzJyknKSwKCQkJCWJvb2ttYXJrc0xpc3RGb290ZXJDb250ZW50OiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkYm9va21hcmtzTGlzdEZvb3RlckNvbnRlbnQpJywKCQkJCWJvb2ttYXJrc0NvbnRlbnRUeXBlczogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvbnRlbnRUeXBlcyknLAoJCQkJYm9va21hcmtzQXBwbGljYXRpb25Db250ZW50VHlwZXM6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRhcHBsaWNhdGlvbkNvbnRlbnRUeXBlcyknLAoJCQkJYm9va21hcmtzQ29udGFpbmVyQ29udGVudFR5cGVzOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29udGFpbmVyQ29udGVudFR5cGVzKScsCgkJCQlib29rbWFya3NGaWx0ZXJUZW1wbGF0ZTogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGJvb2ttYXJrRmlsdGVyVGVtcGxhdGUpJywKCQkJCWJvb2ttYXJrc0lzQm9va21hcmtlZDogI2lmKCRpc0Jvb2ttYXJrZWQpIHRydWUgI2Vsc2UgZmFsc2UgI2VuZCwKCQkJCWJvb2ttYXJrc0N1cnJlbnRDb250ZW50SWQ6ICckY3VycmVudENvbnRlbnRJZCcsCgkJCQlib29rbWFya3NCb29rbWFya3M6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdCb29rbWFya3MnKSknLAoJCQkJYm9va21hcmtBZGRlZDogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0Jvb2ttYXJrX0FkZGVkJykpJywKCQkJCWJvb2ttYXJrUmVtb3ZlZDogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0Jvb2ttYXJrX1JlbW92ZWQnKSknLAoKCQkJCXVzZXJQb3B1cFRlbXBsYXRlOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkbGlzdFRlbXBsYXRlKScsCgkJCQl1c2VyQ29udGVudFRlbXBsYXRlOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkdXNlclRlbXBsYXRlKScsCgkJCQl1c2VyTGluazogalF1ZXJ5KCcjJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCd1c2VyJyknKSwKCgkJCQlzZWFyY2hUZW1wbGF0ZTogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGxpc3RUZW1wbGF0ZSknLAoJCQkJc2VhcmNoVXJsOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml93aWRnZXQuR2V0RXhlY3V0ZWRGaWxlVXJsKCdzZWFyY2gudm0nKSknLAoJCQkJc2VhcmNoSW5wdXQ6IGpRdWVyeSgnIyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJHNlYXJjaElkKScpLAoJCQkJc2VhcmNoRm9vdGVyQ29udGVudDogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJHNlYXJjaExpc3RGb290ZXJDb250ZW50KScsCgkJCQlzZWFyY2hGaWx0ZXJUZW1wbGF0ZTogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJHNlYXJjaEZpbHRlclRlbXBsYXRlKScsCgkJCQlzZWFyY2hBZHZhbmNlZFVybDogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfdXJscy5TZWFyY2goIiV7IFF1ZXJ5U3RyaW5nID0gJ3swfScgfSIpKScsCgkJCQlzZWFyY2hBZHZhbmNlZFVzZXJVcmw6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX3VybHMuVXNlckxpc3QoIiV7IFF1ZXJ5U3RyaW5nID0gJ3swfScgfSIpKScsCgkJCQlzZWFyY2hGaWx0ZXJDb250ZW50TmFtZTogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1NlYXJjaF9GaWx0ZXJfQ29udGVudCcpKScsCgkJCQlzZWFyY2hGaWx0ZXJHcm91cHNOYW1lOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnU2VhcmNoX0ZpbHRlcl9Hcm91cHMnKSknLAoJCQkJc2VhcmNoRmlsdGVyUGVvcGxlTmFtZTogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1NlYXJjaF9GaWx0ZXJfUGVvcGxlJykpJywKCQkJCXNlYXJjaFBsYWNlQXBwbGljYXRpb25JZDogI2lmICgkY3VycmVudEFwcGxpY2F0aW9uKSAnJGN1cnJlbnRBcHBsaWNhdGlvbi5BcHBsaWNhdGlvbklkJyAjZWxzZSBudWxsICNlbmQsCgkJCQlzZWFyY2hQbGFjZUFwcGxpY2F0aW9uTmFtZTogI2lmICgkY3VycmVudEFwcGxpY2F0aW9uKSAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXRTdHJpbmcoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1NlYXJjaF9GaWx0ZXJfSW4nKSwgJGN1cnJlbnRBcHBsaWNhdGlvbi5IdG1sTmFtZSgnJykpKScgI2Vsc2UgbnVsbCAjZW5kLAoJCQkJc2VhcmNoUGxhY2VHcm91cElkOiAjaWYgKCRjdXJyZW50R3JvdXApICckY3VycmVudEdyb3VwLkNvbnRhaW5lcklkJyAjZWxzZSBudWxsICNlbmQsCiAgICAgICAgc2VhcmNoUGxhY2VHcm91cExvY2FsSWQ6ICNpZiAoJGN1cnJlbnRHcm91cCkgJyRjdXJyZW50R3JvdXAuSWQnICNlbHNlIG51bGwgI2VuZCwKCQkJCXNlYXJjaFBsYWNlR3JvdXBOYW1lOiAjaWYgKCRjdXJyZW50R3JvdXApICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdFN0cmluZygkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnU2VhcmNoX0ZpbHRlcl9JbicpLCAkY3VycmVudEdyb3VwLk5hbWUpKScgI2Vsc2UgbnVsbCAjZW5kLAoJCQkJc2VhcmNoUGxhY2VBbnl3aGVyZU5hbWU6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdTZWFyY2hfRmlsdGVyX0FueXdoZXJlJykpJywKCQkJCWFkdmFuY2VkU2VhcmNoSWQ6ICckY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ2FkdmFuY2Vkc2VhcmNoJyknLAoJCQkJc2VhcmNoU2hvd1Blb3BsZTogI2lmKCRjb3JlX3YyX25vZGVQZXJtaXNzaW9uLkdldCgnU2l0ZV9SZWFkUHJvZmlsZXMnKS5Jc0FsbG93ZWQpIHRydWUjZWxzZSBmYWxzZSNlbmQKCgkJCQkjaWYgKCRoYXNTaXRlTmF2aWdhdGlvbikKCQkJCQksc2l0ZU5hdmlnYXRpb25UeXBlOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkc2l0ZU5hdmlnYXRpb25UeXBlKScKCQkJCQksc2l0ZU5hdmlnYXRpb25Vcmw6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRzaXRlTmF2aWdhdGlvblVybCknCgkJCQkJLHNpdGVOYXZpZ2F0aW9uVGVtcGxhdGU6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRsaXN0VGVtcGxhdGUpJwoJCQkJCSxzaXRlTmF2aWdhdGlvbkxpbms6IGpRdWVyeSgnIyRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnc2l0ZScpJykKCQkJCQksc2l0ZU5hdmlnYXRpb25UaXRsZTogICNpZiAoJHNpdGVOYXZpZ2F0aW9uVHlwZSA9PSAnZ3JvdXAnKQoJCQkJCQknJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnbmF2aWdhdGlvbl9ncm91cHMnKSknCgkJCQkJI2Vsc2VpZiAoJHNpdGVOYXZpZ2F0aW9uVHlwZSA9PSAnbXlfZ3JvdXBzJykKCQkJCQkJJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ25hdmlnYXRpb25fbXlfZ3JvdXBzJykpJwoJCQkJCSNlbHNlCgkJCQkJCSckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCduYXZpZ2F0aW9uX2N1c3RvbScpKScKCQkJCQkjZW5kCgkJCQkJI2lmKCRzaXRlTmF2aWdhdGlvblR5cGUgPT0gJ2N1c3RvbScpCgkJCQkJCSxzaXRlTmF2aWdhdGlvbkN1c3RvbUl0ZW1zOgoJCQkJCQkjZm9yZWFjaCgkY3VzdG9tU2l0ZU5hdmlnYXRpb25JdGVtIGluICRjdXN0b21TaXRlTmF2aWdhdGlvbkl0ZW1zKQoJCQkJCQkjYmVmb3JlYWxsCgkJCQkJCQlbCgkJCQkJCSNiZXR3ZWVuCgkJCQkJCQksCgkJCQkJCSNlYWNoCgkJCQkJCQl7CgkJCQkJCQkJbGFiZWw6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjdXN0b21TaXRlTmF2aWdhdGlvbkl0ZW0uTGFiZWwpJywKCQkJCQkJCQl1cmw6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjdXN0b21TaXRlTmF2aWdhdGlvbkl0ZW0uVXJsKScKCQkJCQkJCX0KCQkJCQkJI2FmdGVyYWxsCgkJCQkJCQldCgkJCQkJCSNlbmQKCQkJCQkjZWxzZQoJCQkJCQksc2l0ZU5hdmlnYXRpb25DdXN0b21JdGVtczoKCQkJCQkJI2ZvcmVhY2goJGdyb3VwIGluICRncm91cHMpCgkJCQkJCSNiZWZvcmVhbGwKCQkJCQkJCVsKCQkJCQkJI2JldHdlZW4KCQkJCQkJCSwKCQkJCQkJI2VhY2gKCQkJCQkJCXsKCQkJCQkJCQlsYWJlbDogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGdyb3VwLk5hbWUpJywKCQkJCQkJCQl1cmw6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRncm91cC5VcmwpJwoJCQkJCQkJfQoJCQkJCQkjYWZ0ZXJhbGwKCQkJCQkJCSNpZih0cnVlKSAjKiRncm91cHMuTGVuZ3RoIDwgJGdyb3Vwcy5Ub3RhbExlbmd0aCkqIwoJCQkJCQkJCSx7CgkJCQkJCQkJCWxhYmVsOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnU2l0ZV9OYXZpZ2F0aW9uX0dyb3Vwc19Nb3JlJykpJywKCQkJCQkJCQkJdXJsOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml9ncm91cFVybHMuSG9tZSgpKScKCQkJCQkJCQl9CgkJCQkJCQkjZW5kCgkJCQkJCQldCgkJCQkJCSNlbmQKCQkJCQkjZW5kCgkJCQkjZW5kCgkJCX0pOwoJCX0pOwoJPC9zY3JpcHQ+CiNlbmQ=</file>
			<file name="navigation-v2.vm">I3NldCAoJGxpbmtzID0gJGNvcmVfdjJfcGFnZS5QYXJzZVF1ZXJ5U3RyaW5nKCRjb3JlX3YyX3dpZGdldC5HZXRDdXN0b21WYWx1ZSgnbGlua3MnLCdMaW5rPU5vdGlmaWNhdGlvbnMmYW1wO0xpbms9SW5ib3gmYW1wO0xpbms9Qm9va21hcmtzJmFtcDtMaW5rPVVzZXInKSkpCiNzZXQgKCRoYXNMaW5rcyA9IGZhbHNlKQoKI3NldCAoJHVzZXIgPSAkY29yZV92Ml91c2VyLkFjY2Vzc2luZykKI3NldCAoJGlzUmVnaXN0ZXJlZCA9ICRjb3JlX3YyX3VzZXIuSXNSZWdpc3RlcmVkKCR1c2VyLklkKSkKI3NldCAoJGlzSW1wZXJzb25hdGVkID0gJGNvcmVfdjJfYXV0aGVudGljYXRpb24uSXNJbXBlcnNvbmF0ZWQoKSkKI3NldCAoJGltcGVyc29uYXRvciA9ICRjb3JlX3YyX2F1dGhlbnRpY2F0aW9uLkltcGVyc29uYXRvcigpKQoKI3NldCAoJGxpc3RUZW1wbGF0ZSA9ICdzaXRlLWJhbm5lci1saXN0LXRlbXBsYXRlJykKI3NldCAoJG5vdGlmaWNhdGlvblByZWZlcmVuY2VUZW1wbGF0ZSA9ICdzaXRlLWJhbm5lci1ub3RpZmljYXRpb24tcHJlZmVyZW5jZXMtdGVtcGxhdGUnKQojc2V0ICgkYm9va21hcmtGaWx0ZXJUZW1wbGF0ZSA9ICdzaXRlLWJhbm5lci1ib29rbWFyay1maWx0ZXItdGVtcGxhdGUnKQojc2V0ICgkbm90aWZpY2F0aW9uRmlsdGVyVGVtcGxhdGUgPSAnc2l0ZS1iYW5uZXItbm90aWZpY2F0aW9uLWZpbHRlci10ZW1wbGF0ZScpCiNzZXQgKCR1c2VyVGVtcGxhdGUgPSAnc2l0ZS1iYW5uZXItdXNlci10ZW1wbGF0ZScpCiNzZXQgKCRzZWFyY2hGaWx0ZXJUZW1wbGF0ZSA9ICdzaXRlLWJhbm5lci1zZWFyY2gtZmlsdGVyLXRlbXBsYXRlJykKI3NldCAoJG5vdGlmaWNhdGlvbnNVbnJlYWQgPSAwKQojc2V0ICgkY29udmVyc2F0aW9uc1VucmVhZCA9IDApCiNzZXQgKCRpbmNsdWRlSmF2YXNjcmlwdCA9IGZhbHNlKQojc2V0ICgkaXNCb29rbWFya2VkID0gZmFsc2UpCiNzZXQgKCRjdXJyZW50Q29udGVudElkID0gJycpCgojc2V0ICgkY3VycmVudENvbnRlbnQgPSBmYWxzZSkKI3NldCAoJGN1cnJlbnRDb250ZW50ID0gJGNvcmVfdjJfY29udGVudC5DdXJyZW50KQojc2V0ICgkY3VycmVudEFwcGxpY2F0aW9uID0gZmFsc2UpCiNzZXQgKCRjdXJyZW50QXBwbGljYXRpb24gPSAkY29yZV92Ml9hcHBsaWNhdGlvbi5DdXJyZW50KQojc2V0ICgkY3VycmVudEdyb3VwID0gZmFsc2UpCiNzZXQgKCRjdXJyZW50R3JvdXAgPSAkY29yZV92Ml9ncm91cC5DdXJyZW50KQojc2V0ICgkcm9vdEdyb3VwID0gZmFsc2UpCiNzZXQgKCRyb290R3JvdXAgPSAkY29yZV92Ml9ncm91cC5Sb290KQojaWYgKCRyb290R3JvdXAuSWQgPT0gJGN1cnJlbnRHcm91cC5JZCkKCSNzZXQgKCRjdXJyZW50R3JvdXAgPSBmYWxzZSkKI2VuZAoKIyMgbWFyayBhbnkgdW5yZWFkIG5vdGlmaWNhdGlvbnMgZm9yIHRoZSBjdXJyZW50IHBpZWNlIG9mIGNvbnRlbnQgYXMgcmVhZAojaWYgKCRjdXJyZW50Q29udGVudCAmJiAkaXNSZWdpc3RlcmVkKQoJIyMgZGV0ZWN0IGlmIGN1cnJlbnQgY29udGVudCBpcyBhY3R1YWxseSBhbiBhcHBsaWNhdGlvbgoJI3NldCAoJGlzQXBwbGljYXRpb24gPSBmYWxzZSkKCSNzZXQgKCRhcHBsaWNhdGlvbiA9ICRjdXJyZW50Q29udGVudC5BcHBsaWNhdGlvbikKCSNpZiAoISRhcHBsaWNhdGlvbiB8fCAkYXBwbGljYXRpb24uQXBwbGljYXRpb25JZCA9PSAkY3VycmVudENvbnRlbnQuQ29udGVudElkKQoJCSNzZXQgKCRpc0FwcGxpY2F0aW9uID0gdHJ1ZSkKCSNlbmQKCgkjaWYgKCEkaXNBcHBsaWNhdGlvbikKCQkjIyBsb2FkIGFuZCBtYXJrIGFzIHJlYWQgYW55IHVucmVhZCBub3RpZmljYXRpb25zIGZvciB0aGlzIGNvbnRlbnQKCQkjc2V0ICgkdW5yZWFkQ29udGVudE5vdGlmaWNhdGlvbnMgPSAkY29yZV92Ml9ub3RpZmljYXRpb24uTGlzdCgiJXsgQ29udGVudElkID0gJGN1cnJlbnRDb250ZW50LkNvbnRlbnRJZCwgQ29udGVudFR5cGVJZCA9ICRjdXJyZW50Q29udGVudC5Db250ZW50VHlwZUlkLCBJc1JlYWQgPSAnZmFsc2UnIH0iKSkKCQkjZm9yZWFjaCAoJHVucmVhZE5vdGlmaWNhdGlvbiBpbiAkdW5yZWFkQ29udGVudE5vdGlmaWNhdGlvbnMpCgkJCSNzZXQgKCR1cGRhdGVkTm90aWZpY2F0aW9uID0gJGNvcmVfdjJfbm90aWZpY2F0aW9uLlVwZGF0ZSgkdW5yZWFkTm90aWZpY2F0aW9uLk5vdGlmaWNhdGlvbklkLCAiJXsgTWFya0FzUmVhZCA9ICd0cnVlJyB9IikpCgkJI2VuZAoKCQkjIyBGb3J1bSBSZXBseSBOb3RpZmljYXRpb25zIGFyZSBnZW5lcmFsbHkgbWFkZSBhZ2FpbnN0IEZvcnVtIFRocmVhZHMsIG5vdCBSZXBsaWVzLiBTbyBhbHNvLCBtYXJrIGFueSBub3RpZmljYXRpb25zIGZvciB0aGVpciBwYXJlbnQgdGhyZWFkcywgZXhwbGljaXRseS4KCQkjaWYgKCRjdXJyZW50Q29udGVudC5Db250ZW50VHlwZUlkID09ICRjb3JlX3YyX2ZvcnVtUmVwbHkuQ29udGVudFR5cGVJZCkKCQkJI3NldCAoJGZvcnVtUmVwbHkgPSAkY29yZV92Ml9mb3J1bVJlcGx5LkdldCgkY3VycmVudENvbnRlbnQuQ29udGVudElkKSkKCQkJI2lmICgkZm9ydW1SZXBseSkKCQkJCSNzZXQgKCRmb3J1bVRocmVhZCA9ICRjb3JlX3YyX2ZvcnVtVGhyZWFkLkdldCgkZm9ydW1SZXBseS5UaHJlYWRJZCkpCgkJCQkjaWYgKCRmb3J1bVRocmVhZCkKCQkJCQkjIyBsb2FkIGFuZCBtYXJrIGFzIHJlYWQgYW55IHVucmVhZCBub3RpZmljYXRpb25zIGZvciB0aGlzIGZvcnVtIHRocmVhZAoJCQkJCSNzZXQgKCR1bnJlYWRDb250ZW50Tm90aWZpY2F0aW9ucyA9ICRjb3JlX3YyX25vdGlmaWNhdGlvbi5MaXN0KCIleyBDb250ZW50SWQgPSAkZm9ydW1UaHJlYWQuQ29udGVudElkLCBDb250ZW50VHlwZUlkID0gJGZvcnVtVGhyZWFkLmZvcnVtVGhyZWFkQ29udGVudFR5cGVJZCwgSXNSZWFkID0gJ2ZhbHNlJyB9IikpCgkJCQkJI2ZvcmVhY2ggKCR1bnJlYWROb3RpZmljYXRpb24gaW4gJHVucmVhZENvbnRlbnROb3RpZmljYXRpb25zKQoJCQkJCQkjc2V0ICgkdXBkYXRlZE5vdGlmaWNhdGlvbiA9ICRjb3JlX3YyX25vdGlmaWNhdGlvbi5VcGRhdGUoJHVucmVhZE5vdGlmaWNhdGlvbi5Ob3RpZmljYXRpb25JZCwgIiV7IE1hcmtBc1JlYWQgPSAndHJ1ZScgfSIpKQoJCQkJCSNlbmQKCQkJCSNlbmQKCQkJI2VuZAoJCSNlbmQKCSNlbmQKI2VuZAoKIyMgc2l0ZSBuYXZpZ2F0aW9uCiNzZXQgKCRoYXNTaXRlTmF2aWdhdGlvbiA9IGZhbHNlKQojc2V0ICgkc2l0ZU5hdmlnYXRpb25VcmwgPSAnJykKI3NldCAoJHNpdGVOYXZpZ2F0aW9uVHlwZSA9ICRjb3JlX3YyX3dpZGdldC5HZXRTdHJpbmdWYWx1ZSgnc2l0ZU5hdmlnYXRpb24yJywgJ2V4Y2x1ZGUnKSkKCiNzZXQgKCRzZWFyY2hJZCA9ICRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnU2VhcmNoJykpCiNzZXQgKCRiYW5uZXJJZCA9ICRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnYmFubmVyJykpCiNzZXQgKCRzZWFyY2hGaWVsZHNJZCA9ICRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnc2VhcmNoRmllbGRzJykpCiNzZXQgKCRiYW5uZXJTaXRlTGlua3NJZCA9ICRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnYmFubmVyU2l0ZUxpbmtzJykpCiNzZXQgKCRiYW5uZXJVc2VyTGlua3NJZCA9ICRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnYmFubmVyTGlua3MnKSkKI3NldCAoJGhhbmRoZWxkU2VhcmNoRmllbGRzSWQgPSAkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ2hhbmRoZWxkU2VhcmNoRmllbGRzJykpCiNzZXQgKCRoYW5kaGVsZEJhbm5lclVzZXJMaW5rc0lkID0gJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdoYW5kaGVsZEJhbm5lckxpbmtzJykpCiNzZXQgKCRoYW5kaGVsZFNlYXJjaEZpZWxkc0xpbmtJZCA9ICRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnaGFuZGhlbGRTZWFyY2hGaWVsZHNMaW5rJykpCiNzZXQgKCRoYW5kaGVsZFNpdGVOYXZpZ2F0aW9uTGlua0lkID0gJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdoYW5kaGVsZFNpdGVOYXZpZ2F0aW9uTGluaycpKQojc2V0ICgkaGFuZGhlbGRCYW5uZXJVc2VyTGlua3NMaW5rSWQgPSAkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ2hhbmRoZWxkQmFubmVyTGlua3NMaW5rJykpCiNzZXQgKCRoYW5kaGVsZEJhbm5lclVzZXJMaW5rc0NvdW50SWQgPSAkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ2hhbmRoZWxkQmFubmVyTGlua3NDb3VudCcpKQojc2V0ICgkaGFuZGhlbGRTaXRlTGlua3NMaW5rSWQgPSAkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ2hhbmRoZWxkU2l0ZUxpbmtzTGluaycpKQojc2V0ICgkaGFuZGhlbGRTaXRlTGlua3NJZCA9ICRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnaGFuZGhlbGRTaXRlTGlua3MnKSkKCiNzZXQgKCRjdXJyZW50U2VhY2hRdWVyeSA9ICcnKQojc2V0ICgkY3VycmVudFNlYWNoUXVlcnkgPSAkY29yZV92Ml9lbmNvZGluZy5IdG1sRW5jb2RlKCRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgncScpKSkKCiNpZiAoJHNpdGVWZXJzaW9uID09ICJ2MiIpCiAgICAjc2V0KCRzaXRlU2VhcmNoID0gJGNvcmVfdjJfd2lkZ2V0LkdldEN1c3RvbVZhbHVlKCdzaXRlU2VhcmNoJywgJycpKQogICAgI3NldCgkdXNlUm9vdEZvb3RlciA9ICRjb3JlX3YyX3dpZGdldC5HZXRDdXN0b21WYWx1ZSgndXNlUm9vdEZvb3RlcicsICcnKSkKICAgICNzZXQoJHNpdGVCcmFuZCA9ICRjb3JlX3YyX3dpZGdldC5HZXRDdXN0b21WYWx1ZSgnc2l0ZUJyYW5kJywgJ2RzZycpKQogICAgI3NldCgkbmF2SFRNTCA9ICRjb3JlX3YyX3VpLlJlbmRlcigkY29yZV92Ml93aWRnZXQuR2V0SHRtbFZhbHVlKCduYXZIVE1MJywnJykpKQogICAgI3NldCAoJHV0aWxpdHlEcm9wZG93biA9ICRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgndXRpbGl0eURyb3Bkb3duJykpCiNlbmQKCjxoZWFkZXIgY2xhc3M9Im1hc3RoZWFkIiBpZD0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkYmFubmVySWQpIj4KCTxuYXYgY2xhc3M9Im5hdmJhciIgcm9sZT0ibmF2aWdhdGlvbiI+CgkJPGRpdiBjbGFzcz0idXRpbGl0eS1zZWN0aW9uLXdyYXBwZXIiPgoJCQk8ZGl2IGNsYXNzPSJ1dGlsaXR5LXNlY3Rpb24iPgoJCQkJPGRpdiBjbGFzcz0ibmF2YmFyLWJyYW5kIj4KCQkJCQk8YSBocmVmPSIvIj4KCQkJCQkgICAgI2lmICgkc2l0ZUJyYW5kID09ICJxdWVzdCIpCgkJCQkJCTxpbWcgc3JjPSIvaW1hZ2VzL3NoYXJlZC9xdWVzdC1sb2dvLnBuZyI+CgkJCQkJCSNlbHNlaWYgKCRzaXRlQnJhbmQgPT0gImRzZyIpCgkJCQkJCTxpbWcgc3JjPSIvaW1hZ2VzL3NoYXJlZC9sb2dvLWJsdWUucG5nIj4KCQkJCQkJI2VuZAoJCQkJCTwvYT4KCQkJCTwvZGl2PgoKCQkJCTxkaXYgaWQ9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHNlYXJjaEZpZWxkc0lkKSIgY2xhc3M9InNlYXJjaC1jb250YWluZXIiPgoJCQkJCTxkaXY+CgkJCQkJCTxpbnB1dCBjbGFzcz0ic2VhcmNoLXF1ZXJ5IGZvcm0tY29udHJvbCIgYXV0b2NvbXBsZXRlPSJvZmYiIHR5cGU9InNlYXJjaCIgcGxhY2Vob2xkZXI9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1NlYXJjaCcpKSIgaWQ9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHNlYXJjaElkKSIgdmFsdWU9IiQhY3VycmVudFNlYWNoUXVlcnkiIC8+CgkJCQkJCTxidXR0b24gY2xhc3M9ImJ0biI+CgkJCQkJCQk8aSBjbGFzcz0iZ2x5cGhpY29uIGdseXBoaWNvbi1zZWFyY2giPjwvaT4KCQkJCQkJPC9idXR0b24+CgkJCQkJPC9kaXY+CgkJCQkJPGRpdiBjbGFzcz0iYXV0b2NvbXBsZXRlIj48L2Rpdj4KCQkJCTwvZGl2PgoKCQkJCTxkaXYgY2xhc3M9Im5hdi1jb250YWluZXIiPgoJCQkgICAgI2lmICgkc2l0ZU5hdmlnYXRpb25UeXBlID09ICJyb290IikKCQkJICAgIDxkaXYgY2xhc3M9Im1haW4tbmF2LXNlY3Rpb24iIGRhdGEtYWpheD0idHJ1ZSI+CgkJCSAgICAgICAgPGRpdiBjbGFzcz0ic2hhZG93LW92ZXJsYXktbGVmdCI+PC9kaXY+CgkJCSAgICA8L2Rpdj4KCQkJICAgICNlbHNlaWYgKCRzaXRlTmF2aWdhdGlvblR5cGUgPT0gImN1c3RvbSIpCgkJCSAgICA8ZGl2IGNsYXNzPSJtYWluLW5hdi1zZWN0aW9uIj4KCQkJCQk8ZGl2IGNsYXNzPSJzaGFkb3ctb3ZlcmxheS1sZWZ0Ij48L2Rpdj4KCQkJCQkJJG5hdkhUTUwKCQkJCQk8L2Rpdj4KCQkJCSNlbmQKCQkJCTwvZGl2PgoKCQkJCTx1bCBjbGFzcz0idXRpbGl0eSBkZXNrdG9wIiBpZD0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkYmFubmVyVXNlckxpbmtzSWQpIj4KCQkJCQk8bGkgY2xhc3M9ImRyb3Bkb3duIG1vYmlsZS1zZWFyY2gtYnV0dG9uIHNlYXJjaC1idXR0b24iPgoJCQkJCQk8YSBocmVmPSIjIj4KCQkJCQkJCTxzcGFuIGNsYXNzPSJ0b3Atc2VhcmNoLWljb24iPjxpIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLXNlYXJjaCI+PC9pPjwvc3Bhbj4KCQkJCQkJPC9hPgoJCQkJCTwvbGk+CiAgICAgICAgICAgICNzZXQgKCRiYW5uZXJMaW5rcyA9ICRsaW5rcy5WYWx1ZXMoJ0xpbmsnKSkKICAgICAgICAgICAgI2ZvcmVhY2goJGxpbmsgaW4gJGJhbm5lckxpbmtzKQogICAgICAgICAgICAjYmVmb3JlYWxsCiAgICAgICAgICAgICNlYWNoCiAgICAgICAgICAgICAgI3NldCgkdXJsID0gZmFsc2UpCiAgICAgICAgICAgICAgI2lmKCRsaW5rID09ICdCb29rbWFya3MnICYmICRpc1JlZ2lzdGVyZWQpCiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9Im1vYmlsZSI+CiAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiMiIGNsYXNzPSJib29rbWFya3MiIGlkPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ2Jvb2ttYXJrcycpIiB0aXRsZT0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQm9va21hcmtzJykpIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQm9va21hcmtzJyk8L2E+CiAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgI3NldCAoJGhhc0xpbmtzID0gdHJ1ZSkKCiAgICAgICAgICAgICAgICAjIyBidWlsZCBkeW5hbWljIGxpc3RzIG9mIGFsbCBjb250ZW50IHR5cGVzLCBhcHBsaWNhdGlvbiB0eXBlcywgYW5kIGNvbnRhaW5lciB0eXBlcyBmb3IgZmlsdGVyaW5nCiAgICAgICAgICAgICAgICAjc2V0ICgkYWxsQ29udGVudFR5cGVzID0gJGNvcmVfdjJfY29udGVudFR5cGUuTGlzdCgpKQogICAgICAgICAgICAgICAgI3NldCAoJGNvbnRlbnRUeXBlcyA9ICIiKQogICAgICAgICAgICAgICAgI3NldCAoJGFwcGxpY2F0aW9uQ29udGVudFR5cGVzID0gIiIpCiAgICAgICAgICAgICAgICAjc2V0ICgkY29udGFpbmVyQ29udGVudFR5cGVzID0gIiIpCiAgICAgICAgICAgICAgICAjZm9yZWFjaCAoJHR5cGUgaW4gJGFsbENvbnRlbnRUeXBlcykKICAgICAgICAgICAgICAgICAgI2lmICgkY29yZV92Ml9ib29rbWFyay5TdXBwb3J0c0Jvb2ttYXJrcygkdHlwZS5JZCkpCiAgICAgICAgICAgICAgICAgICAgI3NldCAoJGNvbnRhaW5lclR5cGUgPSBmYWxzZSkKICAgICAgICAgICAgICAgICAgICAjc2V0ICgkY29udGFpbmVyVHlwZSA9ICRjb3JlX3YyX2NvbnRhaW5lclR5cGUuR2V0KCR0eXBlLklkKSkKICAgICAgICAgICAgICAgICAgICAjaWYgKCRjb250YWluZXJUeXBlICYmICRjb250YWluZXJUeXBlLklkKQogICAgICAgICAgICAgICAgICAgICAgI3NldCAoJGNvbnRhaW5lckNvbnRlbnRUeXBlcyA9ICIke2NvbnRhaW5lckNvbnRlbnRUeXBlc30ke3R5cGUuSWR9OiR7dHlwZS5OYW1lfSwiKQogICAgICAgICAgICAgICAgICAgICNlbHNlCiAgICAgICAgICAgICAgICAgICAgICAjc2V0ICgkYXBwbGljYXRpb25UeXBlID0gZmFsc2UpCiAgICAgICAgICAgICAgICAgICAgICAjc2V0ICgkYXBwbGljYXRpb25UeXBlID0gJGNvcmVfdjJfYXBwbGljYXRpb25UeXBlLkdldCgkdHlwZS5JZCkpCiAgICAgICAgICAgICAgICAgICAgICAjaWYgKCRhcHBsaWNhdGlvblR5cGUgJiYgJGFwcGxpY2F0aW9uVHlwZS5JZCkKICAgICAgICAgICAgICAgICAgICAgICAgI3NldCAoJGFwcGxpY2F0aW9uQ29udGVudFR5cGVzID0gIiR7YXBwbGljYXRpb25Db250ZW50VHlwZXN9JHt0eXBlLklkfSwiKQogICAgICAgICAgICAgICAgICAgICAgI2Vsc2UKICAgICAgICAgICAgICAgICAgICAgICAgI3NldCAoJGNvbnRlbnRUeXBlcyA9ICIke2NvbnRlbnRUeXBlc30ke3R5cGUuSWR9LCIpCiAgICAgICAgICAgICAgICAgICAgICAjZW5kCiAgICAgICAgICAgICAgICAgICAgI2VuZAogICAgICAgICAgICAgICAgICAjZW5kCiAgICAgICAgICAgICAgICAjZW5kCgogICAgICAgICAgICAgICNlbHNlaWYoJGxpbmsgPT0gJ05vdGlmaWNhdGlvbnMnICYmICRpc1JlZ2lzdGVyZWQpCiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9Im1vYmlsZSI+CiAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiMiIGNsYXNzPSJub3RpZmljYXRpb25zIiBpZD0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdub3RpZmljYXRpb25zJykiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdOb3RpZmljYXRpb25zJyk8L2E+CiAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgI3NldCAoJGhhc0xpbmtzID0gdHJ1ZSkKICAgICAgICAgICAgICAgICNzZXQgKCRvcHRpb25zID0gIiV7IElzUmVhZCA9ICdGYWxzZScsIFBhZ2VTaXplID0gMSB9IikKICAgICAgICAgICAgICAgICNzZXQgKCRjb252ZXJzYXRpb25NZXNzYWdlTm90aWZpY2F0aW9uRmlsdGVyTmFtZSA9ICJfRmlsdGVyc18ke2NvcmVfdjJfY29udmVyc2F0aW9uTWVzc2FnZS5Ob3RpZmljYXRpb25UeXBlSWR9IikKICAgICAgICAgICAgICAgICRvcHRpb25zLkFkZCgkY29udmVyc2F0aW9uTWVzc2FnZU5vdGlmaWNhdGlvbkZpbHRlck5hbWUsICdFeGNsdWRlJykKICAgICAgICAgICAgICAgICNzZXQgKCRub3RpZmljYXRpb25zVW5yZWFkID0gJGNvcmVfdjJfbm90aWZpY2F0aW9uLkxpc3QoJG9wdGlvbnMpLlRvdGFsQ291bnQpCgogICAgICAgICAgICAgICNlbHNlaWYoJGxpbmsgPT0gJ1VzZXInKQogICAgICAgICAgICAgICAgI2lmICgkaXNSZWdpc3RlcmVkKQogICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9Im1vYmlsZSI+CiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iIyIgY2xhc3M9ImludGVybmFsLWxpbmsgdXNlciIgaWQ9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCd1c2VyJykpIiB0aXRsZT0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml91c2VyLkFjY2Vzc2luZy5EaXNwbGF5TmFtZSkiPgogICAgICAgICAgICAgICAgICAgICNzZXQoJGF2YXRhckFub255bW91c0NoZWNrID0gJGNvcmVfdjJfdXRpbGl0eS5Jc01hdGNoKCR1c2VyLkF2YXRhclVybCwgJy4qYW5vbnltb3VzLionKSkKICAgICAgICAgICAgICAgICAgICAjaWYoJGF2YXRhckFub255bW91c0NoZWNrKQogICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tdXNlciI+PHNwYW4gY2xhc3M9ImJhZGdlIj48aSBjbGFzcz0iZ2x5cGhpY29uIGdseXBoaWNvbi1vayI+PC9pPjwvc3Bhbj48L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgI2Vsc2UKCSAgICAgICAgICAgICAgICAgICRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJHVzZXIuQXZhdGFyVXJsLCAyMiwgMjIsICIleyBSZXNpemVNZXRob2QgPSAnWm9vbUFuZENyb3AnIH0iKQogICAgICAgICAgICAgICAgICAgICNlbmQKICAgICAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgICAgICAgICNzZXQoJGhhc0xpbmtzID0gdHJ1ZSkKICAgICAgICAgICAgICAgICNlbHNlCiAgICAgICAgICAgICAgICAgICNzZXQoJHVybCA9ICRjb3JlX3YyX3VybHMuTG9naW4oKSkKICAgICAgICAgICAgICAgICAgI2lmICgkdXJsKQogICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ibW9iaWxlIj4KICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHVybCkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIHVzZXIiIHRpdGxlPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdKb2luU2lnbkluJykpIj4KICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iZ2x5cGhpY29uIGdseXBoaWNvbi11c2VyIj48L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgICAgICAgICAjc2V0KCRoYXNMaW5rcyA9IHRydWUpCiAgICAgICAgICAgICAgICAgICNlbmQKICAgICAgICAgICAgICAgICNlbmQKCiAgICAgICAgICAgICAgI2Vsc2VpZigkbGluayA9PSAnSW5ib3gnICYmICRpc1JlZ2lzdGVyZWQpCiAgICAgICAgICAgICAgICAjc2V0KCR1cmwgPSAkY29yZV92Ml91cmxzLkNvbnZlcnNhdGlvbnMoKSkKICAgICAgICAgICAgICAgICNpZiAoJHVybCkKICAgICAgICAgICAgICAgICAgI3NldCgkY29udmVyc2F0aW9uc1VucmVhZCA9ICRjb3JlX3YyX2NvbnZlcnNhdGlvbi5VbnJlYWRDb3VudCgpKQogICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9Im1vYmlsZSI+CiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iIyIgY2xhc3M9ImNvbnZlcnNhdGlvbnMiIGlkPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ2NvbnZlcnNhdGlvbnMnKSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NvbnZlcnNhdGlvbnNfSW5ib3gnKTwvYT4KICAgICAgICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgICAgICAgI3NldCgkaGFzTGlua3MgPSB0cnVlKQogICAgICAgICAgICAgICAgI2VuZAogICAgICAgICAgICAgICNlbmQKICAgICAgICAgICAgI2FmdGVyYWxsCiAgICAgICAgICAgICNlbmQKCQkJCTwvdWw+CgoJCQkJPHVsIGNsYXNzPSJ1dGlsaXR5IG1vYmlsZSI+CgkJCQkJPGxpIGNsYXNzPSJkcm9wZG93biBtb2JpbGUtc2VhcmNoLWJ1dHRvbiBzZWFyY2gtYnV0dG9uIj4KICAgICAgICAgICAgPGEgaHJlZj0iIyI+CiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InRvcC1zZWFyY2gtaWNvbiI+PGkgY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tc2VhcmNoIj48L2k+PC9zcGFuPgogICAgICAgICAgICA8L2E+CiAgICAgICAgICA8L2xpPgogICAgICAgICAgI2lmICgkaXNSZWdpc3RlcmVkKQogICAgICAgICAgICA8bGk+CiAgICAgICAgICAgICAgPGEgaHJlZj0iIyIgY2xhc3M9InVzZXIgbG9nZ2VkLWluIiBpZD0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkaGFuZGhlbGRCYW5uZXJVc2VyTGlua3NMaW5rSWQpIj4KICAgICAgICAgICAgICAgICAgJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ3VzZXInKQogICAgICAgICAgICAgIDwvYT4KICAgICAgICAgICAgICA8YSBocmVmPSIjIiBjbGFzcz0icG9wdXAtbGlzdC1jb3VudCIgaWQ9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGhhbmRoZWxkQmFubmVyVXNlckxpbmtzQ291bnRJZCkiPjwvYT4KICAgICAgICAgICAgPC9saT4KICAgICAgICAgICNlbHNlCiAgICAgICAgICAgICNzZXQoJHVybCA9ICRjb3JlX3YyX3VybHMuTG9naW4oKSkKICAgICAgICAgICAgI2lmICgkdXJsKQogICAgICAgICAgICA8bGk+CiAgICAgICAgICAgICAgPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkdXJsKSIgY2xhc3M9InVzZXIiPgogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImdseXBoaWNvbiBnbHlwaGljb24tdXNlciI+PC9zcGFuPgogICAgICAgICAgICAgIDwvYT4KICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgI2VuZAogICAgICAgICAgI2VuZAoJCQkJCTxsaSBjbGFzcz0iaGFtYnVyZ2VyIj4KICAgICAgICAgICAgPGEgaHJlZj0iIyIgY2xhc3M9Im5hdmJhci10b2dnbGUiIGRhdGEtdG9nZ2xlPSJzaXRlLW1lbnUiPgogICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJnbHlwaGljb24gZ2x5cGhpY29uLW1lbnUtaGFtYnVyZ2VyIj48L3NwYW4+CiAgICAgICAgICAgIDwvYT4KICAgICAgICAgIDwvbGk+CgkJCQk8L3VsPgoKCQkJCTxkaXYgY2xhc3M9InV0aWxpdHktZHJvcGRvd24gbW9iaWxlIiBpZD0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkdXRpbGl0eURyb3Bkb3duKSI+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJ1c2VyLWxpbmtzIiBzdHlsZT0iZGlzcGxheTpub25lIiBpZD0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkaGFuZGhlbGRCYW5uZXJVc2VyTGlua3NJZCkiPgoJCQkJCQk8dWwgY2xhc3M9InV0aWxpdHkiPjwvdWw+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KCgkJCTwvZGl2PgoJCTwvZGl2PgoJPC9uYXY+CjwvaGVhZGVyPgoKI3JlZ2lzdGVyRW5kT2ZQYWdlSHRtbCgndGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLnNpdGVCYW5uZXInKQoJPHNjcmlwdCB0eXBlPSJ0ZXh0L2h0bWwiIGlkPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRub3RpZmljYXRpb25QcmVmZXJlbmNlVGVtcGxhdGUpIj4KCQk8ZGl2IGNsYXNzPSJub3RpZmljYXRpb24tcHJlZmVyZW5jZSI+CgkJCTxzcGFuIGNsYXNzPSJkZXNjcmlwdGlvbiI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1R1cm5PZmZRdWVzdGlvbicpIDxzdHJvbmc+PCU6IG5vdGlmaWNhdGlvblR5cGVOYW1lICU+PC9zdHJvbmc+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1R1cm5PZmZRdWVzdGlvblN1ZmZpeCcpPC9zcGFuPgoJCQk8YSBocmVmPSIjIiBjbGFzcz0iY29uZmlybSBpbnRlcm5hbC1saW5rIGJ1dHRvbiBzdWJtaXQtYnV0dG9uIiBkYXRhLW5vdGlmaWNhdGlvbnR5cGVpZD0iPCU6IG5vdGlmaWNhdGlvblR5cGVJZCAlPiI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1R1cm5PZmYnKTwvYT4KCQkJPGEgaHJlZj0iIyIgY2xhc3M9ImNhbmNlbCBpbnRlcm5hbC1saW5rIGJ1dHRvbiBzdWJtaXQtYnV0dG9uIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ2FuY2VsJyk8L2E+CgkJPC9kaXY+Cgk8L3NjcmlwdD4KCgk8c2NyaXB0IHR5cGU9InRleHQvaHRtbCIgaWQ9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGxpc3RUZW1wbGF0ZSkiPgoJCTxkaXY+CgkJCTxkaXYgY2xhc3M9Im11bHRpcGxlLWNvbHVtbi1saXN0IGNvbHVtbnMtMSI+CgkJCQk8ZGl2IGNsYXNzPSJtdWx0aXBsZS1jb2x1bW4taXRlbSBjb2x1bW4tMSI+CgkJCQkJPHVsIGNsYXNzPSJjb250ZW50LWxpc3QgY29udGVudCI+CgkJCQkJPC91bD4KCQkJCQk8ZGl2IGNsYXNzPSJsb2FkaW5nIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnbG9hZGluZycpPC9kaXY+CgkJCQkJPCUgaWYoZm9vdGVyQ29udGVudCkgeyAlPgoJCQkJCQk8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtZm9vdGVyIj4KCQkJCQkJCTwlPSBmb290ZXJDb250ZW50ICU+CgkJCQkJCTwvZGl2PgoJCQkJCTwlIH0gJT4KCQkJCTwvZGl2PgoJCQk8L2Rpdj4KCQk8L2Rpdj4KCTwvc2NyaXB0PgoKCTxzY3JpcHQgdHlwZT0idGV4dC9odG1sIiBpZD0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkYm9va21hcmtGaWx0ZXJUZW1wbGF0ZSkiPgoJCTx1bCBjbGFzcz0ibmF2aWdhdGlvbi1saXN0IGZpbHRlciI+CgkJCTwlIGlmKGNvbnRlbnRUeXBlSWRzICYmIGNvbnRlbnRUeXBlSWRzLmxlbmd0aCA+IDApIHsgJT4KCQkJCTxsaSBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtIGNvbnZlcnNhdGlvbnMiPgoJCQkJCTxhIGNsYXNzPSJpbnRlcm5hbC1saW5rIiBocmVmPSIjIiBkYXRhLWNvbnRlbnR0eXBlaWRzPSI8JTogY29udGVudFR5cGVJZHMgJT4iPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdCb29rbWFya19GaWx0ZXJfQ29udGVudCcpPC9hPgoJCQkJPC9saT4KCQkJPCUgfSAlPgoJCQk8JSBpZihhcHBsaWNhdGlvbkNvbnRlbnRUeXBlSWRzICYmIGFwcGxpY2F0aW9uQ29udGVudFR5cGVJZHMubGVuZ3RoID4gMCkgeyAlPgoJCQkJPGxpIGNsYXNzPSJuYXZpZ2F0aW9uLWl0ZW0gY29udmVyc2F0aW9ucyI+CgkJCQkJPGEgY2xhc3M9ImludGVybmFsLWxpbmsiIGhyZWY9IiMiIGRhdGEtY29udGVudHR5cGVpZHM9IjwlOiBhcHBsaWNhdGlvbkNvbnRlbnRUeXBlSWRzICU+Ij4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQm9va21hcmtfRmlsdGVyX0FwcGxpY2F0aW9uJyk8L2E+CgkJCQk8L2xpPgoJCQk8JSB9ICU+CgkJCTwlIGlmKGNvbnRhaW5lclR5cGVzICYmIGNvbnRhaW5lclR5cGVzLmxlbmd0aCA+IDApIHsgJT4KCQkJCTwlIGZvcmVhY2goY29udGFpbmVyVHlwZXMsIGZ1bmN0aW9uKGNvbnRhaW5lclR5cGUpIHsgICU+CgkJCQkJPGxpIGNsYXNzPSJuYXZpZ2F0aW9uLWl0ZW0gY29udmVyc2F0aW9ucyI+CgkJCQkJCTxhIGNsYXNzPSJpbnRlcm5hbC1saW5rIiBocmVmPSIjIiBkYXRhLWNvbnRlbnR0eXBlaWRzPSI8JTogY29udGFpbmVyVHlwZS5pZCAlPiI+PCU6IGNvbnRhaW5lclR5cGUubmFtZSAlPjwvYT4KCQkJCQk8L2xpPgoJCQkJPCUgfSk7ICU+CgkJCTwlIH0gJT4KCQk8L3VsPgoJPC9zY3JpcHQ+CgoJPHNjcmlwdCB0eXBlPSJ0ZXh0L2h0bWwiIGlkPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRub3RpZmljYXRpb25GaWx0ZXJUZW1wbGF0ZSkiPgoJCTx1bCBjbGFzcz0ibmF2aWdhdGlvbi1saXN0IGZpbHRlciI+CgkJCTxsaSBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtIGFsbCI+CgkJCQk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayIgaHJlZj0iIyIgZGF0YS1maWx0ZXI9ImFsbCI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ05vdGlmaWNhdGlvbl9GaWx0ZXJfQWxsJyk8L2E+CgkJCTwvbGk+CgkJCTxsaSBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtIHVucmVhZCI+CgkJCQk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayIgaHJlZj0iIyIgZGF0YS1maWx0ZXI9InVucmVhZCI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ05vdGlmaWNhdGlvbl9GaWx0ZXJfVW5yZWFkJyk8L2E+CgkJCTwvbGk+CgkJPC91bD4KCTwvc2NyaXB0PgoKCTxzY3JpcHQgdHlwZT0idGV4dC9odG1sIiBpZD0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkc2VhcmNoRmlsdGVyVGVtcGxhdGUpIj4KCQk8JSBpZihwbGFjZXMgJiYgcGxhY2VzLmxlbmd0aCA+IDApIHsgJT4KCQkJPHVsIGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QgZmlsdGVyIj4KCQkJCTwlIGZvcmVhY2gocGxhY2VzLCBmdW5jdGlvbihwbGFjZSkgeyAlPgoJCQkJCTxsaSBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtIj4KCQkJCQkJPGEgY2xhc3M9InBsYWNlIGludGVybmFsLWxpbmsiIGhyZWY9IiMiIGRhdGEta2V5PSI8JTogcGxhY2Uua2V5ICU+IiBkYXRhLXZhbHVlPSI8JTogcGxhY2UudmFsdWUgJT4iIGRhdGEtc2VhcmNocGFyYW09IjwlOiBwbGFjZS5zZWFyY2hQYXJhbWV0ZXIgJT4iIGRhdGEtc2VhcmNodmFsdWU9IjwlOiBwbGFjZS5zZWFyY2hWYWx1ZSAlPiI+PCU9IHBsYWNlLm5hbWUgJT48L2E+CgkJCQk8JSB9KTsgJT4KCQkJPC91bD4KCQk8JSB9ICU+CgoJCTwlIGlmKGZpbHRlcnMgJiYgZmlsdGVycy5sZW5ndGggPiAwKSB7ICU+CgkJCTx1bCBjbGFzcz0ibmF2aWdhdGlvbi1saXN0IGZpbHRlciI+CgkJCTwlIGZvcmVhY2goZmlsdGVycywgZnVuY3Rpb24oZmlsdGVyKSB7ICAlPgoJCQkJPGxpIGNsYXNzPSJuYXZpZ2F0aW9uLWl0ZW0iPgoJCQkJCTxhIGNsYXNzPSJ0eXBlIGludGVybmFsLWxpbmsiIGhyZWY9IiMiIGRhdGEta2V5PSI8JTogZmlsdGVyLmtleSAlPiI+PCU9IGZpbHRlci5uYW1lICU+PC9hPgoJCQkJPC9saT4KCQkJPCUgfSk7ICU+CgkJCTwvdWw+CgkJPCUgfSAlPgoJPC9zY3JpcHQ+CgoJPHNjcmlwdCB0eXBlPSJ0ZXh0L2h0bWwiIGlkPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCR1c2VyVGVtcGxhdGUpIj4KCQk8ZGl2IGNsYXNzPSJ1c2VyIj4KCQkJPGRpdiBjbGFzcz0iYXZhdGFyIj4KCQkJCTxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHVzZXIuUHJvZmlsZVVybCkiPgoJCQkJCSRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJHVzZXIuQXZhdGFyVXJsLCA0MCwgNDAsICIleyBSZXNpemVNZXRob2QgPSAnWm9vbUFuZENyb3AnIH0iKQoJCQkJPC9hPgoJCQk8L2Rpdj4KCQkJPHNwYW4gY2xhc3M9InVzZXItbmFtZSI+CgkJCQk8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCR1c2VyLlByb2ZpbGVVcmwpIj4kY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCR1c2VyLkRpc3BsYXlOYW1lKTwvYT4KCQkJPC9zcGFuPgoKCQkJI3NldCgkYXV0aFR5cGUgPSBmYWxzZSkKCQkJI3NldCgkYXV0aFR5cGUgPSAkY29yZV92Ml9hdXRoZW50aWNhdGlvbi5HZXRMYXN0TG9naW5UeXBlKCkpCgkJCSNpZiAoJGF1dGhUeXBlICYmICRhdXRoVHlwZSAhPSAnJykKCQkJCSNzZXQoJG9hdGhQcm92aWRlciA9IGZhbHNlKQoJCQkJI3NldCgkb2F0aFByb3ZpZGVyID0gJGNvcmVfdjJfYXV0aGVudGljYXRpb24uR2V0T0F1dGhQcm92aWRlcigkYXV0aFR5cGUpKQoJCQkJI2lmICgkb2F0aFByb3ZpZGVyKQoJCQkJCTxzcGFuIGNsYXNzPSJvYXV0aC1wcm92aWRlciI+CgkJCQkJCSRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJG9hdGhQcm92aWRlci5JY29uVXJsLCAxOCwgMTgsICIleyBib3JkZXI9JzAnLCBhbHQgPSAkb2F0aFByb3ZpZGVyLkNsaWVudE5hbWUsIGNsYXNzID0gJ3VpLXRpcCcsIFJlc2l6ZU1ldGhvZCA9ICdab29tQW5kQ3JvcCcgfSIpCgkJCQkJPC9zcGFuPgoJCQkJI2VuZAoJCQkjZW5kCgkJPC9kaXY+CgoJCSNzZXQoJGhhc1VzZXJMaW5rcyA9IHRydWUpCgkJI3NldCAoJHVzZXJMaW5rcyA9ICRsaW5rcy5WYWx1ZXMoJ0xpbmsnKSkKCQkjZm9yZWFjaCgkbGluayBpbiAkdXNlckxpbmtzKQoJCSNiZWZvcmVhbGwKCQkJPHVsIGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QgdXNlciI+CgkJI2VhY2gKCQkJI2lmKCRsaW5rID09ICdVc2VySW5mb3JtYXRpb24nKQoJCQkJI3NldCgkdXJsID0gZmFsc2UpCgkJCQkjc2V0KCR1cmwgPSAkdXNlci5Qcm9maWxlVXJsKQoJCQkJI2lmICgkdXJsKQoJCQkJCTxsaSBjbGFzcz0ibmF2aWdhdGlvbi1saXN0LWl0ZW0iPgoJCQkJCQk8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCR1c2VyLlByb2ZpbGVVcmwpIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTGlua3NfVXNlcl9Qcm9maWxlJyk8L2E+CgkJCQkJPC9saT4KCQkJCQkjc2V0KCRoYXNVc2VyTGlua3MgPSB0cnVlKQoJCQkJI2VuZAoJCQkjZWxzZWlmKCRsaW5rID09ICdTZXR0aW5ncycpCgkJCQkjc2V0KCR1cmwgPSBmYWxzZSkKCQkJCSNzZXQoJHVybCA9ICRjb3JlX3YyX3VybHMuU2V0dGluZ3MoKSkKCQkJCSNpZiAoJHVybCkKCQkJCQk8bGkgY2xhc3M9Im5hdmlnYXRpb24tbGlzdC1pdGVtIj4KCQkJCQkJPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkdXJsKSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0xpbmtzX1VzZXJfU2V0dGluZ3MnKTwvYT4KCQkJCQk8L2xpPgoJCQkJCSNzZXQoJGhhc1VzZXJMaW5rcyA9IHRydWUpCgkJCQkjZW5kCgkJCSNlbHNlaWYoJGxpbmsgPT0gJ0ludml0ZScpCgkJCQkjc2V0KCR1cmwgPSBmYWxzZSkKCQkJCSNzZXQoJHVybCA9ICRjb3JlX3YyX3VybHMuSW52aXRlKCkpCgkJCQkjaWYgKCR1cmwpCgkJCQkJPGxpIGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QtaXRlbSI+CgkJCQkJCTxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHVybCkiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdMaW5rc19Vc2VyX0ludml0ZScpPC9hPgoJCQkJCTwvbGk+CgkJCQkJI3NldCgkaGFzVXNlckxpbmtzID0gdHJ1ZSkKCQkJCSNlbmQKCQkJI2Vsc2VpZigkbGluayA9PSAnU2lnbk91dCcpCgkJCQkjc2V0KCR1cmwgPSBmYWxzZSkKCQkJCSNzZXQoJHVybCA9ICRjb3JlX3YyX3VybHMuTG9nT3V0KCkpCgkJCQkjaWYgKCR1cmwpCgkJCQkJPGxpIGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QtaXRlbSBsb2dvdXQiPgoJCQkJCQk8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCR1cmwpIiBjbGFzcz0iaW50ZXJuYWwtbGluayBsb2dvdXQiPgoJCQkJCQkJI2lmKCRpc0ltcGVyc29uYXRlZCkkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnU3RvcEltcGVyc29uYXRpbmcnKSNlbHNlJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0xpbmtzX1VzZXJfTG9nb3V0JykjZW5kCgkJCQkJCTwvYT4KCQkJCQk8L2xpPgoJCQkJCSNzZXQoJGhhc1VzZXJMaW5rcyA9IHRydWUpCgkJCQkjZW5kCgkJCSNlbmQKCQkjYWZ0ZXJhbGwKCQkJPC91bD4KCQkjZW5kCgk8L3NjcmlwdD4KCgk8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX3dpZGdldC5HZXRGaWxlVXJsKCd1aS12Mi5qcycpKSI+PC9zY3JpcHQ+CiNlbmQKCiNyZWdpc3RlckVuZE9mUGFnZUh0bWwoKQo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CiAgI3NldCgkRFEgPSAnIicpCgogICNzZXQoJGNvbnZlcnNhdGlvbkxpc3RGb290ZXJDb250ZW50ID0gIjxhIGhyZWY9JHtEUX0ke2NvcmVfdjJfdXJscy5Db252ZXJzYXRpb25zKCl9JHtEUX0gY2xhc3M9JHtEUX1sZWZ0JHtEUX0+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NvbnZlcnNhdGlvbnNfTW9yZScpPC9hPjxhIGhyZWY9JHtEUX0jJHtEUX0gZGF0YS1tZXNzYWdlbmFtZT0ke0RRfXdpZGdldC4ke2NvcmVfdjJfd2lkZ2V0LldyYXBwZXJFbGVtZW50SWR9LnN0YXJ0Y29udmVyc2F0aW9uJHtEUX0gY2xhc3M9JHtEUX1yaWdodCR7RFF9PiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDb252ZXJzYXRpb25fU2VuZCcpPC9hPiIpCgoKICAjc2V0KCRub3RpZmljYXRpb25TZXR0aW5nc1VybCA9ICRjb3JlX3YyX3VybHMuU2V0dGluZ3MoKSkKICAjc2V0KCRub3RpZmljYXRpb25MaXN0Rm9vdGVyQ29udGVudCA9ICI8YSBocmVmPSR7RFF9IyR7RFF9IGNsYXNzPSR7RFF9bWFyay1yZWFkIGxlZnQke0RRfSAjaWYgKCRub3RpZmljYXRpb25zVW5yZWFkID09IDApIHN0eWxlPSR7RFF9ZGlzcGxheTpub25lJHtEUX0gI2VuZD4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTm90aWZpY2F0aW9uc19NYXJrJyk8L2E+PGEgY2xhc3M9JHtEUX1yaWdodCR7RFF9IGhyZWY9JHtEUX0ke25vdGlmaWNhdGlvblNldHRpbmdzVXJsfSR7RFF9PiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdMaW5rc19Vc2VyX1NldHRpbmdzJyk8L2E+IikKCiAgI3NldCgkYm9va21hcmtzVXJsID0gJGNvcmVfdjJfdXJscy5GYXZvcml0ZXMoJGNvcmVfdjJfdXNlci5BY2Nlc3NpbmcuSWQpKQogICNzZXQoJGJvb2ttYXJrc0xpc3RGb290ZXJDb250ZW50ID0gIjxhIGNsYXNzPSR7RFF9bGVmdCR7RFF9IGhyZWY9JHtEUX0ke2Jvb2ttYXJrc1VybH0ke0RRfT4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQm9va21hcmtzX01vcmUnKTwvYT4iKQogICMjIHBvc3NpYmx5IHNob3cgYm9va21hcmsvdW5ib29rbWFyayBsaW5rCiAgI2lmICgkaXNSZWdpc3RlcmVkICYmICRjdXJyZW50Q29udGVudCAmJiAkdXNlciAmJiAkY3VycmVudENvbnRlbnQuQ29udGVudElkICE9ICR1c2VyLkNvbnRlbnRJZCkKICAgICNzZXQgKCRjdXJyZW50Q29udGVudEJvb2ttYXJrID0gJGNvcmVfdjJfYm9va21hcmsuR2V0KCRjdXJyZW50Q29udGVudC5Db250ZW50SWQpKQogICAgI2lmICgkY3VycmVudENvbnRlbnRCb29rbWFyaykKICAgICAgI3NldCAoJGlzQm9va21hcmtlZCA9IHRydWUpCiAgICAjZW5kCiAgICAjc2V0ICgkY3VycmVudENvbnRlbnRJZCA9ICRjdXJyZW50Q29udGVudC5Db250ZW50SWQpCiAgICAjc2V0ICgkYm9va21hcmtDb21wb25lbnQgPSAkY29yZV92Ml91aS5Cb29rbWFyaygkY3VycmVudENvbnRlbnQuQ29udGVudElkLCAkY3VycmVudENvbnRlbnQuQ29udGVudFR5cGVJZCwgIiV7IENzc0NsYXNzID0gJ3JpZ2h0JyB9IikpCiAgICAjc2V0ICgkYm9va21hcmtzTGlzdEZvb3RlckNvbnRlbnQgPSAiJHtib29rbWFya3NMaXN0Rm9vdGVyQ29udGVudH0ke2Jvb2ttYXJrQ29tcG9uZW50fSIpCiAgI2VuZAoKICAjc2V0KCRzZWFyY2hMaXN0Rm9vdGVyQ29udGVudCA9ICI8YSBkYXRhLW1lc3NhZ2VuYW1lPSR7RFF9d2lkZ2V0LiR7Y29yZV92Ml93aWRnZXQuV3JhcHBlckVsZW1lbnRJZH0uYWR2YW5jZWRzZWFyY2gke0RRfSBpZD0ke0RRfSRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnYWR2YW5jZWRzZWFyY2gnKSR7RFF9IGhyZWY9JHtEUX0jJHtEUX0+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0FkdmFuY2VkX1NlYXJjaCcpPC9hPiIpCgogIGpRdWVyeShmdW5jdGlvbigpewogICAgalF1ZXJ5LnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy5zaXRlQmFubmVyLnJlZ2lzdGVyKHsKICAgICAgd3JhcHBlcjogJyMkY29yZV92Ml93aWRnZXQuV3JhcHBlckVsZW1lbnRJZCcsCgogICAgICBtZXNzYWdlUHJlZml4OiAnd2lkZ2V0LiR7Y29yZV92Ml93aWRnZXQuV3JhcHBlckVsZW1lbnRJZH0uJywKICAgICAgYmFubmVyOiBqUXVlcnkoJyMkY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRiYW5uZXJJZCknKSwKCiAgICAgICAgICAgICAgdXNlUm9vdEZvb3RlcjogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJHVzZVJvb3RGb290ZXIpJywKICAgICAgaGFuZGhlbGRTZWFyY2hGaWVsZHNMaW5rOiBqUXVlcnkoJyMkY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRoYW5kaGVsZFNlYXJjaEZpZWxkc0xpbmtJZCknKSwKICAgICAgaGFuZGhlbGRTZWFyY2hGaWVsZHM6IGpRdWVyeSgnIyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJHNlYXJjaEZpZWxkc0lkKScpLAogICAgICBoYW5kaGVsZEJhbm5lckxpbmtzTGluazogalF1ZXJ5KCcjJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkaGFuZGhlbGRCYW5uZXJVc2VyTGlua3NMaW5rSWQpJyksCiAgICAgIGhhbmRoZWxkQmFubmVyTGlua3M6IGpRdWVyeSgnIyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGhhbmRoZWxkQmFubmVyVXNlckxpbmtzSWQpJyksCiAgICAgIHNlYXJjaEZpZWxkczogalF1ZXJ5KCcjJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkc2VhcmNoRmllbGRzSWQpJyksCgogICAgICB1dGlsaXR5RHJvcGRvd246IGpRdWVyeSgnIyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJHV0aWxpdHlEcm9wZG93biknKSwKCiAgICAgIGJhbm5lckxpbmtzOiBqUXVlcnkoJyMkY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRiYW5uZXJVc2VyTGlua3NJZCknKSwKICAgICAgaGFuZGhlbGRCYW5uZXJMaW5rc0NvdW50OiBqUXVlcnkoJyMkY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRoYW5kaGVsZEJhbm5lclVzZXJMaW5rc0NvdW50SWQpJyksCiAgICAgIGJhbm5lclNpdGVMaW5rczogalF1ZXJ5KCcjJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkYmFubmVyU2l0ZUxpbmtzSWQpJyksCiAgICAgIGhhbmRoZWxkU2l0ZUxpbmtzTGluazogalF1ZXJ5KCcjJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkaGFuZGhlbGRTaXRlTGlua3NMaW5rSWQpJyksCiAgICAgIGhhbmRoZWxkU2l0ZUxpbmtzOiBqUXVlcnkoJyMkY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRoYW5kaGVsZFNpdGVMaW5rc0lkKScpLAoKICAgICAgbm90aWZpY2F0aW9uc1RlbXBsYXRlOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkbGlzdFRlbXBsYXRlKScsCiAgICAgIG5vdGlmaWNhdGlvbnNVcmw6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX3dpZGdldC5HZXRFeGVjdXRlZEZpbGVVcmwoJ25vdGlmaWNhdGlvbnMudm0nKSknLAogICAgICBub3RpZmljYXRpb25zTGluazogalF1ZXJ5KCcjJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdub3RpZmljYXRpb25zJyknKSwKICAgICAgbm90aWZpY2F0aW9uc1VucmVhZDogJG5vdGlmaWNhdGlvbnNVbnJlYWQsCiAgICAgIG5vdGlmaWNhdGlvbkxpc3RGb290ZXJDb250ZW50OiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkbm90aWZpY2F0aW9uTGlzdEZvb3RlckNvbnRlbnQpJywKICAgICAgbm90aWZpY2F0aW9uUHJlZmVyZW5jZVRlbXBsYXRlOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkbm90aWZpY2F0aW9uUHJlZmVyZW5jZVRlbXBsYXRlKScsCiAgICAgIG5vdGlmaWNhdGlvbnNzVW5yZWFkQ291bnRNZXNzYWdlU2luZ3VsYXI6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdOb3RpZmljYXRpb25zX1VucmVhZENvdW50TWVzc2FnZVNpbmd1bGFyJykpJywKICAgICAgbm90aWZpY2F0aW9uc3NVbnJlYWRDb3VudE1lc3NhZ2VQbHVyYWw6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdOb3RpZmljYXRpb25zX1VucmVhZENvdW50TWVzc2FnZVBsdXJhbCcpKScsCiAgICAgIG5vdGlmaWNhdGlvbnNGaWx0ZXJUZW1wbGF0ZTogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJG5vdGlmaWNhdGlvbkZpbHRlclRlbXBsYXRlKScsCgogICAgICBjb252ZXJzYXRpb25zVGVtcGxhdGU6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRsaXN0VGVtcGxhdGUpJywKICAgICAgY29udmVyc2F0aW9uc1VybDogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfd2lkZ2V0LkdldEV4ZWN1dGVkRmlsZVVybCgnY29udmVyc2F0aW9ucy52bScpKScsCiAgICAgIGNvbnZlcnNhdGlvbnNMaW5rOiBqUXVlcnkoJyMkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ2NvbnZlcnNhdGlvbnMnKScpLAogICAgICBjb252ZXJzYXRpb25zVW5yZWFkOiAkY29udmVyc2F0aW9uc1VucmVhZCwKICAgICAgY29udmVyc2F0aW9uTm90aWZpY2F0aW9uVHlwZUlkOiAnJGNvcmVfdjJfY29udmVyc2F0aW9uTWVzc2FnZS5Ob3RpZmljYXRpb25UeXBlSWQnLAogICAgICBjb252ZXJzYXRpb25MaXN0Rm9vdGVyQ29udGVudDogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvbnZlcnNhdGlvbkxpc3RGb290ZXJDb250ZW50KScsCiAgICAgIGNvbnZlcnNhdGlvbnNVbnJlYWRDb3VudE1lc3NhZ2VTaW5ndWxhcjogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NvbnZlcnNhdGlvbnNfVW5yZWFkQ291bnRNZXNzYWdlU2luZ3VsYXInKSknLAogICAgICBjb252ZXJzYXRpb25zVW5yZWFkQ291bnRNZXNzYWdlUGx1cmFsOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ29udmVyc2F0aW9uc19VbnJlYWRDb3VudE1lc3NhZ2VQbHVyYWwnKSknLAogICAgICBjb252ZXJzYXRpb25OZXdDb252ZXJzYXRpb25Nb2RhbFVybDogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfdXJscy5BZGRDb252ZXJzYXRpb24oKSknLAoKICAgICAgYm9va21hcmtzVGVtcGxhdGU6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRsaXN0VGVtcGxhdGUpJywKICAgICAgYm9va21hcmtzVXJsOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml93aWRnZXQuR2V0RXhlY3V0ZWRGaWxlVXJsKCdib29rbWFya3Mudm0nKSknLAogICAgICBib29rbWFya3NMaW5rOiBqUXVlcnkoJyMkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ2Jvb2ttYXJrcycpJyksCiAgICAgIGJvb2ttYXJrc0xpc3RGb290ZXJDb250ZW50OiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkYm9va21hcmtzTGlzdEZvb3RlckNvbnRlbnQpJywKICAgICAgYm9va21hcmtzQ29udGVudFR5cGVzOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29udGVudFR5cGVzKScsCiAgICAgIGJvb2ttYXJrc0FwcGxpY2F0aW9uQ29udGVudFR5cGVzOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkYXBwbGljYXRpb25Db250ZW50VHlwZXMpJywKICAgICAgYm9va21hcmtzQ29udGFpbmVyQ29udGVudFR5cGVzOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29udGFpbmVyQ29udGVudFR5cGVzKScsCiAgICAgIGJvb2ttYXJrc0ZpbHRlclRlbXBsYXRlOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkYm9va21hcmtGaWx0ZXJUZW1wbGF0ZSknLAogICAgICBib29rbWFya3NJc0Jvb2ttYXJrZWQ6ICNpZigkaXNCb29rbWFya2VkKSB0cnVlICNlbHNlIGZhbHNlICNlbmQsCiAgICAgIGJvb2ttYXJrc0N1cnJlbnRDb250ZW50SWQ6ICckY3VycmVudENvbnRlbnRJZCcsCiAgICAgIGJvb2ttYXJrc0Jvb2ttYXJrczogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0Jvb2ttYXJrcycpKScsCiAgICAgIGJvb2ttYXJrQWRkZWQ6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdCb29rbWFya19BZGRlZCcpKScsCiAgICAgIGJvb2ttYXJrUmVtb3ZlZDogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0Jvb2ttYXJrX1JlbW92ZWQnKSknLAoKICAgICAgdXNlclBvcHVwVGVtcGxhdGU6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRsaXN0VGVtcGxhdGUpJywKICAgICAgdXNlckNvbnRlbnRUZW1wbGF0ZTogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJHVzZXJUZW1wbGF0ZSknLAogICAgICB1c2VyTGluazogalF1ZXJ5KCcjJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCd1c2VyJyknKSwKCiAgICAgIHNlYXJjaFR5cGU6ICckc2l0ZVNlYXJjaCcsCiAgICAgICNpZiAoJHNpdGVTZWFyY2ggPT0gIkRlZmF1bHQiKQogICAgICBzZWFyY2hUZW1wbGF0ZTogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGxpc3RUZW1wbGF0ZSknLAogICAgICBzZWFyY2hVcmw6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX3dpZGdldC5HZXRFeGVjdXRlZEZpbGVVcmwoJ3NlYXJjaC52bScpKScsCiAgICAgIHNlYXJjaElucHV0OiBqUXVlcnkoJyMkY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRzZWFyY2hJZCknKSwKICAgICAgc2VhcmNoRm9vdGVyQ29udGVudDogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJHNlYXJjaExpc3RGb290ZXJDb250ZW50KScsCiAgICAgIHNlYXJjaEZpbHRlclRlbXBsYXRlOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkc2VhcmNoRmlsdGVyVGVtcGxhdGUpJywKICAgICAgc2VhcmNoQWR2YW5jZWRVcmw6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX3VybHMuU2VhcmNoKCIleyBRdWVyeVN0cmluZyA9ICd7MH0nIH0iKSknLAogICAgICBzZWFyY2hBZHZhbmNlZFVzZXJVcmw6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX3VybHMuVXNlckxpc3QoIiV7IFF1ZXJ5U3RyaW5nID0gJ3swfScgfSIpKScsCiAgICAgIHNlYXJjaEZpbHRlckNvbnRlbnROYW1lOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnU2VhcmNoX0ZpbHRlcl9Db250ZW50JykpJywKICAgICAgc2VhcmNoRmlsdGVyR3JvdXBzTmFtZTogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1NlYXJjaF9GaWx0ZXJfR3JvdXBzJykpJywKICAgICAgc2VhcmNoRmlsdGVyUGVvcGxlTmFtZTogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1NlYXJjaF9GaWx0ZXJfUGVvcGxlJykpJywKICAgICAgc2VhcmNoUGxhY2VBcHBsaWNhdGlvbklkOiAjaWYgKCRjdXJyZW50QXBwbGljYXRpb24pICckY3VycmVudEFwcGxpY2F0aW9uLkFwcGxpY2F0aW9uSWQnICNlbHNlIG51bGwgI2VuZCwKICAgICAgc2VhcmNoUGxhY2VBcHBsaWNhdGlvbk5hbWU6ICNpZiAoJGN1cnJlbnRBcHBsaWNhdGlvbikgJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0U3RyaW5nKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdTZWFyY2hfRmlsdGVyX0luJyksICRjdXJyZW50QXBwbGljYXRpb24uSHRtbE5hbWUoJycpKSknICNlbHNlIG51bGwgI2VuZCwKICAgICAgc2VhcmNoUGxhY2VHcm91cElkOiAjaWYgKCRjdXJyZW50R3JvdXApICckY3VycmVudEdyb3VwLkNvbnRhaW5lcklkJyAjZWxzZSBudWxsICNlbmQsCiAgICAgIHNlYXJjaFBsYWNlR3JvdXBMb2NhbElkOiAjaWYgKCRjdXJyZW50R3JvdXApICckY3VycmVudEdyb3VwLklkJyAjZWxzZSBudWxsICNlbmQsCiAgICAgIHNlYXJjaFBsYWNlR3JvdXBOYW1lOiAjaWYgKCRjdXJyZW50R3JvdXApICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdFN0cmluZygkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnU2VhcmNoX0ZpbHRlcl9JbicpLCAkY3VycmVudEdyb3VwLk5hbWUpKScgI2Vsc2UgbnVsbCAjZW5kLAogICAgICBzZWFyY2hQbGFjZUFueXdoZXJlTmFtZTogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1NlYXJjaF9GaWx0ZXJfQW55d2hlcmUnKSknLAogICAgICBhZHZhbmNlZFNlYXJjaElkOiAnJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdhZHZhbmNlZHNlYXJjaCcpJywKICAgICAgc2VhcmNoU2hvd1Blb3BsZTogI2lmKCRjb3JlX3YyX25vZGVQZXJtaXNzaW9uLkdldCgnU2l0ZV9SZWFkUHJvZmlsZXMnKS5Jc0FsbG93ZWQpIHRydWUjZWxzZSBmYWxzZSNlbmQsCiAgICAgICNlbHNlCiAgICAgIHNlYXJjaElucHV0OiBqUXVlcnkoJyMkY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRzZWFyY2hJZCknKSwKICAgICAgI2VuZAoKICAgICAgc2l0ZU5hdmlnYXRpb25UeXBlOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkc2l0ZU5hdmlnYXRpb25UeXBlKScKICAgIH0pOwogIH0pOwo8L3NjcmlwdD4KI2VuZAo=</file>
			<file name="notifications.vm">77u/I3NldCAoJGZpbHRlciA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19maWx0ZXInKSkNCiNzZXQgKCRwYWdlSW5kZXggPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19wYWdlSW5kZXgnKSkpDQojc2V0ICgkcGFnZVNpemUgPSAxMCkNCg0KI3NldCAoJG9wdGlvbnMgPSAiJXsgUGFnZUluZGV4ID0gJHBhZ2VJbmRleCwgUGFnZVNpemUgPSAkcGFnZVNpemUgfSIpDQojc2V0ICgkY29udmVyc2F0aW9uTWVzc2FnZU5vdGlmaWNhdGlvbkZpbHRlck5hbWUgPSAiX0ZpbHRlcnNfJHtjb3JlX3YyX2NvbnZlcnNhdGlvbk1lc3NhZ2UuTm90aWZpY2F0aW9uVHlwZUlkfSIpDQokb3B0aW9ucy5BZGQoJGNvbnZlcnNhdGlvbk1lc3NhZ2VOb3RpZmljYXRpb25GaWx0ZXJOYW1lLCAnRXhjbHVkZScpDQojaWYgKCRmaWx0ZXIgPT0gJ3VucmVhZCcpDQoJJG9wdGlvbnMuQWRkKCdJc1JlYWQnLCAnZmFsc2UnKQ0KI2VuZA0KI3NldCAoJG5vdGlmaWNhdGlvbnMgPSAkY29yZV92Ml9ub3RpZmljYXRpb24uTGlzdCgkb3B0aW9ucykpDQoNCiNzZXQgKCRoYXNNb3JlID0gZmFsc2UpDQojc2V0ICgkY3VycmVudFBhZ2VkUXVhbnRpdHkgPSAoJG5vdGlmaWNhdGlvbnMuUGFnZUluZGV4ICsgMSkgKiAkbm90aWZpY2F0aW9ucy5QYWdlU2l6ZSkNCiNpZiAoJG5vdGlmaWNhdGlvbnMuVG90YWxDb3VudCA+ICRjdXJyZW50UGFnZWRRdWFudGl0eSkNCgkjc2V0ICgkaGFzTW9yZSA9IHRydWUpDQojZW5kDQoNCiNmb3JlYWNoICgkbm90aWZpY2F0aW9uIGluICRub3RpZmljYXRpb25zKQ0KCSNzZXQgKCRsYXN0QWN0b3IgPSBmYWxzZSkNCgkjc2V0ICgkYWN0b3JzID0gJG5vdGlmaWNhdGlvbi5BY3RvcnMpDQoJI3NldCAoJGxhc3RJbmRleCA9ICRhY3RvcnMuQ291bnQgLSAxKQ0KCSNzZXQgKCRsYXN0QWN0b3IgPSAkYWN0b3JzLlRvQXJyYXkoKS5nZXQoJGxhc3RJbmRleCkuVXNlcikNCgkjc2V0ICgkbm90aWZpY2F0aW9uVHlwZSA9ICRjb3JlX3YyX25vdGlmaWNhdGlvblR5cGUuR2V0KCRub3RpZmljYXRpb24uTm90aWZpY2F0aW9uVHlwZUlkKSkNCg0KCSNpZiAoJG5vdGlmaWNhdGlvblR5cGUuTm90aWZpY2F0aW9uVHlwZUlkID09ICRjb3JlX3YyX3JhdGVkSXRlbS5Ob3RpZmljYXRpb25UeXBlSWQpDQoJCSNzZXQgKCRsYXN0QWN0b3IgPSBmYWxzZSkNCgkjZW5kDQoNCgkjIyByZW5kZXIgbm90aWZpY2F0aW9uDQoJI3NldCAoJG5vdGlmaWNhdGlvbk1lc3NhZ2UgPSBmYWxzZSkNCgkjc2V0ICgkbm90aWZpY2F0aW9uTWVzc2FnZSA9ICRub3RpZmljYXRpb24uTWVzc2FnZSgnSHRtbCcpKQ0KCSNpZiAoJG5vdGlmaWNhdGlvbk1lc3NhZ2UpDQoJCTxsaSBjbGFzcz0iY29udGVudC1pdGVtICNpZighJG5vdGlmaWNhdGlvbi5Jc1JlYWQpIHVucmVhZCAjZW5kICNpZiAoISRsYXN0QWN0b3IpIG5vLWF1dGhvciAjZW5kIiBkYXRhLWNvbnRlbnR1cmw9IiRub3RpZmljYXRpb24uVGFyZ2V0VXJsIg0KCQkJZGF0YS1ub3RpZmljYXRpb25pZD0iJG5vdGlmaWNhdGlvbi5Ob3RpZmljYXRpb25JZCINCgkJCWRhdGEtbm90aWZpY2F0aW9udHlwZWlkPSIkbm90aWZpY2F0aW9uLk5vdGlmaWNhdGlvblR5cGVJZCINCgkJCWRhdGEtbm90aWZpY2F0aW9udHlwZW5hbWU9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJG5vdGlmaWNhdGlvblR5cGUuRGVzY3JpcHRpb24pIg0KCQkJI2lmKCRoYXNNb3JlKSBkYXRhLWhhc21vcmU9InRydWUiICNlbmQ+DQoNCgkJCSNpZiAoJGxhc3RBY3RvcikNCgkJCQk8ZGl2IGNsYXNzPSJwb3N0LWF1dGhvciI+DQoJCQkJCTxzcGFuIGNsYXNzPSJhdmF0YXIiPg0KCQkJCQkJI2lmICgkbGFzdEFjdG9yLlByb2ZpbGVVcmwpDQoJCQkJCQkJPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkbGFzdEFjdG9yLlByb2ZpbGVVcmwpIiBjbGFzcz0iaW50ZXJuYWwtbGluayB2aWV3LXVzZXItcHJvZmlsZSI+DQoJCQkJCQkJCSRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJGxhc3RBY3Rvci5BdmF0YXJVcmwsIDQwLCA0MCwgIiV7Ym9yZGVyPScwJywgYWx0PSRsYXN0QWN0b3IuRGlzcGxheU5hbWUsIFJlc2l6ZU1ldGhvZD0nWm9vbUFuZENyb3AnLGJvcmRlcj0nMCd9IikNCgkJCQkJCQk8L2E+DQoJCQkJCQkjZWxzZQ0KCQkJCQkJCSRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJGxhc3RBY3Rvci5BdmF0YXJVcmwsIDQwLCA0MCwgIiV7Ym9yZGVyPScwJywgYWx0PSRsYXN0QWN0b3IuRGlzcGxheU5hbWUsIFJlc2l6ZU1ldGhvZD0nWm9vbUFuZENyb3AnLGJvcmRlcj0nMCd9IikNCgkJCQkJCSNlbmQNCgkJCQkJPC9zcGFuPg0KCQkJCQk8c3BhbiBjbGFzcz0idXNlci1uYW1lIj4NCgkJCQkJCSNpZiAoJGxhc3RBY3Rvci5Qcm9maWxlVXJsKQ0KCQkJCQkJCTxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGxhc3RBY3Rvci5Qcm9maWxlVXJsKSIgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy11c2VyLXByb2ZpbGUiPg0KCQkJCQkJCQkkbGFzdEFjdG9yLkRpc3BsYXlOYW1lDQoJCQkJCQkJPC9hPg0KCQkJCQkJI2Vsc2UNCgkJCQkJCQkkbGFzdEFjdG9yLkRpc3BsYXlOYW1lDQoJCQkJCQkjZW5kDQoJCQkJCTwvc3Bhbj4NCgkJCQk8L2Rpdj4NCgkJCSNlbmQNCgkJCTxkaXYgY2xhc3M9ImNvbnRlbnQiPg0KCQkJCSRub3RpZmljYXRpb25NZXNzYWdlDQoJCQk8L2Rpdj4NCgkJCTxkaXYgY2xhc3M9InBvc3QtZGF0ZSI+DQoJCQkJPHNwYW4gY2xhc3M9InZhbHVlIj4kY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXRBZ29EYXRlKCRub3RpZmljYXRpb24uTGFzdFVwZGF0ZWREYXRlKTwvc3Bhbj4NCgkJCTwvZGl2Pg0KCQkJPGRpdiBjbGFzcz0icHJlZmVyZW5jZSI+DQoJCQkJPGEgaHJlZj0iIyIgdGl0bGU9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1R1cm5PZmZOb3RpZmljYXRpb25zJykpIiBjbGFzcz0idWktdGlwIj5YPC9hPg0KCQkJPC9kaXY+DQoJCQkjaWYoISRub3RpZmljYXRpb24uSXNSZWFkKQ0KCQkJCTxkaXYgY2xhc3M9Im1hcmsiPg0KCQkJCQk8YSBocmVmPSIjIiB0aXRsZT0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTm90aWZpY2F0aW9uc19NYXJrJykpIiBjbGFzcz0idWktdGlwIiBkYXRhLW1lc3NhZ2VuYW1lPSJ0ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMudGhyZWFkLmhpZGVhdHRhY2htZW50Ij5PPC9hPg0KCQkJCTwvZGl2Pg0KCQkJI2VuZA0KCQk8L2xpPg0KCSNlbmQNCiNub2RhdGENCgk8ZGl2IGNsYXNzPSJtZXNzYWdlIG5vcmVjb3JkcyI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ05vdGlmaWNhdGlvbnNfTm9uZScpPC9kaXY+DQojZW5kDQo=</file>
			<file name="search.vm">77u/I3NldCAoJHF1ZXJ5ID0gJGNvcmVfdjJfdXRpbGl0eS5UcmltKCRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19xdWVyeScpKSkNCiNzZXQgKCRwYWdlU2l6ZSA9IDEwKQ0KI3NldCAoJHBhZ2VJbmRleCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X3BhZ2VJbmRleCcpKSkNCiNzZXQgKCRwbGFjZUtleSA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19wbGFjZUtleScpKQ0KI3NldCAoJHBsYWNlVmFsdWUgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfcGxhY2VWYWx1ZScpKQ0KI3NldCAoJHR5cGUgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfdHlwZScpKQ0KDQojc2V0ICgkc2VhcmNoUXVlcnkgPSAiJXt9IikNCiRzZWFyY2hRdWVyeS5BZGQoIlF1ZXJ5IiwgJHF1ZXJ5KQ0KJHNlYXJjaFF1ZXJ5LkFkZCgiUGFnZVNpemUiLCAkcGFnZVNpemUpDQokc2VhcmNoUXVlcnkuQWRkKCJQYWdlSW5kZXgiLCAkcGFnZUluZGV4KQ0KJHNlYXJjaFF1ZXJ5LkFkZCgnQ29sbGFwc2UnLCAnVHJ1ZScpDQoNCiNpZiAoJHBsYWNlS2V5ID09ICdhcHBsaWNhdGlvbicpDQoJJHNlYXJjaFF1ZXJ5LkFkZCgiQXBwbGljYXRpb25JZCIsICRwbGFjZVZhbHVlKQ0KI2Vsc2VpZiAoJHBsYWNlS2V5ID09ICdncm91cCcgJiYgJHR5cGUgIT0gJ2dyb3VwcycpDQoJJHNlYXJjaFF1ZXJ5LkFkZCgiQ29udGFpbmVySWQiLCAkcGxhY2VWYWx1ZSkNCiNlbmQNCg0KI2lmICgkdHlwZSA9PSAnZ3JvdXBzJykNCgkjaWYgKCRwbGFjZUtleSA9PSAnZ3JvdXAnKQ0KCQkjc2V0KCRwYXJlbnRHcm91cEZpbHRlciA9ICcnKQ0KCQkjc2V0KCRncm91cCA9ICRjb3JlX3YyX2dyb3VwLkdldCgkY29yZV92Ml91dGlsaXR5LlBhcnNlR3VpZCgkcGxhY2VWYWx1ZSkpKQ0KCQkjaWYgKCRncm91cCkNCgkJCSNzZXQoJHBhcmVudEdyb3VwRmlsdGVyID0gInx8cGFyZW50Z3JvdXA6OiR7Z3JvdXAuSWR9IikNCgkJI2VuZA0KCQkkc2VhcmNoUXVlcnkuQWRkKCdGaWx0ZXJzJywgImNvbnRlbnR0eXBlaWQ6OiR7Y29yZV92Ml9ncm91cC5Db250ZW50VHlwZUlkfSR7cGFyZW50R3JvdXBGaWx0ZXJ9IikNCgkjZWxzZQ0KCQkkc2VhcmNoUXVlcnkuQWRkKCdGaWx0ZXJzJywgImNvbnRlbnR0eXBlaWQ6OiRjb3JlX3YyX2dyb3VwLkNvbnRlbnRUeXBlSWQiKQ0KCSNlbmQNCiNlbHNlaWYgKCR0eXBlID09ICd1c2VycycpDQoJJHNlYXJjaFF1ZXJ5LkFkZCgnRmlsdGVycycsICJjb250ZW50dHlwZWlkOjokY29yZV92Ml91c2VyLkNvbnRlbnRUeXBlSWQiKQ0KI2Vsc2UNCgkjc2V0KCRmaWx0ZXJzID0gJycpDQoJI2ZvcmVhY2goJGNvbnRlbnRUeXBlIGluICRjb3JlX3YyX2NvbnRlbnRUeXBlLkxpc3QoKSkNCgkJI3NldCgkYXBwbGljYXRpb25UeXBlID0gZmFsc2UpDQoJCSNzZXQoJGFwcGxpY2F0aW9uVHlwZSA9ICRjb3JlX3YyX2FwcGxpY2F0aW9uVHlwZS5HZXQoJGNvbnRlbnRUeXBlLklkKSkNCgkJI3NldCgkY29udGFpbmVyVHlwZSA9IGZhbHNlKQ0KCQkjc2V0KCRjb250YWluZXJUeXBlID0gJGNvcmVfdjJfY29udGFpbmVyVHlwZS5HZXQoJGNvbnRlbnRUeXBlLklkKSkNCgkJI2lmICgoISRhcHBsaWNhdGlvblR5cGUgfHwgJGFwcGxpY2F0aW9uVHlwZS5IYXNFcnJvcnMoKSkgJiYgKCEkY29udGFpbmVyVHlwZSB8fCAkY29udGFpbmVyVHlwZS5IYXNFcnJvcnMoKSkpDQoJCQkjaWYgKCRmaWx0ZXJzLkxlbmd0aCA9PSAwKQ0KCQkJCSNzZXQoJGZpbHRlcnMgPSAiY29udGVudHR5cGVpZDo6KCR7Y29udGVudFR5cGUuSWR9IikNCgkJCSNlbHNlDQoJCQkJI3NldCgkZmlsdGVycyA9ICIke2ZpbHRlcnN9IE9SICR7Y29udGVudFR5cGUuSWR9IikNCgkJI2VuZA0KCQkjZW5kDQoJI2VuZA0KCSNpZigkZmlsdGVycy5MZW5ndGggPiAwKQ0KCQkkc2VhcmNoUXVlcnkuQWRkKCdGaWx0ZXJzJywgIiR7ZmlsdGVyc30pIikNCgkjZW5kDQojZW5kDQoNCg0KI3NldCAoJHNlYXJjaFJlc3VsdHMgPSAkY29yZV92Ml9zZWFyY2hSZXN1bHQuTGlzdCgkc2VhcmNoUXVlcnkpKQ0KDQojc2V0ICgkaGFzTW9yZSA9IGZhbHNlKQ0KI3NldCAoJGN1cnJlbnRQYWdlZFF1YW50aXR5ID0gKCRzZWFyY2hSZXN1bHRzLlBhZ2VJbmRleCArIDEpICogJHNlYXJjaFJlc3VsdHMuUGFnZVNpemUpDQojaWYgKCRzZWFyY2hSZXN1bHRzLlRvdGFsQ291bnQgPiAkY3VycmVudFBhZ2VkUXVhbnRpdHkpDQogICAgI3NldCAoJGhhc01vcmUgPSB0cnVlKQ0KI2VuZA0KDQojZm9yZWFjaCAoJHNlYXJjaFJlc3VsdCBpbiAkc2VhcmNoUmVzdWx0cykNCgk8bGkgY2xhc3M9ImNvbnRlbnQtaXRlbSIgZGF0YS1jb250ZW50dXJsPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRzZWFyY2hSZXN1bHQuVXJsKSIgI2lmKCRoYXNNb3JlKSBkYXRhLWhhc21vcmU9InRydWUiICNlbmQ+DQoJCSNzZXQgKCRyZXN1bHRIdG1sID0gZmFsc2UpDQoJCSNzZXQgKCRyZXN1bHRIdG1sID0gJHNlYXJjaFJlc3VsdC5WaWV3SHRtbCgpKQ0KCQkjaWYgKCRyZXN1bHRIdG1sKQ0KCQkJJHJlc3VsdEh0bWwNCgkJI2VuZA0KCTwvbGk+DQojbm9kYXRhDQoJPGRpdiBjbGFzcz0ibWVzc2FnZSBub3JlY29yZHMiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdOb19SZXN1bHRzJyk8L2Rpdj4NCiNlbmQNCg==</file>
			<file name="ui-v2.js">KGZ1bmN0aW9uICgkLCBnbG9iYWwsIHVuZGVmKSB7Cgl2YXIgb3BlbkhlYWRlckxpc3RDb250ZXh0ID0gbnVsbDsKCXZhciBhY3RpdmF0ZU1lc3NhZ2UgPSAndGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLnNpdGVCYW5uZXIuYWN0aXZhdGUnOwoJdmFyIGRlYWN0aXZhdGVNZXNzYWdlID0gJ3RlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy5zaXRlQmFubmVyLmRlYWN0aXZhdGUnOwoKCWZ1bmN0aW9uIHN1cHBvcnRzVG91Y2goKSB7CgkJcmV0dXJuICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdzsKCX0KCgl2YXIgdXRpbCA9IHsKCQl0aHJvdHRsZTogZnVuY3Rpb24gKGZuLCBsaW1pdCkgewoJCQl2YXIgbGFzdFJhbkF0LCB0aW1lb3V0OwoJCQlyZXR1cm4gZnVuY3Rpb24gKCkgewoJCQkJdmFyIHNjb3BlID0gdGhpcywKCQkJCQkJCQlhdHRlbXB0QXQgPSAobmV3IERhdGUoKS5nZXRUaW1lKCkpLAoJCQkJCQkJCWFyZ3MgPSBhcmd1bWVudHM7CgkJCQlpZiAobGFzdFJhbkF0ICYmIChsYXN0UmFuQXQgKyAobGltaXQgfHwgNTApKSA+IGF0dGVtcHRBdCkgewoJCQkJCWdsb2JhbC5jbGVhclRpbWVvdXQodGltZW91dCk7CgkJCQkJdGltZW91dCA9IGdsb2JhbC5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKCQkJCQkJbGFzdFJhbkF0ID0gYXR0ZW1wdEF0OwoJCQkJCQlmbi5hcHBseShzY29wZSwgYXJncyk7CgkJCQkJfSwgKGxpbWl0IHx8IDUwKSk7CgkJCQl9CgkJCQllbHNlIHsKCQkJCQlsYXN0UmFuQXQgPSBhdHRlbXB0QXQ7CgkJCQkJZm4uYXBwbHkoc2NvcGUsIGFyZ3MpOwoJCQkJfQoJCQl9OwoJCX0KCX07CgoJLy8gVUkgd2hpY2ggY2FuIHJlbmRlciBlbmRsZXNzbHktc2Nyb2xsaW5nIGl0ZW1zIGluIGEgcG9wdXAuCgkvLyBTdXBwb3J0cyBkZWZpbmluZyBmaWx0ZXJzCgkvLyBVcGRhdGluZyBzaXRlLXdpZGUgYnViYmxlIGNvdW50cwoJdmFyIEhlYWRlckxpc3QgPSAoZnVuY3Rpb24gKCQpIHsKCQkvLyBwcml2YXRlIHN0YXRpYyBtZW1iZXJzIG9mIGEgSGVhZGVyTGlzdAoJCXZhciB0aXRsZUNvdW50ID0gL15cKFswLTldK1wpXHMrLywKCQkJCQkJdG90YWxUaXRsZUNvdW50ID0gMCwgLy8gdGl0bGUgYmFyIGNvdW50IHdoaWNoIG11bHRpcGxlIGluc3RhbmNlcyBjYW4gY29udHJpYnV0ZSB0bwoJCQkJCQltYXNrLAoJCQkJCQlkZWZhdWx0cyA9IHsKCQkJCQkJCWtleTogJycsCgkJCQkJCQlhY3RpdmF0aW9uTGluazogbnVsbCwKCQkJCQkJCWFjdGl2YXRpb25JbnB1dDogbnVsbCwKCQkJCQkJCWluaXRpYWxVbnJlYWRDb3VudDogMCwKCQkJCQkJCWZvb3RlckNvbnRlbnQ6IG51bGwsCgkJCQkJCQlzaG93Q291bnQ6IHRydWUsCgkJCQkJCQllbmRsZXNzU2Nyb2xsOiBmYWxzZSwKCQkJCQkJCWNzc0NsYXNzOiAnJywKCQkJCQkJCXRlbXBsYXRlOiAnJywKCQkJCQkJCWxvYWRpbmc6IGZhbHNlLAoJCQkJCQkJdGl0bGVDb3VudDogZmFsc2UsCgkJCQkJCQl0aXRsZUNvdW50Q2xhc3M6ICcnLAoJCQkJCQkJcHJldmlvdXNDb3VudDogMCwKCQkJCQkJCXdyYXBwZXI6IG51bGwsCgkJCQkJCQl1bnJlYWRDb3VudE1lc3NhZ2VTaW5ndWxhcjogJ1lvdSBoYXZlIHswfSB1bnJlYWQgaXRlbScsCgkJCQkJCQl1bnJlYWRDb3VudE1lc3NhZ2VQbHVyYWw6ICdZb3UgaGF2ZSB7MH0gdW5yZWFkIGl0ZW1zJywKCQkJCQkJCW9uU2hvd0xvYWRpbmdJbmRpY2F0b3I6IGZ1bmN0aW9uICgpIHsKCQkJCQkJCQlyZXR1cm4gdHJ1ZTsKCQkJCQkJCX0sCgkJCQkJCQlvbkxvYWQ6IGZ1bmN0aW9uIChwYWdlSW5kZXgsIHNob3VsZFJlZnJlc2hVbnJlYWRDb3VudCwgZmlsdGVyLCBjb21wbGV0ZSkgewoJCQkJCQkJCS8vIGxvYWQgbW9yZSBpdGVtcwoJCQkJCQkJCS8vIGZvciBlYWNoIGl0ZW0gbG9hZGVkLCBtYXJrcyBpdCBhcyByZWFkCgkJCQkJCQkJLy8gYWZ0ZXIgaXRlbXMgbG9hZGVkIGFuZCBtYXJrcyBhcyByZWFkLCBnZXRzIG5ldyB1bnJlYWQgY291bnQgYW5kIHVwZGF0ZXMgdmlhIHVwZGF0ZVVucmVhZENvdW50IHZpYSByZWZyZXNoVW5yZWFkQ291bnQKCQkJCQkJCQkvLyBjb21wbGV0ZShjb250ZW50VG9TaG93KQoJCQkJCQkJCWNvbXBsZXRlKCcnKTsKCQkJCQkJCX0sCgkJCQkJCQlvblJlZnJlc2hVbnJlYWRDb3VudDogZnVuY3Rpb24gKGNvbXBsZXRlKSB7CgkJCQkJCQkJLy8gZ2V0IG5ldyB1bnJlYWQgY291bnQKCQkJCQkJCQkvLyB1cGRhdGUgaXQgdmlhIGNvbXBsZXRlKCkKCQkJCQkJCQljb21wbGV0ZSg1KTsKCQkJCQkJCX0sCgkJCQkJCQlvbkJ1aWxkRmlsdGVyOiBudWxsLCAvLyBmdW5jdGlvbihmaWx0ZXJlZCkgewoJCQkJCQkJLy8gd2hlbiBkZWZpbmVkLCByZXR1cm5zIGEgRE9NIG5vZGUgdG8gYmUgaW5zZXJ0ZWQgYXQgdGhlIHRvcCB3aGljaCBwcmVzZW50ZXMgYSBmaWx0ZXJpbmcgVUkKCQkJCQkJCS8vIGZpbHRlcmVkKGZpbHRlcikgY2FuIGJlIGNhbGxlZCB0byByYWlzZSBhIGZpbHRlcgoJCQkJCQkJLy8gfQoJCQkJCQkJb25TaG93OiBmdW5jdGlvbiAoYWN0aXZhdG9yLCBjb21wbGV0ZSkgeyAvLyBkZWZlcnJlZCBkaXNwbGF5IG9wdGlvbnMKCQkJCQkJCQkvLyBjYWxscyBjb21wbGV0ZSB3aXRoIGRpc3BsYXkgb3B0aW9ucyB0byB1c2Ugd2hlbiBkaXNwbGF5aW5nCgkJCQkJCQkJLy8gY29tcGxldGUoewoJCQkJCQkJCS8vd2lkdGg6IDI4MAoJCQkJCQkJCS8vbWF4SGVpZ2h0OiAzMDAKCQkJCQkJCQkvL2F0dGFjaFRvOiBhY3RpdmF0b3IKCQkJCQkJCQkvL30pCgkJCQkJCQkJY29tcGxldGUoe30pOwoJCQkJCQkJfSwKCQkJCQkJCW9uSGlkZTogZnVuY3Rpb24gKCkgewoKCQkJCQkJCX0sCgkJCQkJCQlvblNlbGVjdDogZnVuY3Rpb24gKGl0ZW0pIHsKCQkJCQkJCQl2YXIgdXJsID0gJChpdGVtKS5kYXRhKCdjb250ZW50dXJsJyk7CgkJCQkJCQkJaWYgKHVybCkgewoJCQkJCQkJCQl3aW5kb3cubG9jYXRpb24gPSB1cmw7CgkJCQkJCQkJfQoJCQkJCQkJfQoJCQkJCQl9LAoJCQkJCQlkZWZhdWx0U2hvd1NldHRpbmdzID0gewoJCQkJCQkJYXR0YWNoVG86IG51bGwsCgkJCQkJCQl3aWR0aDogMjgwLAoJCQkJCQkJbWF4SGVpZ2h0OiAzMDAsCgkJCQkJCQljc3NDbGFzczogbnVsbAoJCQkJCQl9OwoKCQlmdW5jdGlvbiB1cGRhdGVUaXRsZShjb250ZXh0KSB7CgkJCWlmICh0b3RhbFRpdGxlQ291bnQgPD0gMCkgewoJCQkJY29udGV4dC5oYW5kaGVsZEJhbm5lckxpbmtzQ291bnQuaGlkZSgpOwoJCQkJZG9jdW1lbnQudGl0bGUgPSBkb2N1bWVudC50aXRsZS5yZXBsYWNlKHRpdGxlQ291bnQsICcnKTsKCQkJfQoJCQllbHNlIHsKCQkJCWNvbnRleHQuaGFuZGhlbGRCYW5uZXJMaW5rc0NvdW50Lmh0bWwodG90YWxUaXRsZUNvdW50KS5zaG93KCk7CgkJCQlkb2N1bWVudC50aXRsZSA9ICcoJyArIHRvdGFsVGl0bGVDb3VudCArICcpICcgKyBkb2N1bWVudC50aXRsZS5yZXBsYWNlKHRpdGxlQ291bnQsICcnKTsKCQkJfQoJCX0KCgkJZnVuY3Rpb24gYmxvY2tXaW5kb3dTY3JvbGxpbmcoY29udGV4dCkgewoJCQlpZiAoJCgnYm9keScpLmhhc0NsYXNzKCdzdG9wLXNjcm9sbGluZycpKQoJCQkJcmV0dXJuOwoKCQkJLy8gYmxvY2sgd2luZG93IHNjcm9sbGluZyBub3QgaW4gdGhlIHBvcHVwLCBvciBwb3B1cCBzY3JvbGxpbmcgYXQgaXRzIGJvdW5kYXJpZXMKCQkJY29udGV4dC5wb3B1cENvbnRlbnRMaXN0Lm9uKCdET01Nb3VzZVNjcm9sbCBtb3VzZXdoZWVsJywgZnVuY3Rpb24gKGUpIHsKCQkJCXZhciBlID0gZSB8fCB3aW5kb3cuZXZlbnQsCgkJCQkJCQkJb3JpZ2luYWxFdmVudCA9IGUub3JpZ2luYWxFdmVudCB8fCBlLAoJCQkJCQkJCWRlbHRhID0gMCwKCQkJCQkJCQlzY3JvbGxUb3AgPSBjb250ZXh0LnBvcHVwQ29udGVudExpc3QuZ2V0KDApLnNjcm9sbFRvcCwKCQkJCQkJCQlzY3JvbGxIZWlnaHQgPSBjb250ZXh0LnBvcHVwQ29udGVudExpc3QuZ2V0KDApLnNjcm9sbEhlaWdodCwKCQkJCQkJCQloZWlnaHQgPSBjb250ZXh0LnBvcHVwQ29udGVudExpc3QuaGVpZ2h0KCk7CgoJCQkJaWYgKG9yaWdpbmFsRXZlbnQud2hlZWxEZWx0YSkKCQkJCQlkZWx0YSA9IG9yaWdpbmFsRXZlbnQud2hlZWxEZWx0YSAvIDEyMDsKCQkJCWlmIChvcmlnaW5hbEV2ZW50LmRldGFpbCkKCQkJCQlkZWx0YSA9IC1vcmlnaW5hbEV2ZW50LmRldGFpbCAvIDM7CgoJCQkJaWYgKChzY3JvbGxUb3AgPT09IChzY3JvbGxIZWlnaHQgLSBoZWlnaHQpICYmIGRlbHRhIDwgMCkgfHwKCQkJCQkJCQkoc2Nyb2xsVG9wID09PSAwICYmIGRlbHRhID4gMCkpIHsKCQkJCQlpZiAoZS5wcmV2ZW50RGVmYXVsdCkKCQkJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCWUucmV0dXJuVmFsdWUgPSBmYWxzZTsKCQkJCX0KCQkJfSk7CgoJCQkvLyBibG9jayB0b3VjaCBzY3JvbGxpbmcKCQkJdmFyIGxhc3RZOwoJCQkkKCdib2R5JykuYWRkQ2xhc3MoJ3N0b3Atc2Nyb2xsaW5nJykKCQkJCQkJCS5vbigncG9pbnRlcnN0YXJ0LnNjcm9sbGZpeCcsIGZ1bmN0aW9uIChlKSB7CgkJCQkJCQkJbGFzdFkgPSBlLnBvaW50ZXJzWzBdLnBhZ2VZOwoJCQkJCQkJfSkKCQkJCQkJCS5vbigncG9pbnRlcmVuZC5zY3JvbGxmaXgnLCBmdW5jdGlvbiAoZSkgewoJCQkJCQkJCWxhc3RZID0gbnVsbDsKCQkJCQkJCX0pCgkJCQkJCQkub24oJ3BvaW50ZXJtb3ZlLnNjcm9sbGZpeCcsIGZ1bmN0aW9uIChlKSB7CgkJCQkJCQkJaWYgKCFlLnBvaW50ZXJzIHx8IGUucG9pbnRlcnMubGVuZ3RoID09IDApCgkJCQkJCQkJCXJldHVybjsKCgkJCQkJCQkJdmFyIGlzRGlyZWN0aW9uRG93biA9IGUucG9pbnRlcnNbMF0ucGFnZVkgLSBsYXN0WSA+IDA7CgoJCQkJCQkJCXZhciBsaXN0ID0gJChlLnRhcmdldCkuY2xvc2VzdCgnLnBvcHVwLWxpc3QgdWwuY29udGVudC1saXN0LmNvbnRlbnQnKTsKCQkJCQkJCQlpZiAoIWxpc3QgfHwgbGlzdC5sZW5ndGggPT0gMCkgewoJCQkJCQkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQkJCQkJCXJldHVybiBmYWxzZTsKCQkJCQkJCQl9CgoJCQkJCQkJCXZhciB1bCA9IGNvbnRleHQucG9wdXBDb250ZW50TGlzdC5nZXQoMCksCgkJCQkJCQkJCQkJCXVsU2Nyb2xsVG9wID0gdWwuc2Nyb2xsVG9wLAoJCQkJCQkJCQkJCQl1bFNjcm9sbEhlaWdodCA9IHVsLnNjcm9sbEhlaWdodCwKCQkJCQkJCQkJCQkJdWxIZWlnaHQgPSB1bC5vZmZzZXRIZWlnaHQ7CgoJCQkJCQkJCWlmICh1bEhlaWdodCA9PSAwIHx8IHVsU2Nyb2xsSGVpZ2h0ID09IDApCgkJCQkJCQkJCXJldHVybjsKCgkJCQkJCQkJLy8gbGlzdCBpc24ndCBzY3JvbGxhYmxlLCBzbyBibG9jayBzY3JvbGxpbmcKCQkJCQkJCQlpZiAodWxTY3JvbGxIZWlnaHQgLSB1bEhlaWdodCA8PSAwKSB7CgkJCQkJCQkJCWUucHJldmVudERlZmF1bHQoKQoJCQkJCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQkJCQkJfQoKCQkJCQkJCQkvLyBsaXN0IGlzIHNjcm9sbGFibGUgYW5kIGF0IHRoZSB0b3AKCQkJCQkJCQlpZiAodWxTY3JvbGxUb3AgPT0gMCAmJiBpc0RpcmVjdGlvbkRvd24pIHsKCQkJCQkJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQkJCQkJfQoJCQkJCQkJCS8vIGxpc3QgaXMgc2Nyb2xsYWJsZSBhbmQgYXQgZW5kCgkJCQkJCQkJaWYgKCh1bFNjcm9sbFRvcCArIHVsSGVpZ2h0ID49IHVsU2Nyb2xsSGVpZ2h0KSAmJiAhaXNEaXJlY3Rpb25Eb3duKSB7CgkJCQkJCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCQkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJCQkJCX0KCQkJCQkJCX0pOwoKCQkJaWYgKCFtYXNrKQoJCQkJbWFzayA9ICQoJzxkaXY+PC9kaXY+JykKCQkJCQkJCQkuYWRkQ2xhc3MoJ21hc2snKQoJCQkJCQkJCS5hcHBlbmRUbygnYm9keScpCgkJCQkJCQkJLmNzcyh7b3BhY2l0eTogMC4wMSwgekluZGV4OiAxfSkKCQkJCQkJCQkuZXZvbHV0aW9uVHJhbnNmb3JtKHtvcGFjaXR5OiAwLjd9LCB7ZHVyYXRpb246IDE1MH0pCgkJCQkJCQkJLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHsKCQkJCQkJCQkJYXBpLmhpZGVDdXJyZW50KCk7CgkJCQkJCQkJfSk7CgoJCQlwcmV2ZW50Qm9keUJvdW5jZSgkKCdib2R5JykuY2hpbGRyZW4oKS5maXJzdCgpKTsKCQl9CgoJCWZ1bmN0aW9uIHVuYmxvY2tXaW5kb3dTY3JvbGxpbmcoY29udGV4dCkgewoJCQlpZiAoISQoJ2JvZHknKS5oYXNDbGFzcygnc3RvcC1zY3JvbGxpbmcnKSkKCQkJCXJldHVybgoKCQkJJCgnYm9keScpLnJlbW92ZUNsYXNzKCdzdG9wLXNjcm9sbGluZycpLm9mZignLnNjcm9sbGZpeCcpOwoKCQkJaWYgKGNvbnRleHQucG9wdXBDb250ZW50TGlzdCkKCQkJCWNvbnRleHQucG9wdXBDb250ZW50TGlzdC5vZmYoJ0RPTU1vdXNlU2Nyb2xsIG1vdXNld2hlZWwnKTsKCgkJCWlmIChtYXNrKSB7CgkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKCQkJCQlpZiAobWFzaykgewoJCQkJCQlpZiAoISQoJ2JvZHknKS5oYXNDbGFzcygnc3RvcC1zY3JvbGxpbmcnKSkgewoJCQkJCQkJbWFzay5ldm9sdXRpb25UcmFuc2Zvcm0oe29wYWNpdHk6IDAuMDF9LCB7ZHVyYXRpb246IDEwMH0pOwoJCQkJCQkJc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CgkJCQkJCQkJaWYgKG1hc2spCgkJCQkJCQkJCW1hc2sucmVtb3ZlKCk7CgkJCQkJCQkJbWFzayA9IG51bGw7CgkJCQkJCQl9LCAxMDApOwoJCQkJCQl9CgkJCQkJfQoJCQkJfSwgMTAwKTsKCQkJfQoKCQkJYWxsb3dCb2R5Qm91bmNlKCQoJ2JvZHknKS5jaGlsZHJlbigpLmZpcnN0KCkpOwoJCX0KCgkJZnVuY3Rpb24gYWxsb3dCb2R5Qm91bmNlKHNlbGVjdGlvbikgewoJCQlzZWxlY3Rpb24ub2ZmKCcuc2Nyb2xsZml4Jyk7CgkJfQoKCQlmdW5jdGlvbiBwcmV2ZW50Qm9keUJvdW5jZShzZWxlY3Rpb24pIHsKCQkJdmFyIG9yaWdpbmFsU2Nyb2xsVG9wLAoJCQkJCQkJZWxlbSA9IHNlbGVjdGlvbi5nZXQoMCk7CgkJCXNlbGVjdGlvbi5vbigncG9pbnRlcnN0YXJ0LnNjcm9sbGZpeCcsIGZ1bmN0aW9uIChlKSB7CgkJCQlvcmlnaW5hbFNjcm9sbFRvcCA9IGVsZW0uc2Nyb2xsVG9wOwoKCQkJCWlmIChvcmlnaW5hbFNjcm9sbFRvcCA8PSAwKQoJCQkJCWVsZW0uc2Nyb2xsVG9wID0gMTsKCgkJCQlpZiAob3JpZ2luYWxTY3JvbGxUb3AgKyBlbGVtLm9mZnNldEhlaWdodCA+PSBlbGVtLnNjcm9sbEhlaWdodCkKCQkJCQllbGVtLnNjcm9sbFRvcCA9IGVsZW0uc2Nyb2xsSGVpZ2h0IC0gZWxlbS5vZmZzZXRIZWlnaHQgLSAxOwoKCQkJCW9yaWdpbmFsU2Nyb2xsTGVmdCA9IGVsZW0uc2Nyb2xsTGVmdDsKCgkJCQlpZiAob3JpZ2luYWxTY3JvbGxMZWZ0IDw9IDApCgkJCQkJZWxlbS5zY3JvbGxMZWZ0ID0gMTsKCgkJCQlpZiAob3JpZ2luYWxTY3JvbGxMZWZ0ICsgZWxlbS5vZmZzZXRXaWR0aCA+PSBlbGVtLnNjcm9sbFdpZHRoKQoJCQkJCWVsZW0uc2Nyb2xsTGVmdCA9IGVsZW0uc2Nyb2xsV2lkdGggLSBlbGVtLm9mZnNldFdpZHRoIC0gMTsKCQkJfSk7CgkJfQoKCQlmdW5jdGlvbiBidWlsZENvdW50QnViYmxlKGNvbnRleHQpIHsKCQkJLyp2YXIgd3JhcHBlciA9IGNvbnRleHQuYWN0aXZhdGlvbkxpbmsud3JhcCgnPHNwYW4+PC9zcGFuPicpLnBhcmVudCgnc3BhbicpLmNzcyh7CgkJCSBwb3NpdGlvbjogJ3JlbGF0aXZlJwoJCQkgfSk7Ki8KCQkJdmFyIHdyYXBwZXIgPSBjb250ZXh0LmFjdGl2YXRpb25MaW5rLnBhcmVudCgpOwoJCQl2YXIgY291bnQgPSAkKCc8YSBocmVmPSIjIiBjbGFzcz0icG9wdXAtbGlzdC1jb3VudCAnICsgY29udGV4dC50aXRsZUNvdW50Q2xhc3MgKyAnIj48L2E+Jyk7CgkJCWNvdW50LmFwcGVuZFRvKHdyYXBwZXIpLmhpZGUoKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkgewoJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJY29udGV4dC5hY3RpdmF0aW9uTGluay5jbGljaygpOwoJCQl9KTsKCQkJcmV0dXJuIGNvdW50OwoJCX0KCgkJZnVuY3Rpb24gYnVpbGRVbnJlYWRDb3VudE1lc3NhZ2UoY29udGV4dCwgY291bnQpIHsKCQkJY291bnQgPSBjb3VudCB8fCAwOwoJCQlpZiAoY291bnQgPT09IDEpIHsKCQkJCXJldHVybiBjb250ZXh0LnVucmVhZENvdW50TWVzc2FnZVNpbmd1bGFyLnJlcGxhY2UoL1x7MFx9L2dpLCBjb3VudCk7CgkJCX0KCQkJZWxzZSB7CgkJCQlyZXR1cm4gY29udGV4dC51bnJlYWRDb3VudE1lc3NhZ2VQbHVyYWwucmVwbGFjZSgvXHswXH0vZ2ksIGNvdW50KTsKCQkJfQoJCX0KCgkJZnVuY3Rpb24gc2hvd1VucmVhZENvdW50KGNvbnRleHQsIGNvdW50KSB7CgkJCWlmICghY29udGV4dC5zaG93Q291bnQpCgkJCQlyZXR1cm47CgkJCXZhciBkaWZmZXJlbmNlID0gY291bnQgLSBjb250ZXh0LnByZXZpb3VzQ291bnQ7CgkJCWNvbnRleHQucHJldmlvdXNDb3VudCA9IGNvdW50OwoJCQlpZiAoY29udGV4dC50aXRsZUNvdW50KSB7CgkJCQl0b3RhbFRpdGxlQ291bnQgKz0gZGlmZmVyZW5jZTsKCQkJCXVwZGF0ZVRpdGxlKGNvbnRleHQpOwoJCQl9CgkJCXZhciB1bnJlYWRDb3VudE1lc3NhZ2UgPSBidWlsZFVucmVhZENvdW50TWVzc2FnZShjb250ZXh0LCBjb3VudCk7CgkJCWlmIChjb3VudCA8PSAwKSB7CgkJCQkvLyByZW1vdmUgYnViYmxlIHVpCgkJCQlpZiAoY29udGV4dC5jb3VudCkKCQkJCQljb250ZXh0LmNvdW50LmZhZGVPdXQoMjAwKTsKCQkJCWNvbnRleHQuYWN0aXZhdGlvbkxpbmsuYXR0cignZGF0YS10aXAnLCB1bnJlYWRDb3VudE1lc3NhZ2UpLmF0dHIoJ3RpdGxlJywgdW5yZWFkQ291bnRNZXNzYWdlKTsKCQkJfQoJCQllbHNlIHsKCQkJCS8vIGFkZCBidWJibGUgdWkgaWYgbm90IHRoZXJlCgkJCQljb250ZXh0LmNvdW50ID0gY29udGV4dC5jb3VudCB8fCBidWlsZENvdW50QnViYmxlKGNvbnRleHQpOwoJCQkJLy8gc2V0IHRoZSBjb3VudCBhbmQgZGlzcGxheSBpdAoJCQkJY29udGV4dC5jb3VudAoJCQkJCQkJCS5odG1sKChjb250ZXh0LmxpbWl0Q291bnQgJiYgY29udGV4dC5saW1pdENvdW50IDwgY291bnQpID8gY29udGV4dC5saW1pdENvdW50ICsgIisiIDogY291bnQpCgkJCQkJCQkJLmF0dHIoJ3RpdGxlJywgdW5yZWFkQ291bnRNZXNzYWdlKQoJCQkJCQkJCS5mYWRlSW4oMjAwKTsKCQkJCWNvbnRleHQuYWN0aXZhdGlvbkxpbmsuYXR0cignZGF0YS10aXAnLCB1bnJlYWRDb3VudE1lc3NhZ2UpLmF0dHIoJ3RpdGxlJywgdW5yZWFkQ291bnRNZXNzYWdlKTsKCQkJfQoJCX0KCgkJZnVuY3Rpb24gbG9hZFNob3dTZXR0aW5ncyhhY3RpdmF0b3IsIGNvbnRleHQpIHsKCQkJcmV0dXJuICQuRGVmZXJyZWQoZnVuY3Rpb24gKGRmZCkgewoJCQkJY29udGV4dC5vblNob3coYWN0aXZhdG9yLCBmdW5jdGlvbiAoc2V0dGluZ3MpIHsKCQkJCQlkZmQucmVzb2x2ZSgkLmV4dGVuZCh7fSwgZGVmYXVsdFNob3dTZXR0aW5ncywgc2V0dGluZ3MgfHwge30pKTsKCQkJCX0pOwoJCQl9KS5wcm9taXNlKCk7CgkJfQoKCQlmdW5jdGlvbiBsb2FkQ29udGVudChjb250ZXh0LCBwYWdlSW5kZXgsIHNob3VsZFJlZnJlc2hVbnJlYWRDb3VudCkgewoJCQljb250ZXh0LmxvYWRpbmcgPSB0cnVlOwoJCQkvLyBjYWxsIHRoZSBpbmplY3RlZCBsb2FkaW5nIG1ldGhvZCwgYW5kIHJldHVybiBhIHByb21pc2UKCQkJLy8gd2hpY2gsIHdoZW4gZG9uZSwgcHJvdmlkZXMgdGhlIGNvbnRlbnQgZnJvbSB0aGUgbG9hZGluZyBtZXRob2QKCQkJcmV0dXJuICQuRGVmZXJyZWQoZnVuY3Rpb24gKGRmZCkgewoJCQkJaWYgKGNvbnRleHQub25TaG93TG9hZGluZ0luZGljYXRvcigpKSB7CgkJCQkJc2hvd0xvYWRpbmcoY29udGV4dCwgKHBhZ2VJbmRleCA+IDApKTsKCQkJCX0KCQkJCWNvbnRleHQub25Mb2FkKHBhZ2VJbmRleCwgc2hvdWxkUmVmcmVzaFVucmVhZENvdW50LCBjb250ZXh0LmZpbHRlciB8fCAnJywgZnVuY3Rpb24gKGNvbnRlbnQpIHsKCQkJCQlpZiAoY29udGVudCA9PT0gbnVsbCB8fCBjb250ZW50ID09PSB1bmRlZikgewoJCQkJCQlkZmQucmVqZWN0KCk7CgkJCQkJfQoJCQkJCWVsc2UgewoJCQkJCQlpZiAoY29udGV4dC5vblNob3dMb2FkaW5nSW5kaWNhdG9yKCkpCgkJCQkJCQloaWRlTG9hZGluZyhjb250ZXh0LCAocGFnZUluZGV4ID4gMCkpOwoJCQkJCQlkZmQucmVzb2x2ZShjb250ZW50KTsKCQkJCQl9CgkJCQl9KTsKCQkJfSkucHJvbWlzZSgpOwoJCX0KCgkJZnVuY3Rpb24gYnVpbGRQb3BVcChjb250ZXh0KSB7CgkJCWNvbnRleHQuY29tcGlsZWRUZW1wbGF0ZSA9IGNvbnRleHQuY29tcGlsZWRUZW1wbGF0ZSB8fCAkLnRlbGxpZ2VudC5ldm9sdXRpb24udGVtcGxhdGUuY29tcGlsZShjb250ZXh0LnRlbXBsYXRlKTsKCgkJCWNvbnRleHQucG9wdXAgPSAkKGNvbnRleHQuY29tcGlsZWRUZW1wbGF0ZShjb250ZXh0KSk7CgkJCWNvbnRleHQubG9hZGluZ0luZGljYXRvciA9IGNvbnRleHQucG9wdXAuZmluZCgnLmxvYWRpbmcnKS5oaWRlKCk7CgkJCWNvbnRleHQucG9wdXBDb250ZW50TGlzdCA9IGNvbnRleHQucG9wdXAuZmluZCgnLmNvbnRlbnQtbGlzdCcpOwoJCQljb250ZXh0LmZvb3RlciA9IGNvbnRleHQucG9wdXAuZmluZCgnLmNvbnRlbnQtbGlzdC1mb290ZXInKTsKCQkJY29udGV4dC5wb3B1cC5nbG93UG9wVXBQYW5lbCh7CgkJCQljc3NDbGFzczogJ3BvcHVwLWxpc3QgJyArIGNvbnRleHQuY3NzQ2xhc3MsCgkJCQloaWRlT25Eb2N1bWVudENsaWNrOiBmYWxzZSwKCQkJCWhpZGVPblJlc2l6ZTogKHN1cHBvcnRzVG91Y2goKSA/IGZhbHNlIDogdHJ1ZSksCgkJCQlwb3NpdGlvbjogJ2Rvd24nLAoJCQkJekluZGV4OiAxMDAwCgkJCX0pLm9uKCdnbG93UG9wVXBQYW5lbEhpZGRlbicsIGZ1bmN0aW9uICgpIHsKCQkJCShjb250ZXh0LmFjdGl2YXRvcikucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpOwoJCQkJY29udGV4dC5vbkhpZGUoKTsKCQkJCXVuYmxvY2tXaW5kb3dTY3JvbGxpbmcoY29udGV4dCk7CgkJCX0pOwoJCQkkKGRvY3VtZW50KS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7CgkJCQljb250ZXh0LnBvcHVwLmdsb3dQb3BVcFBhbmVsKCdoaWRlJyk7CgkJCX0pOwoJCQlpZiAoY29udGV4dC5vbkJ1aWxkRmlsdGVyICE9PSBudWxsKSB7CgkJCQl2YXIgZmlsdGVyID0gY29udGV4dC5vbkJ1aWxkRmlsdGVyKGZ1bmN0aW9uIChyZXN1bHQpIHsKCQkJCQlpZiAoIWlzT3Blbk9yT3BlbmluZyhjb250ZXh0KSkKCQkJCQkJcmV0dXJuOwoJCQkJCWNvbnRleHQuZmlsdGVyID0gcmVzdWx0OwoJCQkJCWNvbnRleHQuY3VycmVudFBhZ2VJbmRleCA9IDA7CgkJCQkJbG9hZENvbnRlbnQoY29udGV4dCwgY29udGV4dC5jdXJyZW50UGFnZUluZGV4LCB0cnVlKS50aGVuKGZ1bmN0aW9uIChjb250ZW50KSB7CgkJCQkJCWFwcGVuZFRvUG9wdXAoY29udGV4dCwgY29udGVudCwgdHJ1ZSk7CgkJCQkJfSk7CgkJCQl9KTsKCQkJCWlmIChmaWx0ZXIpIHsKCQkJCQkkKGZpbHRlcikuaW5zZXJ0QmVmb3JlKGNvbnRleHQucG9wdXBDb250ZW50TGlzdCk7CgkJCQl9CgkJCX0KCQl9CgoJCWZ1bmN0aW9uIHNob3dMb2FkaW5nKGNvbnRleHQsIGFwcGVuZCkgewoJCQlpZiAoYXBwZW5kKSB7CgkJCQljb250ZXh0LmxvYWRpbmdJbmRpY2F0b3Iuc2hvdygpOwoJCQl9CgkJCWVsc2UgewoJCQkJc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CgkJCQkJaWYgKCFjb250ZXh0LmxvYWRpbmcpCgkJCQkJCXJldHVybjsKCQkJCQlpZiAob3BlbkhlYWRlckxpc3RDb250ZXh0KSB7CgkJCQkJCWhpZGVQb3B1cChvcGVuSGVhZGVyTGlzdENvbnRleHQpOwoJCQkJCX0KCQkJCQlvcGVuSGVhZGVyTGlzdENvbnRleHQgPSBjb250ZXh0OwoJCQkJCWNvbnRleHQucG9wdXAuZ2xvd1BvcFVwUGFuZWwoJ3Nob3cnLCAoY29udGV4dC5zaG93U2V0dGluZ3MuYXR0YWNoVG8gfHwgY29udGV4dC5hY3RpdmF0b3IpLCB0cnVlKTsKCQkJCQljb250ZXh0LmxvYWRpbmdJbmRpY2F0b3Iuc2hvdygpOwoJCQkJCShjb250ZXh0LmFjdGl2YXRvcikucGFyZW50KCkuYWRkQ2xhc3MoJ2FjdGl2ZScpOwoJCQkJCWJsb2NrV2luZG93U2Nyb2xsaW5nKGNvbnRleHQpOwoJCQkJfSwgMjApOwoJCQl9CgkJfQoKCQlmdW5jdGlvbiBoaWRlTG9hZGluZyhjb250ZXh0LCBhcHBlbmQpIHsKCQkJY29udGV4dC5sb2FkaW5nSW5kaWNhdG9yLmhpZGUoKS5yZW1vdmUoKTsKCQl9CgoJCWZ1bmN0aW9uIHNob3dQb3B1cChjb250ZXh0LCBjb250ZW50LCBzaG93U2V0dGluZ3MpIHsKCQkJaWYgKG9wZW5IZWFkZXJMaXN0Q29udGV4dCkgewoJCQkJaGlkZVBvcHVwKG9wZW5IZWFkZXJMaXN0Q29udGV4dCk7CgkJCX0KCQkJb3BlbkhlYWRlckxpc3RDb250ZXh0ID0gY29udGV4dDsKCQkJY29udGV4dC5wb3B1cENvbnRlbnRMaXN0Lmh0bWwoY29udGVudCk7CgkJCWNvbnRleHQucG9wdXAuZ2xvd1BvcFVwUGFuZWwoJ3Nob3cnLCAoc2hvd1NldHRpbmdzLmF0dGFjaFRvIHx8IGNvbnRleHQuYWN0aXZhdG9yKSwgdHJ1ZSk7CgkJCWNvbnRleHQubG9hZGluZyA9IGZhbHNlOwoJCQljb250ZXh0Lmhhc01vcmUgPSBjb250ZXh0LnBvcHVwQ29udGVudExpc3QuY2hpbGRyZW4oJ2xpOmxhc3QnKS5kYXRhKCdoYXNtb3JlJykgPyB0cnVlIDogZmFsc2U7CgkJCShjb250ZXh0LmFjdGl2YXRvcikucGFyZW50KCkuYWRkQ2xhc3MoJ2FjdGl2ZScpOwoJCQljb250ZXh0LnBvcHVwQ29udGVudCA9IGNvbnRleHQucG9wdXBDb250ZW50TGlzdC5jbG9zZXN0KCcucG9wdXAtbGlzdCcpOwoJCQljb250ZXh0LnBvcHVwQ29udGFpbmVyID0gY29udGV4dC5wb3B1cENvbnRlbnQucGFyZW50KCk7CgkJCWNvbnRleHQucG9wdXBDb250YWluZXIuY3NzKHtoZWlnaHQ6IGNvbnRleHQucG9wdXBDb250ZW50Lm91dGVySGVpZ2h0KCl9KTsKCQkJY29udGV4dC5wb3B1cENvbnRlbnQuZmluZCgnLnVpLXZpZXdodG1sJykub24oJ3JlbmRlcmVkJywgZnVuY3Rpb24gKCkgewoJCQkJZ2xvYmFsLnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewoJCQkJCWNvbnRleHQucG9wdXBDb250YWluZXIuY3NzKHtoZWlnaHQ6IGNvbnRleHQucG9wdXBDb250ZW50Lm91dGVySGVpZ2h0KCl9KTsKCQkJCX0sIDI1MCk7CgkJCX0pOwoJCQlibG9ja1dpbmRvd1Njcm9sbGluZyhjb250ZXh0KTsKCQkJY29udGV4dC5jdXJyZW50SXRlbUluZGV4ID0gbnVsbDsKCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLm1lc3NhZ2luZy5wdWJsaXNoKGFjdGl2YXRlTWVzc2FnZSwge2tleTogY29udGV4dC5rZXl9KTsKCQl9CgoJCWZ1bmN0aW9uIGhpZGVQb3B1cChjb250ZXh0KSB7CgkJCWNvbnRleHQucG9wdXAuZ2xvd1BvcFVwUGFuZWwoJ2hpZGUnKTsKCQkJdW5ibG9ja1dpbmRvd1Njcm9sbGluZyhjb250ZXh0KTsKCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLm1lc3NhZ2luZy5wdWJsaXNoKGRlYWN0aXZhdGVNZXNzYWdlLCB7a2V5OiBjb250ZXh0LmtleX0pOwoJCX0KCgkJZnVuY3Rpb24gYXBwZW5kVG9Qb3B1cChjb250ZXh0LCBjb250ZW50LCBzaG91bGRSZXBsYWNlKSB7CgkJCWlmIChjb250ZW50ID09PSBudWxsKQoJCQkJcmV0dXJuOwoJCQlpZiAoc2hvdWxkUmVwbGFjZSkgewoJCQkJY29udGV4dC5wb3B1cENvbnRlbnRMaXN0Lmh0bWwoY29udGVudCk7CgkJCX0KCQkJZWxzZSB7CgkJCQljb250ZXh0LnBvcHVwQ29udGVudExpc3QuYXBwZW5kKGNvbnRlbnQpOwoJCQl9CgkJCWNvbnRleHQubG9hZGluZyA9IGZhbHNlOwoJCQljb250ZXh0Lmhhc01vcmUgPSBjb250ZXh0LnBvcHVwQ29udGVudExpc3QuY2hpbGRyZW4oJ2xpOmxhc3QnKS5kYXRhKCdoYXNtb3JlJykgPyB0cnVlIDogZmFsc2U7CgkJCWNvbnRleHQucG9wdXBDb250ZW50ID0gY29udGV4dC5wb3B1cENvbnRlbnRMaXN0LmNsb3Nlc3QoJy5wb3B1cC1saXN0Jyk7CgkJCWNvbnRleHQucG9wdXBDb250YWluZXIgPSBjb250ZXh0LnBvcHVwQ29udGVudC5wYXJlbnQoKTsKCQkJY29udGV4dC5wb3B1cENvbnRhaW5lci5jc3Moe2hlaWdodDogY29udGV4dC5wb3B1cENvbnRlbnQub3V0ZXJIZWlnaHQoKX0pOwoJCQljb250ZXh0LnBvcHVwQ29udGVudC5maW5kKCcudWktdmlld2h0bWwnKS5vbigncmVuZGVyZWQnLCBmdW5jdGlvbiAoKSB7CgkJCQlnbG9iYWwuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CgkJCQkJY29udGV4dC5wb3B1cENvbnRhaW5lci5jc3Moe2hlaWdodDogY29udGV4dC5wb3B1cENvbnRlbnQub3V0ZXJIZWlnaHQoKX0pOwoJCQkJfSwgMjUwKTsKCQkJfSk7CgkJfQoKCQlmdW5jdGlvbiBkZWFjdGl2YXRlKGNvbnRleHQpIHsKCQkJaGlkZVBvcHVwKGNvbnRleHQpOwoJCX0KCgkJZnVuY3Rpb24gYWN0aXZhdGUoYWN0aXZhdG9yLCBjb250ZXh0KSB7CgkJCWNvbnRleHQuY3VycmVudFBhZ2VJbmRleCA9IDA7CgkJCWNvbnRleHQuaGFzTW9yZSA9IHRydWU7CgkJCWFjdGl2YXRvci5wYXJlbnQoKS5hZGRDbGFzcygnYWN0aXZlJyk7CgkJCWxvYWRTaG93U2V0dGluZ3MoYWN0aXZhdG9yLCBjb250ZXh0KS50aGVuKGZ1bmN0aW9uIChzaG93U2V0dGluZ3MpIHsKCQkJCWNvbnRleHQuc2hvd1NldHRpbmdzID0gc2hvd1NldHRpbmdzOwoJCQkJY29udGV4dC5wb3B1cENvbnRlbnRMaXN0LmNzcyh7CgkJCQkJd2lkdGg6IHNob3dTZXR0aW5ncy53aWR0aCwKCQkJCQltYXhIZWlnaHQ6IHNob3dTZXR0aW5ncy5tYXhIZWlnaHQKCQkJCX0pOwoJCQkJbG9hZENvbnRlbnQoY29udGV4dCwgY29udGV4dC5jdXJyZW50UGFnZUluZGV4LCB0cnVlKS50aGVuKGZ1bmN0aW9uIChjb250ZW50KSB7CgkJCQkJc2hvd1BvcHVwKGNvbnRleHQsIGNvbnRlbnQsIHNob3dTZXR0aW5ncyk7CgkJCQkJY29udGV4dC5wb3B1cENvbnRhaW5lci5yZW1vdmVDbGFzcygpLmFkZENsYXNzKHNob3dTZXR0aW5ncy5jb250YWluZXJDc3NDbGFzcyk7CgkJCQl9KTsKCQkJfSk7CgkJfQoKCQlmdW5jdGlvbiBoYW5kbGVQb3BvdXBPcGVuZXJDbGljayhsaW5rLCBjb250ZXh0KSB7CgkJCWlmIChjb250ZXh0LnBvcHVwLmdsb3dQb3BVcFBhbmVsKCdpc09wZW5pbmcnKSkgewoJCQkJcmV0dXJuOwoJCQl9CgkJCWVsc2UgaWYgKGNvbnRleHQucG9wdXAuZ2xvd1BvcFVwUGFuZWwoJ2lzU2hvd24nKSkgewoJCQkJaGlkZVBvcHVwKGNvbnRleHQpOwoJCQkJZGVhY3RpdmF0ZShjb250ZXh0KTsKCQkJfQoJCQllbHNlIHsKCQkJCWFjdGl2YXRlKGxpbmssIGNvbnRleHQpOwoJCQl9CgkJfQoKCQlmdW5jdGlvbiBpc09wZW5Pck9wZW5pbmcoY29udGV4dCkgewoJCQlyZXR1cm4gY29udGV4dC5wb3B1cC5nbG93UG9wVXBQYW5lbCgnaXNPcGVuaW5nJykgfHwKCQkJCQkJCWNvbnRleHQucG9wdXAuZ2xvd1BvcFVwUGFuZWwoJ2lzU2hvd24nKTsKCQl9CgoJCWZ1bmN0aW9uIG1vdmUoY29udGV4dCwgZGlyZWN0aW9uLCBoYW5kbGVyKSB7CgkJCXZhciBhdmFpbGFibGVJdGVtcyA9ICQoY29udGV4dC5wb3B1cENvbnRlbnRMaXN0LmNoaWxkcmVuKCdsaS5jb250ZW50LWl0ZW0nKSk7CgkJCWlmIChhdmFpbGFibGVJdGVtcy5sZW5ndGggPT0gMCkKCQkJCXJldHVybjsKCgkJCWF2YWlsYWJsZUl0ZW1zLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpOwoKCQkJaWYgKGNvbnRleHQuY3VycmVudEl0ZW1JbmRleCA9PT0gbnVsbCkgewoJCQkJY29udGV4dC5jdXJyZW50SXRlbUluZGV4ID0gMDsKCQkJfQoJCQllbHNlIGlmIChkaXJlY3Rpb24gPT0gJ2Rvd24nKSB7CgkJCQljb250ZXh0LmN1cnJlbnRJdGVtSW5kZXgrKzsKCQkJCWlmIChjb250ZXh0LmN1cnJlbnRJdGVtSW5kZXggPj0gYXZhaWxhYmxlSXRlbXMubGVuZ3RoKQoJCQkJCWNvbnRleHQuY3VycmVudEl0ZW1JbmRleCA9IDA7CgkJCX0KCQkJZWxzZSBpZiAoZGlyZWN0aW9uID09ICd1cCcpIHsKCQkJCWNvbnRleHQuY3VycmVudEl0ZW1JbmRleC0tOwoJCQkJaWYgKGNvbnRleHQuY3VycmVudEl0ZW1JbmRleCA8IDApCgkJCQkJY29udGV4dC5jdXJyZW50SXRlbUluZGV4ID0gKGF2YWlsYWJsZUl0ZW1zLmxlbmd0aCAtIDEpOwoJCQl9CgoJCQkvLyBnZXQgaXRlbSB0byBzY3JvbGwgdG8KCQkJdmFyIHNlbGVjdGVkSXRlbSA9ICQoYXZhaWxhYmxlSXRlbXNbY29udGV4dC5jdXJyZW50SXRlbUluZGV4XSk7CgkJCWlmICghc2VsZWN0ZWRJdGVtKQoJCQkJcmV0dXJuOwoKCQkJLy8gc2Nyb2xsIHRvIGl0CgkJCWNvbnRleHQucG9wdXBDb250ZW50TGlzdC5hbmltYXRlKHsKCQkJCXNjcm9sbFRvcDogKGNvbnRleHQucG9wdXBDb250ZW50TGlzdC5zY3JvbGxUb3AoKSAtCgkJCQljb250ZXh0LnBvcHVwQ29udGVudExpc3Qub2Zmc2V0KCkudG9wICsKCQkJCXNlbGVjdGVkSXRlbS5vZmZzZXQoKS50b3AgLQoJCQkJc2VsZWN0ZWRJdGVtLmhlaWdodCgpKQoJCQl9LCAxMDApOwoKCQkJLy8gaGlnaGxpZ2h0IGl0CgkJCXNlbGVjdGVkSXRlbS5hZGRDbGFzcygnc2VsZWN0ZWQnKTsKCgkJCS8vIGluZm9ybSBjYWxsaW5nIGNvZGUgb2Ygc2VsZWN0aW9uCgkJCWhhbmRsZXIoc2VsZWN0ZWRJdGVtKTsKCQl9CgoJCWZ1bmN0aW9uIGhhbmRsZUV2ZW50cyhjb250ZXh0KSB7CgkJCWNvbnRleHQuYWN0aXZhdGlvbkxpbmsub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHsKCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCWhhbmRsZVBvcG91cE9wZW5lckNsaWNrKGNvbnRleHQuYWN0aXZhdGlvbkxpbmssIGNvbnRleHQpOwoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9KTsKCQkJLy8gZ28gYWhlYWQgYW5kIGltbWVpZGF0ZWx5IGhhbmRsZSwgYXMgaGFuZGxlRXZlbnRzIGlzIG9ubHkKCQkJLy8gZmlyc3QgY2FsbGVkIGZyb20gYSBkZWZlcnJlZCBjbGljawoJCQkvLyBoYW5kbGVQb3BvdXBPcGVuZXJDbGljayhjb250ZXh0LmFjdGl2YXRpb25MaW5rLCBjb250ZXh0KTsKCgkJCWNvbnRleHQuYWN0aXZhdGlvbklucHV0Lm9uKHsKCQkJCWZvY3VzOiBmdW5jdGlvbiAoZSkgewoJCQkJCWUucHJldmVudERlZmF1bHQoKTsKCgkJCQkJdmFyIHZhbCA9ICQudHJpbShjb250ZXh0LmFjdGl2YXRpb25JbnB1dC52YWwoKSk7CgkJCQkJaWYgKCFpc09wZW5Pck9wZW5pbmcoY29udGV4dCkgJiYgdmFsLmxlbmd0aCA+PSAzKSB7CgkJCQkJCWFjdGl2YXRlKCQoZS50YXJnZXQpLCBjb250ZXh0KTsKCQkJCQl9CgoJCQkJCXJldHVybiBmYWxzZTsKCQkJCX0sCgkJCQlibHVyOiBmdW5jdGlvbiAoZSkgewoJCQkJfSwKCQkJCSdpbnB1dCBwcm9wZXJ0eWNoYW5nZSc6IGZ1bmN0aW9uIChlKSB7CgkJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoKCQkJCQlpZiAoZS50eXBlID09ICdwcm9wZXJ0eWNoYW5nZScgJiYgZS5vcmlnaW5hbEV2ZW50LnByb3BlcnR5TmFtZSAhPSAidmFsdWUiKQoJCQkJCQlyZXR1cm4gZmFsc2U7CgoJCQkJCXZhciB2YWwgPSAkLnRyaW0oY29udGV4dC5hY3RpdmF0aW9uSW5wdXQudmFsKCkpOwoJCQkJCWlmICghaXNPcGVuT3JPcGVuaW5nKGNvbnRleHQpICYmIHZhbC5sZW5ndGggPj0gMykgewoJCQkJCQlhY3RpdmF0ZSgkKGUudGFyZ2V0KSwgY29udGV4dCk7CgkJCQkJfQoJCQkJCWVsc2UgaWYgKGlzT3Blbk9yT3BlbmluZyhjb250ZXh0KSAmJiB2YWwubGVuZ3RoIDwgMykgewoJCQkJCQlkZWFjdGl2YXRlKGNvbnRleHQpOwoJCQkJCX0KCgkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJfQoKCgkJCX0pOwoJCQkvLyBoYW5kbGUgZW5kbGVzcyBzY3JvbGxpbmcgaWYgZW5hYmxlZAoJCQlpZiAoY29udGV4dC5lbmRsZXNzU2Nyb2xsKSB7CgkJCQljb250ZXh0LnBvcHVwQ29udGVudExpc3Qub24oJ3Njcm9sbGVuZCcsIGZ1bmN0aW9uICgpIHsKCQkJCQlpZiAoIWNvbnRleHQuaGFzTW9yZSkgewoJCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQkJfQoJCQkJCWlmIChjb250ZXh0LmxvYWRpbmcpIHsKCQkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJCX0KCQkJCQljb250ZXh0LmN1cnJlbnRQYWdlSW5kZXgrKzsKCQkJCQlsb2FkQ29udGVudChjb250ZXh0LCBjb250ZXh0LmN1cnJlbnRQYWdlSW5kZXgsIHRydWUpLmRvbmUoZnVuY3Rpb24gKGNvbnRlbnQpIHsKCQkJCQkJYXBwZW5kVG9Qb3B1cChjb250ZXh0LCBjb250ZW50KTsKCQkJCQl9KTsKCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQl9KTsKCQkJfQoKCQkJY29udGV4dC5wb3B1cENvbnRlbnRMaXN0Lm9uKCdjbGljaycsICcuY29udGVudC1pdGVtJywgZnVuY3Rpb24gKGUpIHsKCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCWNvbnRleHQub25TZWxlY3QodGhpcyk7CgkJCX0pOwoJCQljb250ZXh0LnBvcHVwQ29udGVudExpc3Qub24oJ2NsaWNrJywgJ2EnLCBmdW5jdGlvbiAoZSkgewoJCQkJZS5zdG9wUHJvcGFnYXRpb24oKTsKCQkJfSk7CgkJfQoKCQlmdW5jdGlvbiBpbml0Q29udGV4dChjb250ZXh0KSB7CgkJCWNvbnRleHQuYWN0aXZhdGlvbkxpbmsgPSAkKGNvbnRleHQuYWN0aXZhdGlvbkxpbmspOwoJCQljb250ZXh0LmFjdGl2YXRpb25JbnB1dCA9ICQoY29udGV4dC5hY3RpdmF0aW9uSW5wdXQpOwoJCQljb250ZXh0LmFjdGl2YXRvciA9IGNvbnRleHQuYWN0aXZhdGlvbkxpbmsubGVuZ3RoID4gMCA/IGNvbnRleHQuYWN0aXZhdGlvbkxpbmsgOiBjb250ZXh0LmFjdGl2YXRpb25JbnB1dDsKCQl9CgoJCWZ1bmN0aW9uIGFwaShvcHRpb25zKSB7CgkJCS8vIHByaXZhdGUgaW5zdGFuY2UgbWVtYmVycyBvZiBhIEhlYWRlckxpc3QKCQkJdmFyIGNvbnRleHQgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMgfHwge30pOwoJCQlpbml0Q29udGV4dChjb250ZXh0KTsKCQkJdmFyIGluaXRlZCA9IGZhbHNlOwoKCQkJZnVuY3Rpb24gaW5pdCgpIHsKCQkJCWlmIChpbml0ZWQpCgkJCQkJcmV0dXJuOwoJCQkJaW5pdGVkID0gdHJ1ZTsKCQkJCWJ1aWxkUG9wVXAoY29udGV4dCk7CgkJCQloYW5kbGVFdmVudHMoY29udGV4dCk7CgkJCX0KCgkJCS8vIGxhenktc2V0dXAgdW50aWwgY2xpY2tlZAoJCQljb250ZXh0LmFjdGl2YXRpb25MaW5rLm9uZSgnY2xpY2snLCBmdW5jdGlvbiAoZSkgewoJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJaW5pdCgpOwoJCQkJY29udGV4dC5hY3RpdmF0aW9uTGluay5jbGljaygpOwoJCQl9KTsKCQkJY29udGV4dC5hY3RpdmF0aW9uSW5wdXQub25lKCdmb2N1cycsIGZ1bmN0aW9uIChlKSB7CgkJCQlpbml0KCk7CgkJCQljb250ZXh0LmFjdGl2YXRpb25JbnB1dC5mb2N1cygpOwoJCQl9KTsKCQkJc2hvd1VucmVhZENvdW50KGNvbnRleHQsIGNvbnRleHQuaW5pdGlhbFVucmVhZENvdW50KTsKCgkJCS8vIHB1YmxpYyBpbnN0YW5jZSBtZW1iZXJzIG9mIGEgSGVhZGVyTGlzdAoJCQlyZXR1cm4gewoJCQkJcmVmcmVzaFVucmVhZENvdW50OiBmdW5jdGlvbiAoKSB7CgkJCQkJcmV0dXJuIGNvbnRleHQub25SZWZyZXNoVW5yZWFkQ291bnQoZnVuY3Rpb24gKG5ld0NvdW50KSB7CgkJCQkJCXNob3dVbnJlYWRDb3VudChjb250ZXh0LCBuZXdDb3VudCk7CgkJCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewoJCQkJCQkJaWYgKGNvbnRleHQucG9wdXBDb250YWluZXIpCgkJCQkJCQkJY29udGV4dC5wb3B1cENvbnRhaW5lci5jc3Moe2hlaWdodDogY29udGV4dC5wb3B1cENvbnRlbnQub3V0ZXJIZWlnaHQoKX0pOwoJCQkJCQl9LCAxMTApCgkJCQkJfSk7CgkJCQl9LAoJCQkJcmVmcmVzaENvbnRlbnQ6IGZ1bmN0aW9uICgpIHsKCQkJCQkvLyByZWZyZXNoaW5nIGNvbnRlbnQgb25seSBoYXMgYW4gZWZmZWN0IGlmIGFscmVhZHkgc2hvd24KCQkJCQlpZiAoY29udGV4dC5wb3B1cCAmJiBjb250ZXh0LnBvcHVwLmdsb3dQb3BVcFBhbmVsKCdpc1Nob3duJykpIHsKCQkJCQkJY29udGV4dC5jdXJyZW50UGFnZUluZGV4ID0gMDsKCQkJCQkJbG9hZENvbnRlbnQoY29udGV4dCwgY29udGV4dC5jdXJyZW50UGFnZUluZGV4LCBmYWxzZSkudGhlbihmdW5jdGlvbiAoY29udGVudCkgewoJCQkJCQkJYXBwZW5kVG9Qb3B1cChjb250ZXh0LCBjb250ZW50LCB0cnVlKTsKCQkJCQkJfSk7CgkJCQkJfQoJCQkJfSwKCQkJCWNvbnRlbnQ6IGZ1bmN0aW9uICgpIHsKCQkJCQlyZXR1cm4gY29udGV4dC5wb3B1cENvbnRlbnRMaXN0OwoJCQkJfSwKCQkJCWZvb3RlcjogZnVuY3Rpb24gKCkgewoJCQkJCXJldHVybiBjb250ZXh0LmZvb3RlcjsKCQkJCX0sCgkJCQlhY3RpdmF0ZTogZnVuY3Rpb24gKCkgewoJCQkJCWluaXQoKTsKCQkJCQlhY3RpdmF0ZSgkKGNvbnRleHQuYWN0aXZhdGlvbklucHV0IHx8IGNvbnRleHQuYWN0aXZhdGlvbkxpbmspLCBjb250ZXh0KTsKCQkJCX0sCgkJCQlkZWFjdGl2YXRlOiBmdW5jdGlvbiAoKSB7CgkJCQkJZGVhY3RpdmF0ZShjb250ZXh0KTsKCQkJCX0sCgkJCQltb3ZlVXA6IGZ1bmN0aW9uIChoYW5kbGVyKSB7CgkJCQkJbW92ZShjb250ZXh0LCAndXAnLCBoYW5kbGVyKTsKCQkJCX0sCgkJCQltb3ZlRG93bjogZnVuY3Rpb24gKGhhbmRsZXIpIHsKCQkJCQltb3ZlKGNvbnRleHQsICdkb3duJywgaGFuZGxlcik7CgkJCQl9CgkJCX07CgkJfQoKCQkvLyBwdWJsaWMgc3RhdGljIG1lbWJlcnMgb2YgYSBIZWFkZXJMaXN0CgkJYXBpLmhpZGVDdXJyZW50ID0gZnVuY3Rpb24gKCkgewoJCQlpZiAob3BlbkhlYWRlckxpc3RDb250ZXh0KSB7CgkJCQloaWRlUG9wdXAob3BlbkhlYWRlckxpc3RDb250ZXh0KTsKCQkJfQoJCX07CgoJCXJldHVybiBhcGk7CgoJfSkoJCk7CgoJZnVuY3Rpb24gaW5pdE5vdGlmaWNhdGlvbkxpc3QoY29udGV4dCkgewoJCXZhciBkZWJvdW5jZWROb3RpZmljYXRpb25SZWFkVGltZW91dDsKCQl2YXIgc3VwcHJlc3NOb3RpZmljYXRpb25zUmVhZE1lc3NhZ2UgPSBmYWxzZTsKCQl2YXIgc3VwcHJlc3NOb3RpZmljYXRpb25zUmVhZE1lc3NhZ2VUaW1lb3V0OwoJCXZhciBjdXJyZW50VG90YWxDb3VudCA9IDA7CgoJCWZ1bmN0aW9uIGRpc3BsYXlOb3RpZmljYXRpb25QcmVmZXJlbmNlKGNvbnRleHQsIG5vdGlmaWNhdGlvbkl0ZW0pIHsKCQkJLy8gc2V0IHRoZSBub3RpZmljYXRpb24gbGlzdCBzaXplIGR1cmluZyBwcmVmZXJlbmNlLWRpc3BsYXlpbmcgc28gdGhhdCBpdCBkb2VzIG5vdCByZXNpemUgb3V0IG9mIHRoZSBib3VuZHMgb2YgdGhlIHBvcHVwCgkJCWNvbnRleHQubm90aWZpY2F0aW9uTGlzdCA9IGNvbnRleHQubm90aWZpY2F0aW9uTGlzdCB8fCBub3RpZmljYXRpb25JdGVtLmNsb3Nlc3QoJ3VsJyk7CgkJCWNvbnRleHQubm90aWZpY2F0aW9uTGlzdC5jc3MoewoJCQkJaGVpZ2h0OiBjb250ZXh0Lm5vdGlmaWNhdGlvbkxpc3QuaGVpZ2h0KCkKCQkJfSk7CgkJCWlmIChjb250ZXh0LnByZWZlcmVuY2VVaSkgewoJCQkJaGlkZU5vdGlmaWNhdGlvblByZWZlcmVuY2UoY29udGV4dCwgY29udGV4dC5wcmVmZXJlbmNlVWkpOwoJCQkJY29udGV4dC5wcmVmZXJlbmNlVWkgPSBudWxsOwoJCQl9CgkJCWNvbnRleHQucHJlZmVyZW5jZVRlbXBsYXRlID0gY29udGV4dC5wcmVmZXJlbmNlVGVtcGxhdGUgfHwgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnRlbXBsYXRlLmNvbXBpbGUoY29udGV4dC5ub3RpZmljYXRpb25QcmVmZXJlbmNlVGVtcGxhdGUpOwoJCQljb250ZXh0LnByZWZlcmVuY2VVaSA9ICQoY29udGV4dC5wcmVmZXJlbmNlVGVtcGxhdGUoewoJCQkJbm90aWZpY2F0aW9uVHlwZU5hbWU6IG5vdGlmaWNhdGlvbkl0ZW0uZGF0YSgnbm90aWZpY2F0aW9udHlwZW5hbWUnKSwKCQkJCW5vdGlmaWNhdGlvblR5cGVJZDogbm90aWZpY2F0aW9uSXRlbS5kYXRhKCdub3RpZmljYXRpb250eXBlaWQnKQoJCQl9KSkKCQkJCQkJCS5oaWRlKCkKCQkJCQkJCS5hcHBlbmRUbyhub3RpZmljYXRpb25JdGVtKTsKCQkJY29udGV4dC5wcmVmZXJlbmNlVWkuY3NzKHsKCQkJCXBvc2l0aW9uOiAnYWJzb2x1dGUnLAoJCQkJdG9wOiAwLAoJCQkJbGVmdDogMCwKCQkJCXpJbmRleDogMjAwMAoJCQl9KTsKCgkJCW5vdGlmaWNhdGlvbkl0ZW0uYWRkQ2xhc3MoJ3dpdGgtcHJlZmVyZW5jZScpOwoJCQlub3RpZmljYXRpb25JdGVtLmRhdGEoJ29yaWdpbmFsSGVpZ2h0Jywgbm90aWZpY2F0aW9uSXRlbS5vdXRlckhlaWdodCgpKTsKCQkJbm90aWZpY2F0aW9uSXRlbS5hbmltYXRlKHtoZWlnaHQ6IGNvbnRleHQucHJlZmVyZW5jZVVpLmhlaWdodCgpfSwgMTUwKTsKCgkJCWNvbnRleHQucHJlZmVyZW5jZVVpLmZhZGVUbygxNTAsIDAuOTgpOwoJCX0KCgkJZnVuY3Rpb24gaGlkZU5vdGlmaWNhdGlvblByZWZlcmVuY2UoY29udGV4dCwgcHJlZmVyZW5jZUl0ZW0pIHsKCQkJY29udGV4dC5ub3RpZmljYXRpb25MaXN0LmNzcyh7aGVpZ2h0OiAnYXV0byd9KTsKCQkJaWYgKHByZWZlcmVuY2VJdGVtKSB7CgkJCQl2YXIgbm90aWZpY2F0aW9uSXRlbSA9IHByZWZlcmVuY2VJdGVtLnBhcmVudCgpOwoJCQkJbm90aWZpY2F0aW9uSXRlbS5hbmltYXRlKHtoZWlnaHQ6IG5vdGlmaWNhdGlvbkl0ZW0uZGF0YSgnb3JpZ2luYWxIZWlnaHQnKX0sIDE1MCk7CgkJCQlwcmVmZXJlbmNlSXRlbS5mYWRlT3V0KDE1MCwgZnVuY3Rpb24gKCkgewoJCQkJCW5vdGlmaWNhdGlvbkl0ZW0ucmVtb3ZlQ2xhc3MoJ3dpdGgtcHJlZmVyZW5jZScpOwoJCQkJCXByZWZlcmVuY2VJdGVtLnJlbW92ZSgpOwoJCQkJfSk7CgkJCX0KCQl9CgoJCWZ1bmN0aW9uIGRpc2FibGVOb3RpZmljYXRpb25UeXBlKGNvbnRleHQsIG5vdGlmaWNhdGlvblR5cGVJZCkgewoJCQlyZXR1cm4gJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnB1dCh7CgkJCQl1cmw6ICQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdhcGkuYXNoeC92Mi9ub3RpZmljYXRpb25wcmVmZXJlbmNlLmpzb24nLAoJCQkJZGF0YTogewoJCQkJCU5vdGlmaWNhdGlvblR5cGVJZDogbm90aWZpY2F0aW9uVHlwZUlkLAoJCQkJCUlzRW5hYmxlZDogZmFsc2UKCQkJCX0sCgkJCQlkYXRhVHlwZTogJ2pzb24nCgkJCX0pOwoJCX0KCgkJZnVuY3Rpb24gaW5pdE5vdGlmaWNhdGlvbkl0ZW1IYW5kbGVycygpIHsKCQkJLy8gbWFyayBpbmRpdmlkdWFsIG5vdGlmaWNhdGlvbnMgYXMgcmVhZAoJCQljb250ZXh0Lm5vdGlmaWNhdGlvbnNMaXN0LmNvbnRlbnQoKS5vbignY2xpY2snLCAnLm1hcmsgYScsIGZ1bmN0aW9uIChlKSB7CgkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQl2YXIgbWFya0xpbmsgPSAkKGUudGFyZ2V0KTsKCQkJCXZhciBub3RpZmljYXRpb25MaW5lSXRlbSA9ICQodGhpcykuY2xvc2VzdCgnbGknKTsKCQkJCXZhciBub3RpZmljYXRpb25JZCA9IG5vdGlmaWNhdGlvbkxpbmVJdGVtLmRhdGEoJ25vdGlmaWNhdGlvbmlkJyk7CgkJCQltYXJrTm90aWZpY2F0aW9uQXNSZWFkKG5vdGlmaWNhdGlvbklkKS50aGVuKGZ1bmN0aW9uICgpIHsKCQkJCQltYXJrTGluay5oaWRlKCk7CgkJCQkJbm90aWZpY2F0aW9uTGluZUl0ZW0ucmVtb3ZlQ2xhc3MoJ3VucmVhZCcpOwoJCQkJCWNvbnRleHQubm90aWZpY2F0aW9uc0xpc3QucmVmcmVzaFVucmVhZENvdW50KCkKCQkJCX0pOwoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9KTsKCgkJCS8vIGRpc3BsYXkgcHJlZmVyZW5jZSBjaGFuZ2UgdWkgb24gJ3gnIGNsaWNrCgkJCWNvbnRleHQubm90aWZpY2F0aW9uc0xpc3QuY29udGVudCgpLm9uKCdjbGljaycsICcucHJlZmVyZW5jZSBhJywgZnVuY3Rpb24gKGUpIHsKCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCWRpc3BsYXlOb3RpZmljYXRpb25QcmVmZXJlbmNlKGNvbnRleHQsICQodGhpcykuY2xvc2VzdCgnbGknKSk7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0pOwoKCQkJLy8gaGFuZGxlIGNhbmNlbHMgb2YgcHJlZmVyZW5jZSBjaGFuZ2Ugd2hlbiBjbGlja2luZyAnY2FuY2VsJwoJCQljb250ZXh0Lm5vdGlmaWNhdGlvbnNMaXN0LmNvbnRlbnQoKS5vbignY2xpY2snLCAnLm5vdGlmaWNhdGlvbi1wcmVmZXJlbmNlIC5jYW5jZWwnLCBmdW5jdGlvbiAoZSkgewoJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJZS5zdG9wUHJvcGFnYXRpb24oKTsKCQkJCWhpZGVOb3RpZmljYXRpb25QcmVmZXJlbmNlKGNvbnRleHQsICQodGhpcykuY2xvc2VzdCgnLm5vdGlmaWNhdGlvbi1wcmVmZXJlbmNlJykpOwoJCQkJY29udGV4dC5wcmVmZXJlbmNlVWkgPSBudWxsOwoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9KTsKCgkJCS8vIGhhbmRsZSBjYW5jZWxzIG9mIHByZWZlcmVuY2UgY2hhbmdlIGJ5IGNsaWNraW5nIGFueXRoaW5nIG90aGVyIHRoYW4gJ3R1cm4gb2ZmJwoJCQljb250ZXh0Lm5vdGlmaWNhdGlvbnNMaXN0LmNvbnRlbnQoKS5vbignY2xpY2snLCAnLm5vdGlmaWNhdGlvbi1wcmVmZXJlbmNlJywgZnVuY3Rpb24gKGUpIHsKCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCWUuc3RvcFByb3BhZ2F0aW9uKCk7CgkJCQloaWRlTm90aWZpY2F0aW9uUHJlZmVyZW5jZShjb250ZXh0LCAkKHRoaXMpKTsKCQkJCWNvbnRleHQucHJlZmVyZW5jZVVpID0gbnVsbDsKCQkJCXJldHVybiBmYWxzZTsKCQkJfSk7CgoJCQkvLyBoYW5kbGUgY29uZmlybWVkIHByZWZlcmVuY2UgY2hhbmdlcwoJCQljb250ZXh0Lm5vdGlmaWNhdGlvbnNMaXN0LmNvbnRlbnQoKS5vbignY2xpY2snLCAnLm5vdGlmaWNhdGlvbi1wcmVmZXJlbmNlIC5jb25maXJtJywgZnVuY3Rpb24gKGUpIHsKCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCXZhciBub3RpZmljYXRpb25QcmVmZXJlbmNlID0gJCh0aGlzKS5jbG9zZXN0KCcubm90aWZpY2F0aW9uLXByZWZlcmVuY2UnKSwKCQkJCQkJCQlub3RpZmljYXRpb25JdGVtID0gbm90aWZpY2F0aW9uUHJlZmVyZW5jZS5jbG9zZXN0KCdsaScpOwoJCQkJZGlzYWJsZU5vdGlmaWNhdGlvblR5cGUoY29udGV4dCwgJCh0aGlzKS5kYXRhKCdub3RpZmljYXRpb250eXBlaWQnKSkudGhlbihmdW5jdGlvbiAoKSB7CgkJCQkJbm90aWZpY2F0aW9uSXRlbS5mYWRlT3V0KDIwMCwgZnVuY3Rpb24gKCkgewoJCQkJCQlub3RpZmljYXRpb25QcmVmZXJlbmNlLnJlbW92ZSgpOwoJCQkJCQlub3RpZmljYXRpb25JdGVtLnJlbW92ZSgpOwoJCQkJCX0pOwoJCQkJCWNvbnRleHQucHJlZmVyZW5jZVVpID0gbnVsbDsKCQkJCX0pOwoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9KTsKCQl9CgoJCWZ1bmN0aW9uIG1hcmtOb3RpZmljYXRpb25Bc1JlYWQobm90aWZpY2F0aW9uSWQpIHsKCQkJY2xlYXJUaW1lb3V0KHN1cHByZXNzTm90aWZpY2F0aW9uc1JlYWRNZXNzYWdlVGltZW91dCk7CgkJCXN1cHByZXNzTm90aWZpY2F0aW9uc1JlYWRNZXNzYWdlID0gdHJ1ZTsKCQkJdmFyIG1hcmtOb3RpZmljYXRpb25Qcm9taXNlID0gJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnB1dCh7CgkJCQl1cmw6ICQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdhcGkuYXNoeC92Mi9ub3RpZmljYXRpb24ve05vdGlmaWNhdGlvbklkfS5qc29uJywKCQkJCWRhdGE6IHsKCQkJCQlOb3RpZmljYXRpb25JZDogbm90aWZpY2F0aW9uSWQsCgkJCQkJTWFya0FzUmVhZDogdHJ1ZQoJCQkJfQoJCQl9KTsKCQkJbWFya05vdGlmaWNhdGlvblByb21pc2UuZG9uZShmdW5jdGlvbiAoKSB7CgkJCQlzdXBwcmVzc05vdGlmaWNhdGlvbnNSZWFkTWVzc2FnZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKCQkJCQlzdXBwcmVzc05vdGlmaWNhdGlvbnNSZWFkTWVzc2FnZSA9IGZhbHNlOwoJCQkJfSwgNTAwMCk7CgkJCX0pOwoJCQlyZXR1cm4gbWFya05vdGlmaWNhdGlvblByb21pc2U7CgkJfQoKCQlmdW5jdGlvbiBtYXJrQWxsQXNSZWFkKCkgewoJCQl2YXIgdW5yZWFkSXRlbXMgPSBjb250ZXh0Lm5vdGlmaWNhdGlvbnNMaXN0LmNvbnRlbnQoKS5maW5kKCc+IGxpLnVucmVhZCcpOwoJCQkvLyByZW1vdmUgdW5yZWFkIFVJIHN0YXRlIGltbWVkaWF0ZWx5IGJlZm9yZSB3YWl0aW5nIGZvciBzZXJ2ZXIgY2hhbmdlCgkJCXVucmVhZEl0ZW1zLnJlbW92ZUNsYXNzKCd1bnJlYWQnKTsKCQkJY2xlYXJUaW1lb3V0KHN1cHByZXNzTm90aWZpY2F0aW9uc1JlYWRNZXNzYWdlVGltZW91dCk7CgkJCXN1cHByZXNzTm90aWZpY2F0aW9uc1JlYWRNZXNzYWdlID0gdHJ1ZTsKCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmJhdGNoKGZ1bmN0aW9uICgpIHsKCQkJCS8vIGxvb3AgdGhyb3VnaCBhbGwgb2YgdGhlIGN1cnJlbnRseSB2aXNpYmxlIHVucmVhZCBub3RpZmljYXRpb24gaXRlbXMKCQkJCXVucmVhZEl0ZW1zLmVhY2goZnVuY3Rpb24gKCkgewoJCQkJCS8vIGFuZCBtYXJrIHRoZSBub3RpZmljYWl0b24gYXMgcmVhZAoJCQkJCW1hcmtOb3RpZmljYXRpb25Bc1JlYWQoJCh0aGlzKS5kYXRhKCdub3RpZmljYXRpb25pZCcpKTsKCQkJCX0pOwoJCQl9KS50aGVuKGZ1bmN0aW9uICgpIHsKCQkJCWNvbnRleHQubm90aWZpY2F0aW9uc0xpc3QucmVmcmVzaENvbnRlbnQoKTsKCQkJCWNvbnRleHQubm90aWZpY2F0aW9uc0xpc3QucmVmcmVzaFVucmVhZENvdW50KCkKCQkJCXN1cHByZXNzTm90aWZpY2F0aW9uc1JlYWRNZXNzYWdlVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewoJCQkJCXN1cHByZXNzTm90aWZpY2F0aW9uc1JlYWRNZXNzYWdlID0gZmFsc2U7CgkJCQl9LCA1MDAwKTsKCQkJfSk7CgkJfQoKCQljb250ZXh0Lm5vdGlmaWNhdGlvbnNMaXN0ID0gSGVhZGVyTGlzdCh7CgkJCWtleTogJ25vdGlmaWNhdGlvbnMnLAoJCQlmb290ZXJDb250ZW50OiBjb250ZXh0Lm5vdGlmaWNhdGlvbkxpc3RGb290ZXJDb250ZW50LAoJCQlpbml0aWFsVW5yZWFkQ291bnQ6IGNvbnRleHQubm90aWZpY2F0aW9uc1VucmVhZCwKCQkJYWN0aXZhdGlvbkxpbms6IGNvbnRleHQubm90aWZpY2F0aW9uc0xpbmssCgkJCWVuZGxlc3NTY3JvbGw6IHRydWUsCgkJCXRpdGxlQ291bnQ6IHRydWUsCgkJCWxpbWl0Q291bnQ6IDk5LAoJCQljc3NDbGFzczogJ25vdGlmaWNhdGlvbnMnLAoJCQl1bnJlYWRDb3VudE1lc3NhZ2VTaW5ndWxhcjogY29udGV4dC5ub3RpZmljYXRpb25zc1VucmVhZENvdW50TWVzc2FnZVNpbmd1bGFyLAoJCQl1bnJlYWRDb3VudE1lc3NhZ2VQbHVyYWw6IGNvbnRleHQubm90aWZpY2F0aW9uc3NVbnJlYWRDb3VudE1lc3NhZ2VQbHVyYWwsCgkJCXdyYXBwZXI6IGNvbnRleHQuYmFubmVyLAoJCQloYW5kaGVsZEJhbm5lckxpbmtzQ291bnQ6IGNvbnRleHQuaGFuZGhlbGRCYW5uZXJMaW5rc0NvdW50LAoJCQlvbkxvYWQ6IGZ1bmN0aW9uIChwYWdlSW5kZXgsIHNob3VsZFJlZnJlc2hVbnJlYWRDb3VudCwgZmlsdGVyLCBjb21wbGV0ZSkgewoJCQkJaWYgKCFjb250ZXh0LmlzSW5pdGVkKSB7CgkJCQkJY29udGV4dC5pc0luaXRlZCA9IHRydWU7CgkJCQkJaW5pdE5vdGlmaWNhdGlvbkl0ZW1IYW5kbGVycygpOwoJCQkJfQoJCQkJaWYgKGNvbnRleHQubm90aWZpY2F0aW9uTGlzdCkgewoJCQkJCWNvbnRleHQubm90aWZpY2F0aW9uTGlzdC5jc3Moe2hlaWdodDogJ2F1dG8nfSk7CgkJCQl9CgkJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24uZ2V0KHsKCQkJCQl1cmw6IGNvbnRleHQubm90aWZpY2F0aW9uc1VybCwKCQkJCQlkYXRhOiB7CgkJCQkJCXdfcGFnZUluZGV4OiBwYWdlSW5kZXgsCgkJCQkJCXdfZmlsdGVyOiAoY3VycmVudFRvdGFsQ291bnQgPiAwID8gKGZpbHRlciB8fCAnYWxsJykgOiAnYWxsJykKCQkJCQl9LAoJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkgewoJCQkJCQkvLyBzaG93IHJlc3BvbnNlCgkJCQkJCWNvbXBsZXRlKHJlc3BvbnNlKTsKCQkJCQkJLy8gdXBkYXRlIGNvdW50CgkJCQkJCWlmIChzaG91bGRSZWZyZXNoVW5yZWFkQ291bnQpCgkJCQkJCQljb250ZXh0Lm5vdGlmaWNhdGlvbnNMaXN0LnJlZnJlc2hVbnJlYWRDb3VudCgpOwoJCQkJCX0KCQkJCX0pOwoJCQl9LAoJCQlvblJlZnJlc2hVbnJlYWRDb3VudDogZnVuY3Rpb24gKGNvbXBsZXRlKSB7CgkJCQkvLyBmaW5kIHRoZSBtYXJrIGFzIHJlYWQgbGluayBpZiBub3QgYWxyZWFkeSBmb3VuZAoJCQkJaWYgKCFjb250ZXh0Lm5vdGlmaWNhdGlvbk1hcmtBc1JlYWRMaW5rICYmIGNvbnRleHQubm90aWZpY2F0aW9uc0xpc3QpIHsKCQkJCQl2YXIgZm9vdGVyID0gY29udGV4dC5ub3RpZmljYXRpb25zTGlzdC5mb290ZXIoKTsKCQkJCQlpZiAoZm9vdGVyKSB7CgkJCQkJCWNvbnRleHQubm90aWZpY2F0aW9uTWFya0FzUmVhZExpbmsgPSBmb290ZXIuZmluZCgnYS5tYXJrLXJlYWQnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkgewoJCQkJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCQkJbWFya0FsbEFzUmVhZCgpOwoJCQkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJCQl9KTsKCQkJCQl9CgkJCQl9CgkJCQl2YXIgcXVlcnkgPSB7CgkJCQkJSXNSZWFkOiBmYWxzZSwKCQkJCQlQYWdlU2l6ZTogMSwKCQkJCQlQYWdlSW5kZXg6IDAKCQkJCX07CgkJCQkvLyBleGNsdWRlIGNvbnZlcnNhdGlvbiBub3RpZmljYXRpb25zCgkJCQlxdWVyeVsnX0ZpbHRlcnNfJyArIGNvbnRleHQuY29udmVyc2F0aW9uTm90aWZpY2F0aW9uVHlwZUlkXSA9ICdFeGNsdWRlJzsKCQkJCXJldHVybiAkLnRlbGxpZ2VudC5ldm9sdXRpb24uZ2V0KHsKCQkJCQl1cmw6ICQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdhcGkuYXNoeC92Mi9ub3RpZmljYXRpb25zLmpzb24nLAoJCQkJCWNhY2hlOiBmYWxzZSwKCQkJCQlkYXRhOiBxdWVyeSwKCQkJCQlzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKCQkJCQkJY29tcGxldGUocmVzcG9uc2UuVG90YWxDb3VudCk7CgkJCQkJCWlmIChjb250ZXh0Lm5vdGlmaWNhdGlvbk1hcmtBc1JlYWRMaW5rKSB7CgkJCQkJCQljdXJyZW50VG90YWxDb3VudCA9IHJlc3BvbnNlLlRvdGFsQ291bnQ7CgkJCQkJCQlpZiAocmVzcG9uc2UuVG90YWxDb3VudCA+IDApIHsKCQkJCQkJCQljb250ZXh0Lm5vdGlmaWNhdGlvbk1hcmtBc1JlYWRMaW5rLnNob3coKTsKCQkJCQkJCQljb250ZXh0Lm5vdGlmaWNhdGlvbnNGaWx0ZXIuc2xpZGVEb3duKDEwMCk7CgkJCQkJCQl9CgkJCQkJCQllbHNlIHsKCQkJCQkJCQljb250ZXh0Lm5vdGlmaWNhdGlvbk1hcmtBc1JlYWRMaW5rLmhpZGUoKTsKCQkJCQkJCQljb250ZXh0Lm5vdGlmaWNhdGlvbnNGaWx0ZXIuc2xpZGVVcCgxMDApOwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfSwKCQkJCQllcnJvcjoge30KCQkJCX0pOwoJCQl9LAoJCQl0ZW1wbGF0ZTogY29udGV4dC5ub3RpZmljYXRpb25zVGVtcGxhdGUsCgkJCW9uU2hvdzogZnVuY3Rpb24gKGFjdGl2YXRvciwgY29tcGxldGUpIHsKCQkJCWNvbXBsZXRlKGJ1aWxkU2hvd1NldHRpbmdzKGNvbnRleHQsIGFjdGl2YXRvciwge30pKTsKCgkJCQltb2RpZnlQb3B1cCh0cnVlKTsKCQkJfSwKCQkJb25TZWxlY3Q6IGZ1bmN0aW9uIChpdGVtKSB7CgkJCQlpdGVtID0gJChpdGVtKTsKCQkJCXZhciBub3RpZmljYXRpb25JZCA9IGl0ZW0uZGF0YSgnbm90aWZpY2F0aW9uaWQnKSwKCQkJCQkJCQljb250ZW50VXJsID0gaXRlbS5kYXRhKCdjb250ZW50dXJsJyk7CgoJCQkJaWYgKGl0ZW0uaGFzQ2xhc3MoJ3VucmVhZCcpKSB7CgkJCQkJLy8gbWFyayBhcyByZWFkCgkJCQkJbWFya05vdGlmaWNhdGlvbkFzUmVhZChub3RpZmljYXRpb25JZCkudGhlbihmdW5jdGlvbiAoKSB7CgkJCQkJCS8vIHRoZW4gbmF2aWdhdGUgdG8gaXQgaWYgZGlmZmVyZW50IG9yIGp1c3QgcmVmcmVzaCB0aGUgdW5yZWFkIGNvdW50CgkJCQkJCWlmICh3aW5kb3cubG9jYXRpb24uaHJlZiAhPSBjb250ZW50VXJsKSB7CgkJCQkJCQl3aW5kb3cubG9jYXRpb24uaHJlZiA9IGNvbnRlbnRVcmw7CgkJCQkJCX0KCQkJCQkJZWxzZSB7CgkJCQkJCQljb250ZXh0Lm5vdGlmaWNhdGlvbnNMaXN0LnJlZnJlc2hVbnJlYWRDb3VudCgpOwoJCQkJCQl9CgkJCQkJfSk7CgkJCQl9CgkJCQllbHNlIHsKCQkJCQl3aW5kb3cubG9jYXRpb24uaHJlZiA9IGNvbnRlbnRVcmw7CgkJCQl9CgkJCX0sCgkJCW9uQnVpbGRGaWx0ZXI6IGZ1bmN0aW9uIChmaWx0ZXJlZCkgewoJCQkJdmFyIGZpbHRlclRlbXBsYXRlID0gJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnRlbXBsYXRlLmNvbXBpbGUoY29udGV4dC5ub3RpZmljYXRpb25zRmlsdGVyVGVtcGxhdGUpOwoJCQkJY29udGV4dC5ub3RpZmljYXRpb25zRmlsdGVyID0gJChmaWx0ZXJUZW1wbGF0ZSh7fSkpOwoJCQkJY29udGV4dC5ub3RpZmljYXRpb25zRmlsdGVyLmZpbmQoJ2E6Zmlyc3QnKS5hZGRDbGFzcygnc2VsZWN0ZWQnKTsKCQkJCWNvbnRleHQubm90aWZpY2F0aW9uc0ZpbHRlci5vbignY2xpY2snLCAnYScsIGZ1bmN0aW9uIChlKSB7CgkJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCWUuc3RvcFByb3BhZ2F0aW9uKCk7CgkJCQkJdmFyIHRhcmdldCA9ICQoZS50YXJnZXQpOwoJCQkJCXRhcmdldC5jbG9zZXN0KCd1bCcpLmZpbmQoJ2EnKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTsKCQkJCQl0YXJnZXQuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7CgkJCQkJZmlsdGVyZWQodGFyZ2V0LmRhdGEoJ2ZpbHRlcicpKTsKCQkJCX0pOwoKCQkJCXJldHVybiBjb250ZXh0Lm5vdGlmaWNhdGlvbnNGaWx0ZXIuaGlkZSgpOwoJCQl9CgkJfSk7CgoJCS8vIHVwZGF0ZSB0aGUgbm90aWZpY2F0aW9uIGxpc3QncyBjb3VudCB3aGVuIGEgbmV3IG5vdGlmaWNhdGlvbiBpcyByZWNlaXZlZCB3aGljaCBpc24ndCBhIGNvbnZlcnNhdGlvbiB0eXBlCgkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLm1lc3NhZ2luZy5zdWJzY3JpYmUoJ25vdGlmaWNhdGlvbi5yYWlzZWQnLCBmdW5jdGlvbiAobm90aWZpY2F0aW9uKSB7CgkJCWlmIChub3RpZmljYXRpb24udHlwZUlkICE9PSBjb250ZXh0LmNvbnZlcnNhdGlvbk5vdGlmaWNhdGlvblR5cGVJZCkgewoJCQkJY29udGV4dC5ub3RpZmljYXRpb25zTGlzdC5yZWZyZXNoVW5yZWFkQ291bnQoKS50aGVuKGZ1bmN0aW9uICgpIHsKCQkJCQljb250ZXh0Lm5vdGlmaWNhdGlvbnNMaXN0LnJlZnJlc2hDb250ZW50KCk7CgkJCQl9KTsKCQkJfQoJCX0pOwoKCQkvLyB1cGRhdGUgdGhlIG5vdGlmaWNhdGlvbiBsaXN0J3MgY291bnQgd2hlbiBhIG5ldyBub3RpZmljYXRpb24gaXMgcmVjZWl2ZWQgd2hpY2ggaXNuJ3QgYSBjb252ZXJzYXRpb24gdHlwZQoJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5tZXNzYWdpbmcuc3Vic2NyaWJlKCdub3RpZmljYXRpb24ucmVhZCcsIGZ1bmN0aW9uIChub3RpZmljYXRpb24pIHsKCQkJaWYgKG5vdGlmaWNhdGlvbi50eXBlSWQgIT09IGNvbnRleHQuY29udmVyc2F0aW9uTm90aWZpY2F0aW9uVHlwZUlkKSB7CgkJCQkvLyB3YWl0IHVudGlsIGEgZ2FwIGluIG5vdGlmaWNhdGlvbi5yZWFkIGV2ZW50cywgaW4gY2FzZSBtYW55IGhhdmUganVzdCBiZWVuIHJlY2VpdmVkCgkJCQljbGVhclRpbWVvdXQoZGVib3VuY2VkTm90aWZpY2F0aW9uUmVhZFRpbWVvdXQpOwoJCQkJZGVib3VuY2VkTm90aWZpY2F0aW9uUmVhZFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKCQkJCQlpZiAoc3VwcHJlc3NOb3RpZmljYXRpb25zUmVhZE1lc3NhZ2UpIHsKCQkJCQkJcmV0dXJuOwoJCQkJCX0KCQkJCQljb250ZXh0Lm5vdGlmaWNhdGlvbnNMaXN0LnJlZnJlc2hVbnJlYWRDb3VudCgpLnRoZW4oZnVuY3Rpb24gKCkgewoJCQkJCQljb250ZXh0Lm5vdGlmaWNhdGlvbnNMaXN0LnJlZnJlc2hDb250ZW50KCk7CgkJCQkJfSk7CgkJCQl9LCAxMDApOwoJCQl9CgkJfSk7CgoJCXJldHVybiBjb250ZXh0Lm5vdGlmaWNhdGlvbnNMaXN0OwoJfQoKCWZ1bmN0aW9uIGluaXRDb252ZXJzYXRpb25MaXN0KGNvbnRleHQpIHsKCgkJY29udGV4dC5jb252ZXJzYXRpb25zTGlzdCA9IEhlYWRlckxpc3QoewoJCQlrZXk6ICdjb252ZXJzYXRpb25zJywKCQkJZm9vdGVyQ29udGVudDogY29udGV4dC5jb252ZXJzYXRpb25MaXN0Rm9vdGVyQ29udGVudCwKCQkJaW5pdGlhbFVucmVhZENvdW50OiBjb250ZXh0LmNvbnZlcnNhdGlvbnNVbnJlYWQsCgkJCWFjdGl2YXRpb25MaW5rOiBjb250ZXh0LmNvbnZlcnNhdGlvbnNMaW5rLAoJCQllbmRsZXNzU2Nyb2xsOiB0cnVlLAoJCQl0aXRsZUNvdW50OiB0cnVlLAoJCQljc3NDbGFzczogJ2NvbnZlcnNhdGlvbnMnLAoJCQl1bnJlYWRDb3VudE1lc3NhZ2VTaW5ndWxhcjogY29udGV4dC5jb252ZXJzYXRpb25zVW5yZWFkQ291bnRNZXNzYWdlU2luZ3VsYXIsCgkJCXVucmVhZENvdW50TWVzc2FnZVBsdXJhbDogY29udGV4dC5jb252ZXJzYXRpb25zVW5yZWFkQ291bnRNZXNzYWdlUGx1cmFsLAoJCQl3cmFwcGVyOiBjb250ZXh0LmJhbm5lciwKCQkJaGFuZGhlbGRCYW5uZXJMaW5rc0NvdW50OiBjb250ZXh0LmhhbmRoZWxkQmFubmVyTGlua3NDb3VudCwKCQkJb25Mb2FkOiBmdW5jdGlvbiAocGFnZUluZGV4LCBzaG91bGRSZWZyZXNoVW5yZWFkQ291bnQsIGZpbHRlciwgY29tcGxldGUpIHsKCQkJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5nZXQoewoJCQkJCXVybDogY29udGV4dC5jb252ZXJzYXRpb25zVXJsLAoJCQkJCWRhdGE6IHsKCQkJCQkJd19wYWdlSW5kZXg6IHBhZ2VJbmRleAoJCQkJCX0sCgkJCQkJc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CgkJCQkJCS8vIHNob3cgcmVzcG9uc2UKCQkJCQkJY29tcGxldGUocmVzcG9uc2UpOwoJCQkJCQkvLyB1cGRhdGUgY291bnQKCQkJCQkJaWYgKHNob3VsZFJlZnJlc2hVbnJlYWRDb3VudCkKCQkJCQkJCWNvbnRleHQuY29udmVyc2F0aW9uc0xpc3QucmVmcmVzaFVucmVhZENvdW50KCk7CgkJCQkJfQoJCQkJfSk7CgkJCX0sCgkJCW9uUmVmcmVzaFVucmVhZENvdW50OiBmdW5jdGlvbiAoY29tcGxldGUpIHsKCQkJCXJldHVybiAkLnRlbGxpZ2VudC5ldm9sdXRpb24uZ2V0KHsKCQkJCQl1cmw6ICQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdhcGkuYXNoeC92Mi9jb252ZXJzYXRpb25zLmpzb24nLAoJCQkJCWNhY2hlOiBmYWxzZSwKCQkJCQlkYXRhOiB7CgkJCQkJCVJlYWRTdGF0dXM6ICdVbnJlYWQnCgkJCQkJfSwKCQkJCQlzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKCQkJCQkJY29tcGxldGUocmVzcG9uc2UuVG90YWxDb3VudCk7CgkJCQkJfSwKCQkJCQllcnJvcjoge30KCQkJCX0pOwoJCQl9LAoJCQl0ZW1wbGF0ZTogY29udGV4dC5jb252ZXJzYXRpb25zVGVtcGxhdGUsCgkJCW9uU2hvdzogZnVuY3Rpb24gKGFjdGl2YXRvciwgY29tcGxldGUpIHsKCQkJCWNvbXBsZXRlKGJ1aWxkU2hvd1NldHRpbmdzKGNvbnRleHQsIGFjdGl2YXRvciwge30pKTsKCgkJCQltb2RpZnlQb3B1cCh0cnVlKTsKCQkJfQoJCX0pOwoKCQkvLyB1cGRhdGUgdGhlIG1lc3NhZ2UgbGlzdCdzIGNvdW50IHdoZW4gYSBuZXcgbm90aWZpY2F0aW9uIGlzIHJlY2VpdmVkIHdoaWNoIGlzIGEgY29udmVyc2F0aW9uIHR5cGUKCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ubWVzc2FnaW5nLnN1YnNjcmliZSgnbm90aWZpY2F0aW9uLnJhaXNlZCcsIGZ1bmN0aW9uIChub3RpZmljYXRpb24pIHsKCQkJaWYgKG5vdGlmaWNhdGlvbi50eXBlSWQgPT09IGNvbnRleHQuY29udmVyc2F0aW9uTm90aWZpY2F0aW9uVHlwZUlkKSB7CgkJCQljb250ZXh0LmNvbnZlcnNhdGlvbnNMaXN0LnJlZnJlc2hVbnJlYWRDb3VudCgpLnRoZW4oZnVuY3Rpb24gKCkgewoJCQkJCWNvbnRleHQuY29udmVyc2F0aW9uc0xpc3QucmVmcmVzaENvbnRlbnQoKTsKCQkJCX0pOwoJCQl9CgkJfSk7CgoJCS8vIHVwZGF0ZSB0aGUgbWVzc2FnZSBsaXN0J3MgY291bnQgd2hlbiBhIG1lc3NhZ2Ugd2FzIHJlYWQgb24gdGhlIGNvbnZlcnNhdGlvbiBsaXN0CgkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLm1lc3NhZ2luZy5zdWJzY3JpYmUoJ3VpLm1lc3NhZ2VyZWFkJywgZnVuY3Rpb24gKG5vdGlmaWNhdGlvbikgewoJCQljb250ZXh0LmNvbnZlcnNhdGlvbnNMaXN0LnJlZnJlc2hVbnJlYWRDb3VudCgpOwoJCX0pOwoKCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ubWVzc2FnaW5nLnN1YnNjcmliZShjb250ZXh0Lm1lc3NhZ2VQcmVmaXggKyAnc3RhcnRjb252ZXJzYXRpb24nLCBmdW5jdGlvbiAoKSB7CgkJCSQuZ2xvd01vZGFsKGNvbnRleHQuY29udmVyc2F0aW9uTmV3Q29udmVyc2F0aW9uTW9kYWxVcmwsIHsKCQkJCXdpZHRoOiA1NTAsCgkJCQloZWlnaHQ6IDM2MAoJCQl9KTsKCQl9KTsKCgkJcmV0dXJuIGNvbnRleHQuY29udmVyc2F0aW9uc0xpc3Q7Cgl9CgoJZnVuY3Rpb24gaW5pdEJvb2ttYXJrc0xpc3QoY29udGV4dCkgewoJCS8vIGdldHMgYWxsIHNlbGVjdGVkIGNvbnRlbnQgdHlwZXMgZnJvbSB0aGUgY29udGVudCB0eXBlIGZpbHRlcgoJCWZ1bmN0aW9uIGdldEN1cnJlbnRDb250ZW50VHlwZXMoYm9va21hcmtGaWx0ZXIpIHsKCQkJdmFyIGNvbnRlbnRUeXBlcyA9IFtdOwoJCQl2YXIgc2VsZWN0ZWRGaWx0ZXJzID0gY29udGV4dC5ib29rbWFya0ZpbHRlci5maW5kKCdhLnNlbGVjdGVkJykuZWFjaChmdW5jdGlvbiAoKSB7CgkJCQljb250ZW50VHlwZXMucHVzaCgkKHRoaXMpLmRhdGEoJ2NvbnRlbnR0eXBlaWRzJykpOwoJCQl9KTsKCQkJcmV0dXJuIGNvbnRlbnRUeXBlcy5qb2luKCcsJyk7CgkJfQoKCQljb250ZXh0LmJvb2ttYXJrc0xpc3QgPSBIZWFkZXJMaXN0KHsKCQkJa2V5OiAnYm9va21hcmtzJywKCQkJZm9vdGVyQ29udGVudDogY29udGV4dC5ib29rbWFya3NMaXN0Rm9vdGVyQ29udGVudCwKCQkJYWN0aXZhdGlvbkxpbms6IGNvbnRleHQuYm9va21hcmtzTGluaywKCQkJZW5kbGVzc1Njcm9sbDogdHJ1ZSwKCQkJaW5pdGlhbFVucmVhZENvdW50OiBjb250ZXh0LmJvb2ttYXJrc0lzQm9va21hcmtlZCA/IDEgOiAwLAoJCQl0aXRsZUNvdW50OiBmYWxzZSwKCQkJc2hvd0NvdW50OiBmYWxzZSwKCQkJY3NzQ2xhc3M6ICdib29rbWFya3MnLAoJCQl3cmFwcGVyOiBjb250ZXh0LmJhbm5lciwKCQkJaGFuZGhlbGRCYW5uZXJMaW5rc0NvdW50OiBjb250ZXh0LmhhbmRoZWxkQmFubmVyTGlua3NDb3VudCwKCQkJdW5yZWFkQ291bnRNZXNzYWdlU2luZ3VsYXI6IGNvbnRleHQuYm9va21hcmtzQm9va21hcmtzLAoJCQl1bnJlYWRDb3VudE1lc3NhZ2VQbHVyYWw6IGNvbnRleHQuYm9va21hcmtzQm9va21hcmtzLAoJCQlvbkxvYWQ6IGZ1bmN0aW9uIChwYWdlSW5kZXgsIHNob3VsZFJlZnJlc2hVbnJlYWRDb3VudCwgZmlsdGVyLCBjb21wbGV0ZSkgewoJCQkJdmFyIGZpbHRlcmVkQ29udGVudFR5cGVJZHMgPSBmaWx0ZXIgfHwgZ2V0Q3VycmVudENvbnRlbnRUeXBlcyhjb250ZXh0LmJvb2ttYXJrRmlsdGVyKTsKCQkJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5nZXQoewoJCQkJCXVybDogY29udGV4dC5ib29rbWFya3NVcmwsCgkJCQkJZGF0YTogewoJCQkJCQl3X3BhZ2VJbmRleDogcGFnZUluZGV4LAoJCQkJCQl3X2NvbnRlbnRUeXBlSWRzOiBmaWx0ZXJlZENvbnRlbnRUeXBlSWRzCgkJCQkJfSwKCQkJCQlzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKCQkJCQkJaWYgKGZpbHRlcmVkQ29udGVudFR5cGVJZHMgJiYgZmlsdGVyZWRDb250ZW50VHlwZUlkcy5sZW5ndGggPiAwICYmIGdldEN1cnJlbnRDb250ZW50VHlwZXMoY29udGV4dC5ib29rbWFya0ZpbHRlcikgIT09IGZpbHRlcmVkQ29udGVudFR5cGVJZHMpCgkJCQkJCQlyZXR1cm47CgkJCQkJCS8vIHNob3cgcmVzcG9uc2UKCQkJCQkJY29tcGxldGUocmVzcG9uc2UpOwoJCQkJCQkvLyB1cGRhdGUgY291bnQKCQkJCQkJaWYgKHNob3VsZFJlZnJlc2hVbnJlYWRDb3VudCkKCQkJCQkJCWNvbnRleHQuYm9va21hcmtzTGlzdC5yZWZyZXNoVW5yZWFkQ291bnQoKTsKCQkJCQl9CgkJCQl9KTsKCQkJfSwKCQkJb25SZWZyZXNoVW5yZWFkQ291bnQ6IGZ1bmN0aW9uIChjb21wbGV0ZSkgewoJCQkJY29tcGxldGUoY29udGV4dC5ib29rbWFya3NJc0Jvb2ttYXJrZWQgPyAxIDogMCk7CgkJCX0sCgkJCW9uQnVpbGRGaWx0ZXI6IGZ1bmN0aW9uIChmaWx0ZXJlZCkgewoJCQkJdmFyIGZpbHRlclRlbXBsYXRlID0gJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnRlbXBsYXRlLmNvbXBpbGUoY29udGV4dC5ib29rbWFya3NGaWx0ZXJUZW1wbGF0ZSksCgkJCQkJCQkJZmlsdGVyVGVtcGxhdGVEYXRhID0gewoJCQkJCQkJCQljb250ZW50VHlwZUlkczogJycsCgkJCQkJCQkJCWFwcGxpY2F0aW9uQ29udGVudFR5cGVJZHM6ICcnLAoJCQkJCQkJCQljb250YWluZXJUeXBlczogW10KCQkJCQkJCQl9OwoJCQkJaWYgKGNvbnRleHQuYm9va21hcmtzQ29udGVudFR5cGVzLmxlbmd0aCA+IDApCgkJCQkJZmlsdGVyVGVtcGxhdGVEYXRhLmNvbnRlbnRUeXBlSWRzID0gY29udGV4dC5ib29rbWFya3NDb250ZW50VHlwZXMuc3Vic3RyKDAsIGNvbnRleHQuYm9va21hcmtzQ29udGVudFR5cGVzLmxlbmd0aCAtIDEpCgkJCQlpZiAoY29udGV4dC5ib29rbWFya3NBcHBsaWNhdGlvbkNvbnRlbnRUeXBlcy5sZW5ndGggPiAwKQoJCQkJCWZpbHRlclRlbXBsYXRlRGF0YS5hcHBsaWNhdGlvbkNvbnRlbnRUeXBlSWRzID0gY29udGV4dC5ib29rbWFya3NBcHBsaWNhdGlvbkNvbnRlbnRUeXBlcy5zdWJzdHIoMCwgY29udGV4dC5ib29rbWFya3NBcHBsaWNhdGlvbkNvbnRlbnRUeXBlcy5sZW5ndGggLSAxKQoJCQkJaWYgKGNvbnRleHQuYm9va21hcmtzQ29udGFpbmVyQ29udGVudFR5cGVzLmxlbmd0aCA+IDApIHsKCQkJCQl2YXIgcmF3Q29udGFpbmVycyA9IGNvbnRleHQuYm9va21hcmtzQ29udGFpbmVyQ29udGVudFR5cGVzLnNwbGl0KCcsJyk7CgkJCQkJJC5lYWNoKHJhd0NvbnRhaW5lcnMsIGZ1bmN0aW9uIChpLCByYXdDb250YWluZXIpIHsKCQkJCQkJaWYgKHJhd0NvbnRhaW5lciAmJiByYXdDb250YWluZXIubGVuZ3RoID4gMCkgewoJCQkJCQkJdmFyIGNvbnRhaW5lckNvbXBvbmVudHMgPSByYXdDb250YWluZXIuc3BsaXQoJzonLCAyKTsKCQkJCQkJCWlmIChjb250YWluZXJDb21wb25lbnRzLmxlbmd0aCA9PT0gMikgewoJCQkJCQkJCWZpbHRlclRlbXBsYXRlRGF0YS5jb250YWluZXJUeXBlcy5wdXNoKHsKCQkJCQkJCQkJbmFtZTogY29udGFpbmVyQ29tcG9uZW50c1sxXSwKCQkJCQkJCQkJaWQ6IGNvbnRhaW5lckNvbXBvbmVudHNbMF0KCQkJCQkJCQl9KTsKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCX0pOwoJCQkJfQoKCQkJCWNvbnRleHQuYm9va21hcmtGaWx0ZXIgPSAkKGZpbHRlclRlbXBsYXRlKGZpbHRlclRlbXBsYXRlRGF0YSkpOwoJCQkJY29udGV4dC5ib29rbWFya0ZpbHRlci5maW5kKCdhOmZpcnN0JykuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7CgkJCQljb250ZXh0LmJvb2ttYXJrRmlsdGVyLm9uKCdjbGljaycsICdhJywgZnVuY3Rpb24gKGUpIHsKCQkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQkJZS5zdG9wUHJvcGFnYXRpb24oKTsKCQkJCQl2YXIgdGFyZ2V0ID0gJChlLnRhcmdldCk7CgkJCQkJdGFyZ2V0LmNsb3Nlc3QoJ3VsJykuZmluZCgnYScpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpOwoJCQkJCXRhcmdldC5hZGRDbGFzcygnc2VsZWN0ZWQnKTsKCQkJCQlmaWx0ZXJlZChnZXRDdXJyZW50Q29udGVudFR5cGVzKGNvbnRleHQuYm9va21hcmtGaWx0ZXIpKTsKCQkJCX0pOwoKCQkJCXJldHVybiBjb250ZXh0LmJvb2ttYXJrRmlsdGVyOwoJCQl9LAoJCQl0ZW1wbGF0ZTogY29udGV4dC5ib29rbWFya3NUZW1wbGF0ZSwKCQkJb25TaG93OiBmdW5jdGlvbiAoYWN0aXZhdG9yLCBjb21wbGV0ZSkgewoJCQkJY29tcGxldGUoYnVpbGRTaG93U2V0dGluZ3MoY29udGV4dCwgYWN0aXZhdG9yLCB7fSkpOwoKCQkJCW1vZGlmeVBvcHVwKHRydWUpOwoJCQl9CgkJfSk7CgoJCS8vIHJlZnJlc2ggY29udGVudCB3aGVuIGJvb2ttYXJrcyBhcmUgYWRkZWQvcmVtb3ZlZAoJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5tZXNzYWdpbmcuc3Vic2NyaWJlKCd1aS5ib29rbWFyaycsIGZ1bmN0aW9uIChkYXRhKSB7CgkJCS8vIGlmIHRoaXMgcmVwcmVzZW50cyBhIGNoYW5nZSBpbiBib29rbWFyayBzdGF0ZSBvZiBjdXJyZW50IGNvbnRlbnQsCgkJCS8vIHRyYWNrIHRoYXQKCQkJaWYgKGRhdGEuY29udGVudElkID09IGNvbnRleHQuYm9va21hcmtzQ3VycmVudENvbnRlbnRJZCkgewoJCQkJY29udGV4dC5ib29rbWFya3NJc0Jvb2ttYXJrZWQgPSBkYXRhLmJvb2ttYXJrZWQ7CgkJCQljb250ZXh0LmJvb2ttYXJrc0xpc3QucmVmcmVzaFVucmVhZENvdW50KCk7CgkJCQlpZiAoZGF0YS5ib29rbWFya2VkKSB7CgkJCQkJY29udGV4dC5ib29rbWFya3NMaW5rLmFkZENsYXNzKCdib29rbWFya2VkJyk7CgkJCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLm5vdGlmaWNhdGlvbnMuc2hvdyhjb250ZXh0LmJvb2ttYXJrQWRkZWQsIHsKCQkJCQkJaWQ6ICdib29rbWFyay0nICsgZGF0YS5jb250ZW50SWQKCQkJCQl9KTsKCQkJCX0KCQkJCWVsc2UgewoJCQkJCWNvbnRleHQuYm9va21hcmtzTGluay5yZW1vdmVDbGFzcygnYm9va21hcmtlZCcpOwoJCQkJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5ub3RpZmljYXRpb25zLnNob3coY29udGV4dC5ib29rbWFya1JlbW92ZWQsIHsKCQkJCQkJaWQ6ICdib29rbWFyay0nICsgZGF0YS5jb250ZW50SWQKCQkJCQl9KTsKCQkJCX0KCQkJfQoJCQljb250ZXh0LmJvb2ttYXJrc0xpc3QucmVmcmVzaENvbnRlbnQoKTsKCQl9KTsKCgkJaWYgKGNvbnRleHQuYm9va21hcmtzSXNCb29rbWFya2VkKQoJCQljb250ZXh0LmJvb2ttYXJrc0xpbmsuYWRkQ2xhc3MoJ2Jvb2ttYXJrZWQnKTsKCgkJcmV0dXJuIGNvbnRleHQuYm9va21hcmtzTGlzdDsKCX0KCglmdW5jdGlvbiBpbml0VXNlclBvcHVwKGNvbnRleHQpIHsKCQl2YXIgdXNlckNvbnRlbnQgPSAkKCQudGVsbGlnZW50LmV2b2x1dGlvbi50ZW1wbGF0ZS5jb21waWxlKGNvbnRleHQudXNlckNvbnRlbnRUZW1wbGF0ZSkoKSk7CgoJCWNvbnRleHQudXNlclBvcHVwID0gSGVhZGVyTGlzdCh7CgkJCWtleTogJ3VzZXInLAoJCQlhY3RpdmF0aW9uTGluazogY29udGV4dC51c2VyTGluaywKCQkJZW5kbGVzc1Njcm9sbDogZmFsc2UsCgkJCXRpdGxlQ291bnQ6IGZhbHNlLAoJCQljc3NDbGFzczogJ3VzZXInLAoJCQlzaG93Q291bnQ6IGZhbHNlLAoJCQl3cmFwcGVyOiBjb250ZXh0LmJhbm5lciwKCQkJaGFuZGhlbGRCYW5uZXJMaW5rc0NvdW50OiBjb250ZXh0LmhhbmRoZWxkQmFubmVyTGlua3NDb3VudCwKCQkJb25Mb2FkOiBmdW5jdGlvbiAocGFnZUluZGV4LCBzaG91bGRSZWZyZXNoVW5yZWFkQ291bnQsIGZpbHRlciwgY29tcGxldGUpIHsKCQkJCWdsb2JhbC5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKCQkJCQljb21wbGV0ZSh1c2VyQ29udGVudCkKCQkJCX0sIDEwKQoJCQl9LAoJCQl0ZW1wbGF0ZTogY29udGV4dC51c2VyUG9wdXBUZW1wbGF0ZSwKCQkJb25TaG93OiBmdW5jdGlvbiAoYWN0aXZhdG9yLCBjb21wbGV0ZSkgewoJCQkJY29tcGxldGUoYnVpbGRTaG93U2V0dGluZ3MoY29udGV4dCwgYWN0aXZhdG9yLCB7fSkpOwoKCQkJCW1vZGlmeVBvcHVwKHRydWUpOwoJCQl9CgkJfSk7CgoJCXJldHVybiBjb250ZXh0LnVzZXJQb3B1cDsKCX0KCglmdW5jdGlvbiBpbml0U2VhcmNoUG9wdXAoY29udGV4dCkgewoJCS8vIGdldHMgYWxsIHNlbGVjdGVkIGNvbnRlbnQgdHlwZXMgZnJvbSB0aGUgY29udGVudCB0eXBlIGZpbHRlcgoJCWZ1bmN0aW9uIGdldEN1cnJlbnRTZWFyY2hGaWx0ZXJzKGNvbnRleHQpIHsKCQkJdmFyIHNlbGVjdGVkUGxhY2UgPSBjb250ZXh0LnNlYXJjaEZpbHRlci5maW5kKCdhLnBsYWNlLnNlbGVjdGVkJyk7CgkJCXZhciBzZWxlY3RlZFR5cGUgPSBjb250ZXh0LnNlYXJjaEZpbHRlci5maW5kKCdhLnR5cGUuc2VsZWN0ZWQnKTsKCQkJdmFyIGZpbHRlcnMgPSB7CgkJCQlwbGFjZUtleTogc2VsZWN0ZWRQbGFjZS5kYXRhKCdrZXknKSB8fCAnYW55d2hlcmUnLAoJCQkJcGxhY2VWYWx1ZTogc2VsZWN0ZWRQbGFjZS5kYXRhKCd2YWx1ZScpIHx8ICdhbnl3aGVyZScsCgkJCQl0eXBlOiBzZWxlY3RlZFR5cGUuZGF0YSgna2V5JyksCgkJCQlxdWVyeTogJC50cmltKGNvbnRleHQuc2VhcmNoSW5wdXQudmFsKCkpLAoJCQkJc2VhcmNoUGFyYW1ldGVyOiBzZWxlY3RlZFBsYWNlLmRhdGEoJ3NlYXJjaHBhcmFtJyksCgkJCQlzZWFyY2hWYWx1ZTogc2VsZWN0ZWRQbGFjZS5kYXRhKCdzZWFyY2h2YWx1ZScpCgkJCX07CgoJCQl2YXIgdCA9ICQuZ3JlcChjb250ZXh0LnNlYXJjaEZpbHRlcnMsIGZ1bmN0aW9uIChlKSB7CgkJCQlyZXR1cm4gZS5rZXkgPT0gc2VsZWN0ZWRUeXBlLmRhdGEoJ2tleScpOwoJCQl9KVswXTsKCQkJaWYgKHQgJiYgdC5hZHZhbmNlZFNlYXJjaFVybCkgewoJCQkJZmlsdGVycy5hZHZhbmNlZFNlYXJjaFVybCA9IHQuYWR2YW5jZWRTZWFyY2hVcmw7CgkJCX0KCgkJCXJldHVybiBmaWx0ZXJzOwoJCX0KCgkJZnVuY3Rpb24gbG9hZFNlYXJjaFBsYWNlcyhjb250ZXh0KSB7CgkJCXZhciBwbGFjZXMgPSBbXTsKCgkJCWlmIChjb250ZXh0LnNlYXJjaFBsYWNlQXBwbGljYXRpb25JZCkgewoJCQkJcGxhY2VzLnB1c2goewoJCQkJCWtleTogJ2FwcGxpY2F0aW9uJywKCQkJCQl2YWx1ZTogY29udGV4dC5zZWFyY2hQbGFjZUFwcGxpY2F0aW9uSWQsCgkJCQkJbmFtZTogY29udGV4dC5zZWFyY2hQbGFjZUFwcGxpY2F0aW9uTmFtZSwKCQkJCQlzZWFyY2hQYXJhbWV0ZXI6ICdncm91cCcsCgkJCQkJc2VhcmNoVmFsdWU6IGNvbnRleHQuc2VhcmNoUGxhY2VHcm91cExvY2FsSWQKCQkJCX0pOwoJCQl9CgoJCQlpZiAoY29udGV4dC5zZWFyY2hQbGFjZUdyb3VwSWQpIHsKCQkJCXBsYWNlcy5wdXNoKHsKCQkJCQlrZXk6ICdncm91cCcsCgkJCQkJdmFsdWU6IGNvbnRleHQuc2VhcmNoUGxhY2VHcm91cElkLAoJCQkJCW5hbWU6IGNvbnRleHQuc2VhcmNoUGxhY2VHcm91cE5hbWUsCgkJCQkJc2VhcmNoUGFyYW1ldGVyOiAnZ3JvdXAnLAoJCQkJCXNlYXJjaFZhbHVlOiBjb250ZXh0LnNlYXJjaFBsYWNlR3JvdXBMb2NhbElkCgkJCQl9KTsKCQkJfQoKCQkJaWYgKHBsYWNlcy5sZW5ndGggPiAwKSB7CgkJCQlwbGFjZXMucHVzaCh7CgkJCQkJa2V5OiAnYW55d2hlcmUnLAoJCQkJCXZhbHVlOiAnYW55d2hlcmUnLAoJCQkJCW5hbWU6IGNvbnRleHQuc2VhcmNoUGxhY2VBbnl3aGVyZU5hbWUsCgkJCQkJc2VhcmNoUGFyYW1ldGVyOiAnJywKCQkJCQlzZWFyY2hWYWx1ZTogJycKCQkJCX0pOwoJCQl9CgoJCQljb250ZXh0LnNlYXJjaFBsYWNlcyA9IHBsYWNlczsKCQl9CgoJCWZ1bmN0aW9uIGxvYWRTZWFyY2hGaWx0ZXJzKGNvbnRleHQsIHNjb3BlKSB7CgkJCXZhciBmaWx0ZXJzID0gW107CgoJCQkvLyBidWlsZCBmaXJzdCBwYXJ0eSBmaWx0ZXJzIGZpcnN0CgkJCWZpbHRlcnMucHVzaCh7CgkJCQlrZXk6ICdjb250ZW50JywKCQkJCW5hbWU6IGNvbnRleHQuc2VhcmNoRmlsdGVyQ29udGVudE5hbWUsCgkJCQlzZWFyY2hQYXJhbWV0ZXI6ICcnLAoJCQkJc2VhcmNoVmFsdWU6ICcnCgkJCX0pOwoKCQkJaWYgKHNjb3BlLmtleSA9PSAnYW55d2hlcmUnIHx8IHNjb3BlLmtleSA9PSAnZ3JvdXAnKSB7CgkJCQlmaWx0ZXJzLnB1c2goewoJCQkJCWtleTogJ2dyb3VwcycsCgkJCQkJbmFtZTogY29udGV4dC5zZWFyY2hGaWx0ZXJHcm91cHNOYW1lLAoJCQkJCXNlYXJjaFBhcmFtZXRlcjogJycsCgkJCQkJc2VhcmNoVmFsdWU6ICcnCgkJCQl9KTsKCQkJfQoKCQkJaWYgKHNjb3BlLmtleSA9PSAnYW55d2hlcmUnICYmIGNvbnRleHQuc2VhcmNoU2hvd1Blb3BsZSkgewoJCQkJZmlsdGVycy5wdXNoKHsKCQkJCQlrZXk6ICd1c2VycycsCgkJCQkJbmFtZTogY29udGV4dC5zZWFyY2hGaWx0ZXJQZW9wbGVOYW1lLAoJCQkJCWFkdmFuY2VkU2VhcmNoVXJsOiBmdW5jdGlvbiAocXVlcnkpIHsKCQkJCQkJdmFyIHBhcmFtcyA9IHtxOiBxdWVyeX07CgkJCQkJCXJldHVybiBjb250ZXh0LnNlYXJjaEFkdmFuY2VkVXNlclVybAoJCQkJCQkJCQkJLnJlcGxhY2UoL1x7MFx9L2dpLCAkLnBhcmFtKHBhcmFtcykpCgkJCQkJCQkJCQkucmVwbGFjZSgvXCsvZ2ksICclMjAnKQoJCQkJCQkJCQkJLnJlcGxhY2UoLycvZ2ksICclMjcnKTsKCQkJCQl9CgkJCQl9KTsKCQkJfQoKCQkJLy8gYWRkIGN1c3RvbSBmaWx0ZXJzCgkJCXZhciBpID0gMTsKCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLm1lc3NhZ2luZy5wdWJsaXNoKCdzZWFyY2gucmVnaXN0ZXJGaWx0ZXJzJywgewoJCQkJc2NvcGU6IHNjb3BlLAoJCQkJcmVnaXN0ZXI6IGZ1bmN0aW9uIChzZXR0aW5ncykgewoJCQkJCWZpbHRlcnMucHVzaCgkLmV4dGVuZCgKCQkJCQkJCQkJewoJCQkJCQkJCQkJbmFtZTogJycsCgkJCQkJCQkJCQlxdWVyeTogZnVuY3Rpb24gKHF1ZXJ5RGF0YSwgY29tcGxldGUpIHsKCQkJCQkJCQkJCX0sCgkJCQkJCQkJCQlhZHZhbmNlZFNlYXJjaFVybDogZnVuY3Rpb24gKHF1ZXJ5VGV4dCkgewoJCQkJCQkJCQkJCXJldHVybiBudWxsOwoJCQkJCQkJCQkJfSwKCQkJCQkJCQkJCWlzRGVmYXVsdDogZmFsc2UsCgkJCQkJCQkJCQlzZWFyY2hQYXJhbWV0ZXI6ICcnLAoJCQkJCQkJCQkJc2VhcmNoVmFsdWU6ICcnCgkJCQkJCQkJCX0sCgkJCQkJCQkJCXNldHRpbmdzLAoJCQkJCQkJCQl7CgkJCQkJCQkJCQlrZXk6ICdjdXN0b20nICsgKGkrKykKCQkJCQkJCQkJfQoJCQkJCSkpOwoJCQkJfQoJCQl9KTsKCgkJCWNvbnRleHQuc2VhcmNoRmlsdGVycyA9IGZpbHRlcnM7CgkJfQoKCQlmdW5jdGlvbiBzZXREZWZhdWx0QWR2YW5jZWRTZWFyY2hVcmwoY29udGV4dCkgewoKCQkJdmFyIGZpbHRlciA9IGdldEN1cnJlbnRTZWFyY2hGaWx0ZXJzKGNvbnRleHQpOwoKCQkJdmFyIHF1ZXJ5ID0gJC50cmltKGZpbHRlci5xdWVyeSk7CgkJCWlmIChxdWVyeSAmJiBxdWVyeS5sZW5ndGggPiAwKSB7CgkJCQl2YXIgcGFyYW1zID0ge3E6IHF1ZXJ5fTsKCgkJCQlpZiAoZmlsdGVyLnNlYXJjaFBhcmFtZXRlciAmJiBmaWx0ZXIuc2VhcmNoVmFsdWUpIHsKCQkJCQlwYXJhbXNbZmlsdGVyLnNlYXJjaFBhcmFtZXRlcl0gPSBmaWx0ZXIuc2VhcmNoVmFsdWU7CgkJCQl9CgoJCQkJY29udGV4dC5jdXJyZW50QWR2YW5jZWRTZWFyY2hVcmwgPSBjb250ZXh0LnNlYXJjaEFkdmFuY2VkVXJsCgkJCQkJCQkJLnJlcGxhY2UoL1x7MFx9L2dpLCAkLnBhcmFtKHBhcmFtcykpCgkJCQkJCQkJLnJlcGxhY2UoL1wrL2dpLCAnJTIwJykKCQkJCQkJCQkucmVwbGFjZSgvJy9naSwgJyUyNycpOwoJCQkJJCgnIycgKyBjb250ZXh0LmFkdmFuY2VkU2VhcmNoSWQpLmNzcygndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7CgkJCX0KCQkJZWxzZSB7CgkJCQkkKCcjJyArIGNvbnRleHQuYWR2YW5jZWRTZWFyY2hJZCkuY3NzKCd2aXNpYmlsaXR5JywgJ2hpZGRlbicpOwoJCQl9CgkJfQoKCQkvLyBkZWZhdWx0IHRvIHN1cHBvcnRpbmcgaW5saW5lU2VhcmNoIHRob3VnaCBzZWFyY2gucmVhZHkgY2FuIG92ZXJyaWRlIGl0CgkJY29udGV4dC5zdXBwb3J0c0lubGluZVNlYXJjaCA9IHRydWU7CgoJCXNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewoJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ubWVzc2FnaW5nLnB1Ymxpc2goJ3NlYXJjaC5yZWFkeScsIHsKCQkJCWluaXQ6IGZ1bmN0aW9uIChzZXR0aW5ncykgewoJCQkJCXZhciBpbmplY3RlZFNldHRpbmdzID0gJC5leHRlbmQoewoJCQkJCQljdXN0b21SZXN1bHRSZW5kZXJpbmc6IGZhbHNlLAoJCQkJCQlpbml0aWFsUXVlcnk6ICcnCgkJCQkJfSwgc2V0dGluZ3MpOwoJCQkJCWNvbnRleHQuc3VwcG9ydHNJbmxpbmVTZWFyY2ggPSAhaW5qZWN0ZWRTZXR0aW5ncy5jdXN0b21SZXN1bHRSZW5kZXJpbmc7CgkJCQkJaWYgKGluamVjdGVkU2V0dGluZ3MuaW5pdGlhbFF1ZXJ5ICE9PSBudWxsKSB7CgkJCQkJCWNvbnRleHQuc2VhcmNoSW5wdXQudmFsKGluamVjdGVkU2V0dGluZ3MuaW5pdGlhbFF1ZXJ5KTsKCQkJCQl9CgkJCQl9CgkJCX0pOwoJCX0sIDUwKTsKCgkJZnVuY3Rpb24gYnVpbGRTZWFyY2hEYXRhRnJvbUVmZmVjdGl2ZVF1ZXJ5KHBhZ2VJbmRleCwgZWZmZWN0aXZlU2VhcmNoRmlsdGVyKSB7CgkJCXJldHVybiB7CgkJCQl3X3BhZ2VJbmRleDogcGFnZUluZGV4LAoJCQkJd19xdWVyeTogZWZmZWN0aXZlU2VhcmNoRmlsdGVyLnF1ZXJ5LAoJCQkJd19wbGFjZUtleTogZWZmZWN0aXZlU2VhcmNoRmlsdGVyLnBsYWNlS2V5LAoJCQkJd19wbGFjZVZhbHVlOiBlZmZlY3RpdmVTZWFyY2hGaWx0ZXIucGxhY2VWYWx1ZSwKCQkJCXdfdHlwZTogZWZmZWN0aXZlU2VhcmNoRmlsdGVyLnR5cGUKCQkJfTsKCQl9CgoJCWNvbnRleHQuc2VhcmNoUG9wdXAgPSBIZWFkZXJMaXN0KHsKCQkJa2V5OiAnc2VhcmNoJywKCQkJZm9vdGVyQ29udGVudDogY29udGV4dC5zZWFyY2hGb290ZXJDb250ZW50LAoJCQlhY3RpdmF0aW9uSW5wdXQ6IGNvbnRleHQuc2VhcmNoSW5wdXQsCgkJCWVuZGxlc3NTY3JvbGw6IHRydWUsCgkJCXRpdGxlQ291bnQ6IGZhbHNlLAoJCQlzaG93Q291bnQ6IGZhbHNlLAoJCQljc3NDbGFzczogJ3NlYXJjaCcsCgkJCXdyYXBwZXI6IGNvbnRleHQuYmFubmVyLAoJCQloYW5kaGVsZEJhbm5lckxpbmtzQ291bnQ6IGNvbnRleHQuaGFuZGhlbGRCYW5uZXJMaW5rc0NvdW50LAoJCQlvblNob3dMb2FkaW5nSW5kaWNhdG9yOiBmdW5jdGlvbiAoKSB7CgkJCQlyZXR1cm4gY29udGV4dC5zdXBwb3J0c0lubGluZVNlYXJjaDsKCQkJfSwKCQkJb25Mb2FkOiBmdW5jdGlvbiAocGFnZUluZGV4LCBzaG91bGRSZWZyZXNoVW5yZWFkQ291bnQsIGZpbHRlciwgY29tcGxldGUpIHsKCQkJCWlmICghY29udGV4dC5zdXBwb3J0c0lubGluZVNlYXJjaCkKCQkJCQlyZXR1cm47CgoJCQkJdmFyIGVmZmVjdGl2ZVNlYXJjaEZpbHRlciA9IGZpbHRlciB8fCBnZXRDdXJyZW50U2VhcmNoRmlsdGVycyhjb250ZXh0KTsKCgkJCQkvLyBwcmV2ZW50IGVtcHR5IHNlYXJjaGVzCgkJCQlpZiAoIWVmZmVjdGl2ZVNlYXJjaEZpbHRlci5xdWVyeSB8fCBlZmZlY3RpdmVTZWFyY2hGaWx0ZXIucXVlcnkubGVuZ3RoID09IDApIHsKCQkJCQljb21wbGV0ZSgnJyk7CgkJCQkJcmV0dXJuOwoJCQkJfQoKCQkJCXZhciBmaWx0ZXIgPSAkLmdyZXAoY29udGV4dC5zZWFyY2hGaWx0ZXJzLCBmdW5jdGlvbiAoZSkgewoJCQkJCXJldHVybiBlLmtleSA9PSBlZmZlY3RpdmVTZWFyY2hGaWx0ZXIudHlwZQoJCQkJfSlbMF07CgkJCQlpZiAoZmlsdGVyICYmIGZpbHRlci5xdWVyeSkgewoJCQkJCWZpbHRlci5xdWVyeSh7CgkJCQkJCXBhZ2VJbmRleDogcGFnZUluZGV4LAoJCQkJCQlxdWVyeTogZWZmZWN0aXZlU2VhcmNoRmlsdGVyLnF1ZXJ5CgkJCQkJfSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7CgkJCQkJCWNvbXBsZXRlKHJlc3BvbnNlKTsKCQkJCQkJY29udGV4dC5zZWFyY2hJbnB1dC5hZGRDbGFzcygnd2l0aC1yZXN1bHRzJyk7CgoJCQkJCQlpZiAoIWNvbnRleHQuY3VycmVudEFkdmFuY2VkU2VhcmNoVXJsKSB7CgkJCQkJCQkkKCcjJyArIGNvbnRleHQuYWR2YW5jZWRTZWFyY2hJZCkuY3NzKCd2aXNpYmlsaXR5JywgJ2hpZGRlbicpOwoJCQkJCQl9CgkJCQkJCWVsc2UgewoJCQkJCQkJJCgnIycgKyBjb250ZXh0LmFkdmFuY2VkU2VhcmNoSWQpLmNzcygndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7CgkJCQkJCX0KCQkJCQl9KTsKCQkJCX0KCQkJCWVsc2UgewoJCQkJCXZhciBxdWVyeURhdGEgPSBidWlsZFNlYXJjaERhdGFGcm9tRWZmZWN0aXZlUXVlcnkocGFnZUluZGV4LCBlZmZlY3RpdmVTZWFyY2hGaWx0ZXIpCgoJCQkJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5nZXQoewoJCQkJCQl1cmw6IGNvbnRleHQuc2VhcmNoVXJsLAoJCQkJCQlkYXRhOiBxdWVyeURhdGEsCgkJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkgewoJCQkJCQkJLy8gYWZ0ZXIgcmVzdWx0cyByZXR1cm4sIG1ha2Ugc3VyZSB0aGUgY3VycmVudCBzZWFyY2ggcGFyYW1ldGVycwoJCQkJCQkJLy8gd291bGQgc3RpbGwgbWF0Y2ggdGhlIHJlcXVlc3QgdGhhdCBtYWRlIHRoaXMgcXVlcnkKCQkJCQkJCS8vIElmIG5vdCwgaWdub3JlIHRoZSByZXN1bHRzCgkJCQkJCQl2YXIgY3VycmVudEVmZmVjdGl2ZVNlYXJjaEZpbHRlciA9IGdldEN1cnJlbnRTZWFyY2hGaWx0ZXJzKGNvbnRleHQpOwoJCQkJCQkJaWYgKCFjdXJyZW50RWZmZWN0aXZlU2VhcmNoRmlsdGVyIHx8ICFjdXJyZW50RWZmZWN0aXZlU2VhcmNoRmlsdGVyLnF1ZXJ5IHx8IGN1cnJlbnRFZmZlY3RpdmVTZWFyY2hGaWx0ZXIucXVlcnkubGVuZ3RoID09IDApIHsKCQkJCQkJCQljb21wbGV0ZShudWxsKTsKCQkJCQkJCQlyZXR1cm47CgkJCQkJCQl9CgkJCQkJCQl2YXIgY3VycmVudFF1ZXJ5RGF0YSA9IGJ1aWxkU2VhcmNoRGF0YUZyb21FZmZlY3RpdmVRdWVyeShwYWdlSW5kZXgsIGN1cnJlbnRFZmZlY3RpdmVTZWFyY2hGaWx0ZXIpOwoJCQkJCQkJaWYgKCQudGVsbGlnZW50LmV2b2x1dGlvbi51cmwuc2VyaWFsaXplUXVlcnkoY3VycmVudFF1ZXJ5RGF0YSkgIT0KCQkJCQkJCQkJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24udXJsLnNlcmlhbGl6ZVF1ZXJ5KHF1ZXJ5RGF0YSkpIHsKCQkJCQkJCQljb21wbGV0ZShudWxsKTsKCQkJCQkJCQlyZXR1cm47CgkJCQkJCQl9CgoJCQkJCQkJLy8gc2hvdyByZXNwb25zZQoJCQkJCQkJY29tcGxldGUocmVzcG9uc2UpOwoJCQkJCQkJY29udGV4dC5zZWFyY2hJbnB1dC5hZGRDbGFzcygnd2l0aC1yZXN1bHRzJyk7CgkJCQkJCX0KCQkJCQl9KTsKCQkJCX0KCQkJfSwKCQkJb25SZWZyZXNoVW5yZWFkQ291bnQ6IGZ1bmN0aW9uIChjb21wbGV0ZSkgewoJCQkJY29tcGxldGUoMCk7CgkJCX0sCgkJCW9uQnVpbGRGaWx0ZXI6IGZ1bmN0aW9uIChmaWx0ZXJlZCkgewoJCQkJbG9hZFNlYXJjaFBsYWNlcyhjb250ZXh0KTsKCQkJCWxvYWRTZWFyY2hGaWx0ZXJzKGNvbnRleHQsIGNvbnRleHQuc2VhcmNoUGxhY2VzLmxlbmd0aCA+IDAgPyBjb250ZXh0LnNlYXJjaFBsYWNlc1swXSA6IHtrZXk6ICdhbnl3aGVyZScsIHZhbHVlOiAnYW55d2hlcmUnfSk7CgoJCQkJdmFyIGZpbHRlclRlbXBsYXRlID0gJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnRlbXBsYXRlLmNvbXBpbGUoY29udGV4dC5zZWFyY2hGaWx0ZXJUZW1wbGF0ZSksCgkJCQkJCQkJZmlsdGVyVGVtcGxhdGVEYXRhID0gewoJCQkJCQkJCQljb250ZW50VHlwZUlkczogJycsCgkJCQkJCQkJCWFwcGxpY2F0aW9uQ29udGVudFR5cGVJZHM6ICcnLAoJCQkJCQkJCQljb250YWluZXJUeXBlczogW10sCgkJCQkJCQkJCWZpbHRlcnM6IGNvbnRleHQuc2VhcmNoRmlsdGVycywKCQkJCQkJCQkJcGxhY2VzOiBjb250ZXh0LnNlYXJjaFBsYWNlcwoJCQkJCQkJCX07CgoJCQkJY29udGV4dC5zZWFyY2hGaWx0ZXIgPSAkKCc8ZGl2PjwvZGl2PicpLmhpZGUoKS5hcHBlbmRUbygnYm9keScpOwoJCQkJJChmaWx0ZXJUZW1wbGF0ZShmaWx0ZXJUZW1wbGF0ZURhdGEpKS5hcHBlbmRUbyhjb250ZXh0LnNlYXJjaEZpbHRlcik7CgoJCQkJdmFyIGZpbHRlciA9ICQuZ3JlcChjb250ZXh0LnNlYXJjaEZpbHRlcnMsIGZ1bmN0aW9uIChlKSB7CgkJCQkJcmV0dXJuIGUuaXNEZWZhdWx0OwoJCQkJfSlbMF07CgkJCQlpZiAoZmlsdGVyKSB7CgkJCQkJY29udGV4dC5zZWFyY2hGaWx0ZXIuZmluZCgnYS50eXBlW2RhdGEta2V5PSInICsgZmlsdGVyLmtleSArICciXScpLmFkZENsYXNzKCdzZWxlY3RlZCcpOwoJCQkJfQoJCQkJZWxzZSB7CgkJCQkJY29udGV4dC5zZWFyY2hGaWx0ZXIuZmluZCgnYS50eXBlOmZpcnN0JykuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7CgkJCQl9CgkJCQljb250ZXh0LnNlYXJjaEZpbHRlci5maW5kKCdhLnBsYWNlOmZpcnN0JykuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7CgkJCQljb250ZXh0LnNlYXJjaEZpbHRlci5vbignY2xpY2snLCAnYScsIGZ1bmN0aW9uIChlKSB7CgkJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCWUuc3RvcFByb3BhZ2F0aW9uKCk7CgkJCQkJdmFyIHRhcmdldCA9ICQoZS50YXJnZXQpOwoJCQkJCXRhcmdldC5jbG9zZXN0KCd1bCcpLmZpbmQoJ2EnKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTsKCQkJCQl0YXJnZXQuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7CgoJCQkJCWlmICh0YXJnZXQuaGFzQ2xhc3MoJ3BsYWNlJykpIHsKCQkJCQkJdmFyIGtleSA9IHRhcmdldC5kYXRhKCdrZXknKSwgdmFsdWUgPSB0YXJnZXQuZGF0YSgndmFsdWUnKTsKCgkJCQkJCWxvYWRTZWFyY2hGaWx0ZXJzKGNvbnRleHQsIHtrZXk6IGtleSwgdmFsdWU6IHZhbHVlfSk7CgkJCQkJCWNvbnRleHQuc2VhcmNoRmlsdGVyLmVtcHR5KCkuYXBwZW5kKCQoZmlsdGVyVGVtcGxhdGUoewoJCQkJCQkJY29udGVudFR5cGVJZHM6ICcnLAoJCQkJCQkJYXBwbGljYXRpb25Db250ZW50VHlwZUlkczogJycsCgkJCQkJCQljb250YWluZXJUeXBlczogW10sCgkJCQkJCQlmaWx0ZXJzOiBjb250ZXh0LnNlYXJjaEZpbHRlcnMsCgkJCQkJCQlwbGFjZXM6IGNvbnRleHQuc2VhcmNoUGxhY2VzCgkJCQkJCX0pKSk7CgoJCQkJCQl2YXIgZmlsdGVyID0gJC5ncmVwKGNvbnRleHQuc2VhcmNoRmlsdGVycywgZnVuY3Rpb24gKGUpIHsKCQkJCQkJCXJldHVybiBlLmlzRGVmYXVsdDsKCQkJCQkJfSlbMF07CgkJCQkJCWlmIChmaWx0ZXIpIHsKCQkJCQkJCWNvbnRleHQuc2VhcmNoRmlsdGVyLmZpbmQoJ2EudHlwZVtkYXRhLWtleT0iJyArIGZpbHRlci5rZXkgKyAnIl0nKS5hZGRDbGFzcygnc2VsZWN0ZWQnKTsKCQkJCQkJfQoJCQkJCQllbHNlIHsKCQkJCQkJCWNvbnRleHQuc2VhcmNoRmlsdGVyLmZpbmQoJ2EudHlwZTpmaXJzdCcpLmFkZENsYXNzKCdzZWxlY3RlZCcpOwoJCQkJCQl9CgkJCQkJCWNvbnRleHQuc2VhcmNoRmlsdGVyLmZpbmQoJ2EucGxhY2VbZGF0YS1rZXk9IicgKyBrZXkgKyAnIl1bZGF0YS12YWx1ZT0iJyArIHZhbHVlICsgJyJdJykuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7CgkJCQkJfQoKCQkJCQlmaWx0ZXJlZChnZXRDdXJyZW50U2VhcmNoRmlsdGVycyhjb250ZXh0KSk7CgoJCQkJCXZhciBmaWx0ZXIgPSBnZXRDdXJyZW50U2VhcmNoRmlsdGVycyhjb250ZXh0KTsKCQkJCQlpZiAoZmlsdGVyICYmIGZpbHRlci5hZHZhbmNlZFNlYXJjaFVybCkKCQkJCQkJY29udGV4dC5jdXJyZW50QWR2YW5jZWRTZWFyY2hVcmwgPSBmaWx0ZXIuYWR2YW5jZWRTZWFyY2hVcmwoZmlsdGVyLnF1ZXJ5KTsKCQkJCQllbHNlCgkJCQkJCXNldERlZmF1bHRBZHZhbmNlZFNlYXJjaFVybChjb250ZXh0KTsKCQkJCX0pOwoKCQkJCXZhciBsYXN0UXVlcnkgPSBudWxsOwoJCQkJY29udGV4dC5zZWFyY2hJbnB1dC5vbih7CgkJCQkJaW5wdXQ6IHV0aWwudGhyb3R0bGUoZnVuY3Rpb24gKGUpIHsKCQkJCQkJdmFyIGZpbHRlciA9IGdldEN1cnJlbnRTZWFyY2hGaWx0ZXJzKGNvbnRleHQpOwoJCQkJCQlpZiAoZmlsdGVyLnF1ZXJ5ID09IGxhc3RRdWVyeSkgewoJCQkJCQkJZS5wcmV2ZW50RGVmYXVsdCgpCgkJCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQkJCX0KCQkJCQkJbGFzdFF1ZXJ5ID0gZmlsdGVyLnF1ZXJ5OwoJCQkJCQlmaWx0ZXJlZChmaWx0ZXIpOwoJCQkJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ubWVzc2FnaW5nLnB1Ymxpc2goJ3NlYXJjaC5xdWVyeScsIHsKCQkJCQkJCXZhbHVlOiAkLnRyaW0oY29udGV4dC5zZWFyY2hJbnB1dC52YWwoKSkKCQkJCQkJfSk7CgkJCQkJfSwgNTAwKSwKCQkJCQljbGljazogZnVuY3Rpb24gKGUpIHsKCQkJCQkJaWYgKCFzdXBwb3J0c1RvdWNoKCkpCgkJCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQkJfQoJCQkJfSk7CgkJCQljb250ZXh0LnNlYXJjaElucHV0Lm9uKHsKCQkJCQlpbnB1dDogZnVuY3Rpb24gKGUpIHsKCQkJCQkJdmFyIGZpbHRlciA9IGdldEN1cnJlbnRTZWFyY2hGaWx0ZXJzKGNvbnRleHQpOwoJCQkJCQlpZiAoZmlsdGVyICYmIGZpbHRlci5hZHZhbmNlZFNlYXJjaFVybCkKCQkJCQkJCWNvbnRleHQuY3VycmVudEFkdmFuY2VkU2VhcmNoVXJsID0gZmlsdGVyLmFkdmFuY2VkU2VhcmNoVXJsKGZpbHRlci5xdWVyeSk7CgkJCQkJCWVsc2UKCQkJCQkJCXNldERlZmF1bHRBZHZhbmNlZFNlYXJjaFVybChjb250ZXh0KTsKCQkJCQl9CgkJCQl9KTsKCgkJCQlyZXR1cm4gY29udGV4dC5zZWFyY2hGaWx0ZXIuc2hvdygpOwoJCQl9LAoJCQl0ZW1wbGF0ZTogY29udGV4dC5zZWFyY2hUZW1wbGF0ZSwKCQkJb25TaG93OiBmdW5jdGlvbiAoYWN0aXZhdG9yLCBjb21wbGV0ZSkgewoJCQkJdmFyIGNvbmZpZyA9IHsKCQkJCQlhdHRhY2hUbzogY29udGV4dC5zZWFyY2hJbnB1dCwKCQkJCQl3aWR0aDogY29udGV4dC5zZWFyY2hJbnB1dC5vdXRlcldpZHRoKCkgLSAxLAoJCQkJCW1heEhlaWdodDogKCQoZ2xvYmFsKS5oZWlnaHQoKSAqIC43KSwKCQkJCQljc3NDbGFzczogJ3NlYXJjaC1jb250YWluZXInCgkJCQl9OwoKCQkJCWlmICgkKHdpbmRvdykud2lkdGgoKSA8PSA1NzApIHsKCQkJCQljb25maWcgPSB7CgkJCQkJCWF0dGFjaFRvOiBjb250ZXh0LnNlYXJjaEZpZWxkcywKCQkJCQkJd2lkdGg6IGNvbnRleHQuYmFubmVyLndpZHRoKCksCgkJCQkJCW1heEhlaWdodDogJChnbG9iYWwpLmhlaWdodCgpIC8gMiwKCQkJCQkJY29udGFpbmVyQ3NzQ2xhc3M6ICcnCgkJCQkJfTsKCQkJCX0KCgkJCQkvL3ZhciBzZXR0aW5ncyA9IGJ1aWxkU2hvd1NldHRpbmdzKGNvbnRleHQsIGFjdGl2YXRvciwgY29uZmlnKTsKCgkJCQkvLyBtYWtlIHNlYXJjaCBvcGVuIDEwMCUgd2lkZSwgYW5kIDcwJSBvZiB0aGUgaGVpZ2h0IG9mIHRoZSB2aWV3cG9ydAoJCQkJY29tcGxldGUoY29uZmlnKTsKCgkJCQltb2RpZnlQb3B1cChmYWxzZSk7CgkJCX0sCgkJCW9uSGlkZTogZnVuY3Rpb24gKCkgewoJCQkJY29udGV4dC5zZWFyY2hJbnB1dC5yZW1vdmVDbGFzcygnd2l0aC1yZXN1bHRzJyk7CgkJCX0KCQl9KTsKCgkJLy8gYWR2YW5jZWQgc2VhcmNoCgkJZnVuY3Rpb24gcmVkaXJlY3RUb0FkdmFuY2VkU2VhcmNoKCkgewoJCQlpZiAoY29udGV4dC5zdXBwb3J0c0lubGluZVNlYXJjaCAmJiAhY29udGV4dC5jdXJyZW50QWR2YW5jZWRTZWFyY2hVcmwpCgkJCQlzZXREZWZhdWx0QWR2YW5jZWRTZWFyY2hVcmwoY29udGV4dCk7CgkJCWlmIChjb250ZXh0LmN1cnJlbnRBZHZhbmNlZFNlYXJjaFVybCkKCQkJCXdpbmRvdy5sb2NhdGlvbiA9IGNvbnRleHQuY3VycmVudEFkdmFuY2VkU2VhcmNoVXJsOwoJCX0KCgkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLm1lc3NhZ2luZy5zdWJzY3JpYmUoY29udGV4dC5tZXNzYWdlUHJlZml4ICsgJ2FkdmFuY2Vkc2VhcmNoJywgcmVkaXJlY3RUb0FkdmFuY2VkU2VhcmNoKTsKCgkJLy8gaWYgbm90IHRvdWNoLCBzdXBwb3J0IGVudGVyIHRvIHVzZSBhZHZhbmNlZCBzZWFyY2gKCQkkKGNvbnRleHQuc2VhcmNoSW5wdXQpLm9uKCdrZXlkb3duJywgZnVuY3Rpb24gKGUpIHsKCQkJaWYgKGUud2hpY2ggPT09IDEzKSB7CgkJCQlpZiAoIWNvbnRleHQuc3VwcG9ydHNJbmxpbmVTZWFyY2ggfHwgISQoJ2JvZHknKS5oYXNDbGFzcygndG91Y2gnKSkgewoJCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCQllLnN0b3BQcm9wYWdhdGlvbigpOwoJCQkJCS8vIGlmIHRoZXJlJ3MgYSBzZWxlY3RlZCBpdGVtLCByZWRpcmVjdCB0byBpdCwgb3RoZXJ3aXNlIHJlZGlyZWN0IHRvIGFkdmFuY2VkIHNlYXJjaAoJCQkJCXZhciBzZWxlY3RlZEl0ZW0gPSBjb250ZXh0LnNlYXJjaFBvcHVwLmNvbnRlbnQoKS5jaGlsZHJlbignbGkuY29udGVudC1pdGVtLnNlbGVjdGVkJyk7CgkJCQkJaWYgKHNlbGVjdGVkSXRlbS5sZW5ndGggPiAwKSB7CgkJCQkJCXNlbGVjdGVkSXRlbS5jbGljaygpOwoJCQkJCX0KCQkJCQllbHNlIHsKCQkJCQkJcmVkaXJlY3RUb0FkdmFuY2VkU2VhcmNoKCk7CgkJCQkJfQoJCQkJCWlmICgkKCdib2R5JykuaGFzQ2xhc3MoJ3RvdWNoJykpIHsKCQkJCQkJY29udGV4dC5zZWFyY2hJbnB1dC5ibHVyKCk7CgkJCQkJfQoJCQkJCXJldHVybiBmYWxzZTsKCQkJCX0KCQkJCWVsc2UgewoJCQkJCWNvbnRleHQuc2VhcmNoSW5wdXQuYmx1cigpOwoJCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCQllLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpOwoJCQkJCXJldHVybiBmYWxzZTsKCQkJCX0KCQkJfQoJCX0pOwoKCQlyZXR1cm4gY29udGV4dC5zZWFyY2hQb3B1cDsKCX0KCglmdW5jdGlvbiBtb2RpZnlQb3B1cChoaWRlU2VhcmNoKSB7CgkJc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CgkJCSQoJy5wb3B1cC1saXN0JykucGFyZW50KCkuY3NzKHsKCQkJCW92ZXJmbG93OiAndmlzaWJsZScKCQkJfSk7CgkJfSwgMjUwKTsKCgkJaWYoaGlkZVNlYXJjaCkgewoJCQl2YXIgdXRpbGl0eVNlY3Rpb25XcmFwcGVyRWxlbSA9ICQoJy51dGlsaXR5LXNlY3Rpb24td3JhcHBlcicpOwoKCQkJLy9IaWRlIHNlYXJjaCBkcm9wZG93bi4KCQkJaWYgKHV0aWxpdHlTZWN0aW9uV3JhcHBlckVsZW0uaGFzQ2xhc3MoJ29wZW4tc2VhcmNoJykpIHsKCQkJCXV0aWxpdHlTZWN0aW9uV3JhcHBlckVsZW0ucmVtb3ZlQ2xhc3MoJ29wZW4tc2VhcmNoJyk7CgkJCX0KCQl9Cgl9CgoJLy8gcmV0dXJucyBzaG93IHNldHRpbmdzIHRvIHVzZSBmb3IgaGVhZGVyIHBvcHVwcwoJZnVuY3Rpb24gYnVpbGRTaG93U2V0dGluZ3MoY29udGV4dCwgYWN0aXZhdG9yLCBzZXR0aW5ncykgewoJCWlmICgkKHdpbmRvdykud2lkdGgoKSA8PSA1NzApIHsKCQkJcmV0dXJuIHsKCQkJCS8vYXR0YWNoVG86IGNvbnRleHQuYmFubmVyLAoJCQkJYXR0YWNoVG86IGNvbnRleHQudXRpbGl0eURyb3Bkb3duLAoJCQkJd2lkdGg6IGNvbnRleHQuYmFubmVyLndpZHRoKCksCgkJCQltYXhIZWlnaHQ6ICQoZ2xvYmFsKS5oZWlnaHQoKSAvIDIsCgkJCQljb250YWluZXJDc3NDbGFzczogc2V0dGluZ3MuY29udGFpbmVyQ3NzQ2xhc3MKCQkJfTsKCQl9CgkJZWxzZSB7CgkJCXNldHRpbmdzLndpZHRoID0gMzUwOwoKCQkJcmV0dXJuIHNldHRpbmdzOwoJCX0KCX0KCglmdW5jdGlvbiBpbml0U2l0ZU5hdmlnYXRpb24oY29udGV4dCkgewoJCWNvbnRleHQuc2l0ZU5hdmlnYXRpb25MaXN0ID0gSGVhZGVyTGlzdCh7CgkJCWtleTogJ3NpdGUnLAoJCQlhY3RpdmF0aW9uTGluazogY29udGV4dC5zaXRlTmF2aWdhdGlvbkxpbmssCgkJCWVuZGxlc3NTY3JvbGw6IHRydWUsCgkJCXRpdGxlQ291bnQ6IGZhbHNlLAoJCQljc3NDbGFzczogKCdzaXRlICcgKyAoY29udGV4dC5zaXRlTmF2aWdhdGlvblR5cGUgPT09ICdteV9ncm91cHMnID8gJ2dyb3VwJyA6IGNvbnRleHQuc2l0ZU5hdmlnYXRpb25UeXBlKSArICcgJyArIChjb250ZXh0LnNpdGVOYXZpZ2F0aW9uVHlwZSA9PSAnY3VzdG9tJyA/ICd3aXRob3V0LWF2YXRhcicgOiAnJykpLAoJCQl3cmFwcGVyOiBjb250ZXh0LmJhbm5lciwKCQkJdW5yZWFkQ291bnRNZXNzYWdlUGx1cmFsOiBjb250ZXh0LnNpdGVOYXZpZ2F0aW9uVGl0bGUsCgkJCXVucmVhZENvdW50TWVzc2FnZVNpbmd1bGFyOiBjb250ZXh0LnNpdGVOYXZpZ2F0aW9uVGl0bGUsCgkJCW9uTG9hZDogZnVuY3Rpb24gKHBhZ2VJbmRleCwgc2hvdWxkUmVmcmVzaFVucmVhZENvdW50LCBmaWx0ZXIsIGNvbXBsZXRlKSB7CgkJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24uZ2V0KHsKCQkJCQl1cmw6IGNvbnRleHQuc2l0ZU5hdmlnYXRpb25VcmwsCgkJCQkJZGF0YTogewoJCQkJCQl3X3NpdGVOYXZpZ2F0aW9uVHlwZTogY29udGV4dC5zaXRlTmF2aWdhdGlvblR5cGUsCgkJCQkJCXdfcGFnZUluZGV4OiBwYWdlSW5kZXgKCQkJCQl9LAoJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkgewoJCQkJCQljb21wbGV0ZShyZXNwb25zZSk7CgkJCQkJfQoJCQkJfSk7CgkJCX0sCgkJCW9uUmVmcmVzaFVucmVhZENvdW50OiBmdW5jdGlvbiAoY29tcGxldGUpIHsKCQkJCWNvbXBsZXRlKDApOwoJCQl9LAoJCQl0ZW1wbGF0ZTogY29udGV4dC5zaXRlTmF2aWdhdGlvblRlbXBsYXRlLAoJCQlvblNob3c6IGZ1bmN0aW9uIChhY3RpdmF0b3IsIGNvbXBsZXRlKSB7CgkJCQljb21wbGV0ZShidWlsZFNob3dTZXR0aW5ncyhjb250ZXh0LCBhY3RpdmF0b3IsIHt9KSk7CgkJCX0KCQl9KTsKCgkJaWYgKGNvbnRleHQuc2l0ZU5hdmlnYXRpb25DdXN0b21JdGVtcyAmJgoJCQkJCQljb250ZXh0LnNpdGVOYXZpZ2F0aW9uQ3VzdG9tSXRlbXMubGVuZ3RoID4gMCkgewoJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKCQkJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5tZXNzYWdpbmcucHVibGlzaCgnbmF2aWdhdGlvbi5zaXRlTmF2aWdhdGlvbkNvbnRlbnQnLCB7CgkJCQkJaXRlbXM6IGNvbnRleHQuc2l0ZU5hdmlnYXRpb25DdXN0b21JdGVtcwoJCQkJfSk7CgkJCX0sIDEwMCk7CgkJfQoKCQlyZXR1cm4gY29udGV4dC5zaXRlTmF2aWdhdGlvbkxpc3Q7Cgl9CgoJZnVuY3Rpb24gaW5pdEhhbmRoZWxkTGlua3MoY29udGV4dCkgewoJCXZhciBvcGVuSGFuZGhlbGRDb250YWluZXIgPSBudWxsLCBhY3RpdmVMaW5rLCBvcGVuID0gZmFsc2U7CgoJCWZ1bmN0aW9uIHJlZ2lzdGVySGFuZGhlbGRMaW5rKGxpbmssIGNvbnRhaW5lciwgb25TaG93LCBvbkhpZGUpIHsKCQkJbGluay5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkgewoJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoKCQkJCWlmIChvcGVuSGFuZGhlbGRDb250YWluZXIgJiYgb3BlbkhhbmRoZWxkQ29udGFpbmVyID09IGNvbnRhaW5lcikgewoJCQkJCWlmIChhY3RpdmVMaW5rKSB7CgkJCQkJCWFjdGl2ZUxpbmsucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpOwoJCQkJCX0KCQkJCQlvbkhpZGUoKTsKCQkJCQlvcGVuID0gZmFsc2U7CgkJCQkJaWYgKG9wZW5IYW5kaGVsZENvbnRhaW5lcikgewoJCQkJCQlvcGVuSGFuZGhlbGRDb250YWluZXIuaGlkZSgpOwoJCQkJCX0KCQkJCQlvcGVuSGFuZGhlbGRDb250YWluZXIgPSBudWxsOwoJCQkJfQoJCQkJZWxzZSBpZiAob3BlbkhhbmRoZWxkQ29udGFpbmVyKSB7CgkJCQkJaWYgKGFjdGl2ZUxpbmspIHsKCQkJCQkJYWN0aXZlTGluay5yZW1vdmVDbGFzcygnYWN0aXZlJyk7CgkJCQkJfQoJCQkJCW9uSGlkZSgpOwoJCQkJCW9wZW4gPSBmYWxzZTsKCQkJCQlpZiAob3BlbkhhbmRoZWxkQ29udGFpbmVyKSB7CgkJCQkJCW9wZW5IYW5kaGVsZENvbnRhaW5lci5oaWRlKCk7CgkJCQkJfQoJCQkJCW9wZW5IYW5kaGVsZENvbnRhaW5lciA9IGNvbnRhaW5lcjsKCQkJCX0KCQkJCWVsc2UgewoJCQkJCW9wZW5IYW5kaGVsZENvbnRhaW5lciA9IGNvbnRhaW5lcjsKCQkJCX0KCgkJCQlpZiAob3BlbkhhbmRoZWxkQ29udGFpbmVyICE9PSBudWxsKSB7CgkJCQkJb3BlbkhhbmRoZWxkQ29udGFpbmVyLnNob3coKTsKCQkJCQlvblNob3coKTsKCQkJCQlvcGVuID0gdHJ1ZTsKCQkJCQlpZiAoYWN0aXZlTGluaykgewoJCQkJCQlhY3RpdmVMaW5rLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTsKCQkJCQl9CgkJCQkJYWN0aXZlTGluayA9IGxpbmsucGFyZW50cygnbGknKS5hZGRDbGFzcygnYWN0aXZlJyk7CgkJCQl9CgkJCQllbHNlIHsKCQkJCQlvblNob3coKTsKCQkJCQlvcGVuID0gZmFsc2U7CgkJCQkJaWYgKGFjdGl2ZUxpbmspIHsKCQkJCQkJYWN0aXZlTGluay5yZW1vdmVDbGFzcygnYWN0aXZlJyk7CgkJCQkJfQoKCQkJCQlpZiAoYWN0aXZlTGluay5nZXQoMCkgPT09IGxpbmsucGFyZW50cygnbGknKS5nZXQoMCkpIHsKCQkJCQkJYWN0aXZlTGluayA9IGxpbmsucGFyZW50cygnbGknKTsKCQkJCQl9CgkJCQkJZWxzZSB7CgkJCQkJCWFjdGl2ZUxpbmsgPSBsaW5rLnBhcmVudHMoJ2xpJykuYWRkQ2xhc3MoJ2FjdGl2ZScpOwoJCQkJCX0KCQkJCX0KCQkJfSk7CgkJfQoKCQlyZWdpc3RlckhhbmRoZWxkTGluayhjb250ZXh0LmhhbmRoZWxkQmFubmVyTGlua3NMaW5rLCBjb250ZXh0LmhhbmRoZWxkQmFubmVyTGlua3MsCgkJCQkJCWZ1bmN0aW9uICgpIHsKCQkJCQkJCWNvbnRleHQuYmFubmVyTGlua3MuY29udGVudHMoKS5hcHBlbmRUbyhjb250ZXh0LmhhbmRoZWxkQmFubmVyTGlua3MuZmluZCgnPiB1bCcpKTsKCQkJCQkJfSwKCQkJCQkJZnVuY3Rpb24gKCkgewoJCQkJCQkJY29udGV4dC5oYW5kaGVsZEJhbm5lckxpbmtzLmZpbmQoJz4gdWwnKS5jb250ZW50cygpLmFwcGVuZFRvKGNvbnRleHQuYmFubmVyTGlua3MpOwoJCQkJCQl9KTsKCgkJcmVnaXN0ZXJIYW5kaGVsZExpbmsoalF1ZXJ5KCcudXRpbGl0eS5tb2JpbGUgLnNlYXJjaC1idXR0b24gYScpLCBjb250ZXh0LnNlYXJjaEZpZWxkcywKCQkJCQkJZnVuY3Rpb24gKCkgewoJCQkJCQl9LAoJCQkJCQlmdW5jdGlvbiAoKSB7CgkJCQkJCX0KCQkpOwoJfQoKCXZhciBwb3B1cExpc3QgPSBbXTsKCXZhciBwb3B1cHMgPSB7fTsKCglmdW5jdGlvbiByZWdpc3RlclBvcHVwKHBvcHVwLCBrZXkpIHsKCQl2YXIgaW5kZXggPSBwb3B1cExpc3QubGVuZ3RoOwoJCXBvcHVwTGlzdC5wdXNoKHBvcHVwKTsKCQlwb3B1cHNba2V5XSA9IHsKCQkJcG9wdXA6IHBvcHVwLAoJCQlpbmRleDogaW5kZXgKCQl9OwoJfQoKCWZ1bmN0aW9uIGluaXRLZXlib2FyZEV2ZW50cyhjb250ZXh0KSB7CgkJdmFyIGlzQWN0aXZlID0gZmFsc2U7CgkJdmFyIGN1cnJlbnRJbmRleCA9IG51bGw7CgoJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5tZXNzYWdpbmcuc3Vic2NyaWJlKGFjdGl2YXRlTWVzc2FnZSwgZnVuY3Rpb24gKGRhdGEpIHsKCQkJaXNBY3RpdmUgPSB0cnVlOwoJCQljdXJyZW50SW5kZXggPSBwb3B1cHNbZGF0YS5rZXldLmluZGV4OwoJCQlpZiAoZGF0YS5rZXkgPT0gJ3NlYXJjaCcpIHsKCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewoJCQkJCWNvbnRleHQuc2VhcmNoSW5wdXQuZm9jdXMoKTsKCQkJCX0sIDEwKQoJCQl9CgkJfSk7CgkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLm1lc3NhZ2luZy5zdWJzY3JpYmUoZGVhY3RpdmF0ZU1lc3NhZ2UsIGZ1bmN0aW9uIChkYXRhKSB7CgkJCWlmIChkYXRhLmtleSAhPSAnc2VhcmNoJykgewoJCQkJaXNBY3RpdmUgPSBmYWxzZTsKCQkJfQoJCQljbGVhckludGVydmFsKHRlc3RJbnRlcnZhbCk7CgkJfSk7CgoJCXZhciBib2R5ID0gZG9jdW1lbnQuYm9keSwKCQkJCQkJZG9jID0gZG9jdW1lbnQsCgkJCQkJCXdpbiA9IHdpbmRvdywKCQkJCQkJY3VycmVudFNlbGVjdGlvbiA9IG51bGw7CgoJCXZhciBrZXlzID0gewoJCQllbnRlcjogMTMsCgkJCWVzYzogMjcsCgoJCQlzbGFzaDogMTkxLAoKCQkJdXA6IDM4LAoJCQlwOiA4MCwKCQkJazogNzUsCgoJCQlkb3duOiA0MCwKCQkJbjogNzgsCgkJCWo6IDc0LAoKCQkJbGVmdDogMzcsCgkJCXJpZ2h0OiAzOSwKCQkJaDogNzIsCgkJCWw6IDc2CgkJfTsKCgkJZnVuY3Rpb24gYmxvY2tLZXkoZSkgewoJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCWUuc3RvcFByb3BhZ2F0aW9uKCk7CgkJfQoKCQlmdW5jdGlvbiBnZXRDYXJldChlbCkgewoJCQlpZiAoZWwuc2VsZWN0aW9uU3RhcnQpIHsKCQkJCXJldHVybiBlbC5zZWxlY3Rpb25TdGFydDsKCQkJfQoJCQllbHNlIGlmIChkb2N1bWVudC5zZWxlY3Rpb24pIHsKCQkJCWVsLmZvY3VzKCk7CgkJCQl2YXIgciA9IGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpOwoJCQkJaWYgKHIgPT0gbnVsbCkgewoJCQkJCXJldHVybiAwOwoJCQkJfQoJCQkJdmFyIHJlID0gZWwuY3JlYXRlVGV4dFJhbmdlKCksCgkJCQkJCQkJcmMgPSByZS5kdXBsaWNhdGUoKTsKCQkJCXJlLm1vdmVUb0Jvb2ttYXJrKHIuZ2V0Qm9va21hcmsoKSk7CgkJCQlyYy5zZXRFbmRQb2ludCgnRW5kVG9TdGFydCcsIHJlKTsKCQkJCXJldHVybiByYy50ZXh0Lmxlbmd0aDsKCQkJfQoJCQlyZXR1cm4gMDsKCQl9CgoJCSQoJ2JvZHknKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkgewoJCQl2YXIgaXNCYW5uZXJUYXJnZXQgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KGNvbnRleHQud3JhcHBlciArICcsIC5wb3B1cC1saXN0JykubGVuZ3RoID4gMDsKCQkJaWYgKCFpc0Jhbm5lclRhcmdldCkgewoJCQkJdmFyIGN1cnJlbnRQb3B1cCA9IHBvcHVwTGlzdFtjdXJyZW50SW5kZXhdOwoJCQkJaXNBY3RpdmUgPSBmYWxzZTsKCQkJCWlmIChjdXJyZW50UG9wdXApCgkJCQkJY3VycmVudFBvcHVwLmRlYWN0aXZhdGUoKTsKCQkJCWNvbnRleHQuc2VhcmNoSW5wdXQuYmx1cigpOwoJCQkJY3VycmVudFNlbGVjdGlvbiA9IG51bGw7CgkJCX0KCQl9KTsKCgkJJChkb2N1bWVudCkub24oJ2tleWRvd24nLCBmdW5jdGlvbiAoZSkgewoJCQl2YXIgaXNXaW5kb3dFdmVudCA9IChlLnRhcmdldCA9PSBib2R5IHx8IGUudGFyZ2V0ID09IGRvYyB8fCBlLnRhcmdldCA9PSB3aW4pOwoJCQl2YXIgaXNCYW5uZXJFdmVudCA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoY29udGV4dC53cmFwcGVyICsgJywgLnBvcHVwLWxpc3QnKS5sZW5ndGggPiAwOwoKCQkJLy92YXIgaXNCYW5uZXJUYXJnZXQgPSBlLnRhcmdldAoJCQkvLyBzbGFzaCBvcGVucyBzZWFyY2gKCQkJaWYgKCFpc0FjdGl2ZSAmJiBpc1dpbmRvd0V2ZW50ICYmIGUud2hpY2ggPT0ga2V5cy5zbGFzaCkgewoJCQkJYmxvY2tLZXkoZSk7CgkJCQljb250ZXh0LnNlYXJjaElucHV0LmZvY3VzKCk7CgkJCQlpc0FjdGl2ZSA9IHRydWU7CgkJCQljdXJyZW50SW5kZXggPSBwb3B1cHNbJ3NlYXJjaCddLmluZGV4OwoJCQl9CgkJCWVsc2UgaWYgKGlzQWN0aXZlKSB7CgkJCQl2YXIgY3VycmVudFBvcHVwID0gcG9wdXBMaXN0W2N1cnJlbnRJbmRleF07CgoJCQkJaWYgKCFpc0Jhbm5lckV2ZW50ICYmICFpc1dpbmRvd0V2ZW50KSB7CgkJCQkJaXNBY3RpdmUgPSBmYWxzZTsKCQkJCQlpZiAoY3VycmVudFBvcHVwKQoJCQkJCQljdXJyZW50UG9wdXAuZGVhY3RpdmF0ZSgpOwoJCQkJCWNvbnRleHQuc2VhcmNoSW5wdXQuYmx1cigpOwoJCQkJCWN1cnJlbnRTZWxlY3Rpb24gPSBudWxsOwoJCQkJCXJldHVybiB0cnVlOwoJCQkJfQoKCQkJCWlmICghY3VycmVudFBvcHVwKSB7CgkJCQkJcmV0dXJuIHRydWU7CgkJCQl9CgoJCQkJdmFyIGlzQ3Vyc29ySW5TdGFydCA9IGNvbnRleHQuc2VhcmNoSW5wdXQuaXMoIjpub3QoOmZvY3VzKSIpIHx8IGdldENhcmV0KGNvbnRleHQuc2VhcmNoSW5wdXRbMF0pID09IDA7CgkJCQl2YXIgaXNDdXJzb3JJbkVuZCA9IGNvbnRleHQuc2VhcmNoSW5wdXQuaXMoIjpub3QoOmZvY3VzKSIpIHx8IGdldENhcmV0KGNvbnRleHQuc2VhcmNoSW5wdXRbMF0pID09IGNvbnRleHQuc2VhcmNoSW5wdXQudmFsKCkubGVuZ3RoOwoKCQkJCS8vIGhpZGUgb24gZXNjIG9yIHNsYXNoIGluIG5vbiBpbnB1dAoJCQkJaWYgKGUud2hpY2ggPT0ga2V5cy5lc2MgfHwgKGUud2hpY2ggPT0ga2V5cy5zbGFzaCAmJiBpc1dpbmRvd0V2ZW50KSkgewoJCQkJCWJsb2NrS2V5KGUpOwoJCQkJCWN1cnJlbnRQb3B1cC5kZWFjdGl2YXRlKCk7CgkJCQkJY29udGV4dC5zZWFyY2hJbnB1dC5ibHVyKCk7CgkJCQkJaXNBY3RpdmUgPSBmYWxzZTsKCQkJCQljdXJyZW50U2VsZWN0aW9uID0gbnVsbDsKCQkJCX0KCgkJCQkvLyBsZWZ0L3JpZ2h0IHRvIGNoYW5nZSBjdXJyZW50IG9wZW4gcG9wdXAKCQkJCWVsc2UgaWYgKChlLndoaWNoID09IGtleXMubGVmdCAmJiBpc0N1cnNvckluU3RhcnQgJiYgIShlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSkgfHwKCQkJCQkJCQkoZS53aGljaCA9PSBrZXlzLmggJiYgY3VycmVudFBvcHVwICE9PSBjb250ZXh0LnNlYXJjaFBvcHVwKSkgewoJCQkJCWJsb2NrS2V5KGUpOwoJCQkJCWN1cnJlbnRQb3B1cC5kZWFjdGl2YXRlKCk7CgkJCQkJY29udGV4dC5zZWFyY2hJbnB1dC5ibHVyKCk7CgkJCQkJY3VycmVudEluZGV4LS07CgkJCQkJaWYgKGN1cnJlbnRJbmRleCA8IDApIHsKCQkJCQkJY3VycmVudEluZGV4ID0gcG9wdXBMaXN0Lmxlbmd0aCAtIDE7CgkJCQkJfQoKCQkJCQljdXJyZW50UG9wdXAgPSBwb3B1cExpc3RbY3VycmVudEluZGV4XTsKCQkJCQljdXJyZW50UG9wdXAuYWN0aXZhdGUoKTsKCQkJCX0KCQkJCWVsc2UgaWYgKChlLndoaWNoID09IGtleXMucmlnaHQgJiYgaXNDdXJzb3JJbkVuZCAmJiAhKGUuY3RybEtleSB8fCBlLm1ldGFLZXkpKSB8fAoJCQkJCQkJCShlLndoaWNoID09IGtleXMubCAmJiBjdXJyZW50UG9wdXAgIT09IGNvbnRleHQuc2VhcmNoUG9wdXApKSB7CgkJCQkJYmxvY2tLZXkoZSk7CgkJCQkJY3VycmVudFBvcHVwLmRlYWN0aXZhdGUoKTsKCQkJCQljb250ZXh0LnNlYXJjaElucHV0LmJsdXIoKTsKCQkJCQljdXJyZW50SW5kZXgrKzsKCQkJCQlpZiAoY3VycmVudEluZGV4ID49IHBvcHVwTGlzdC5sZW5ndGgpIHsKCQkJCQkJY3VycmVudEluZGV4ID0gMDsKCQkJCQl9CgoJCQkJCWN1cnJlbnRQb3B1cCA9IHBvcHVwTGlzdFtjdXJyZW50SW5kZXhdOwoJCQkJCWN1cnJlbnRQb3B1cC5hY3RpdmF0ZSgpOwoJCQkJfQoKCQkJCS8vIHVwCgkJCQllbHNlIGlmIChlLndoaWNoID09IGtleXMudXAgfHwKCQkJCQkJCQkoKGUud2hpY2ggPT0ga2V5cy5wIHx8IGUud2hpY2ggPT0ga2V5cy5rKSAmJiAoY3VycmVudFBvcHVwICE9PSBjb250ZXh0LnNlYXJjaFBvcHVwKSkpIHsKCQkJCQlibG9ja0tleShlKTsKCQkJCQljdXJyZW50UG9wdXAubW92ZVVwKGZ1bmN0aW9uIChpdGVtKSB7CgkJCQkJCWN1cnJlbnRTZWxlY3Rpb24gPSBpdGVtOwoJCQkJCX0pOwoJCQkJfQoKCQkJCS8vIGRvd24KCQkJCWVsc2UgaWYgKGUud2hpY2ggPT0ga2V5cy5kb3duIHx8CgkJCQkJCQkJKChlLndoaWNoID09IGtleXMubiB8fCBlLndoaWNoID09IGtleXMuaikgJiYgKGN1cnJlbnRQb3B1cCAhPT0gY29udGV4dC5zZWFyY2hQb3B1cCkpKSB7CgkJCQkJYmxvY2tLZXkoZSk7CgkJCQkJY3VycmVudFBvcHVwLm1vdmVEb3duKGZ1bmN0aW9uIChpdGVtKSB7CgkJCQkJCWN1cnJlbnRTZWxlY3Rpb24gPSBpdGVtOwoJCQkJCX0pOwoJCQkJfQoKCQkJCS8vIHNlbGVjdAoJCQkJZWxzZSBpZiAoZS53aGljaCA9PSBrZXlzLmVudGVyKSB7CgkJCQkJYmxvY2tLZXkoZSk7CgkJCQkJaWYgKGN1cnJlbnRTZWxlY3Rpb24pIHsKCQkJCQkJY3VycmVudFNlbGVjdGlvbi5jbGljaygpOwoJCQkJCX0KCQkJCX0KCgkJCX0KCQl9KTsKCX0KCgl2YXIgYXBpID0gewoJCXJlZ2lzdGVyOiBmdW5jdGlvbiAoY29udGV4dCkgewoJCQlpZiAoY29udGV4dC5zaXRlTmF2aWdhdGlvblR5cGUgPT0gInJvb3QiKSB7CgkJCQlnZXRRdWVzdE5hdmlnYXRpb24oKTsKCQkJfQoJCQllbHNlIGlmIChjb250ZXh0LnNpdGVOYXZpZ2F0aW9uTGluayAmJiBjb250ZXh0LnNpdGVOYXZpZ2F0aW9uTGluay5sZW5ndGggPiAwKSB7CgkJCQlyZWdpc3RlclBvcHVwKGluaXRTaXRlTmF2aWdhdGlvbihjb250ZXh0KSwgJ3NpdGUnKTsKCQkJfQoKCQkJaWYgKGNvbnRleHQudXNlUm9vdEZvb3RlciA9PSAnVHJ1ZScgJiYgISQoJyNmb290ZXInKS5sZW5ndGgpIHsKCQkJCWdldFF1ZXN0Rm9vdGVyKCk7CgkJCX0KCgkJCWlmIChjb250ZXh0LnNlYXJjaElucHV0Lmxlbmd0aCA+IDApIHsKCQkJCWlmIChjb250ZXh0LnNlYXJjaFR5cGUgPT0gIkRlZmF1bHQiKSB7CgkJCQkJcmVnaXN0ZXJQb3B1cChpbml0U2VhcmNoUG9wdXAoY29udGV4dCksICdzZWFyY2gnKTsKCQkJCQlwb3N0UHJvY2Vzc0RlZmF1bHRTZWFyY2goY29udGV4dC5zZWFyY2hGaWVsZHMsIGNvbnRleHQuc2VhcmNoSW5wdXQpOwoJCQkJfQoJCQkJZWxzZSB7CgkJCQkJaW5pdFF1ZXN0U2VhcmNoKGNvbnRleHQuc2VhcmNoRmllbGRzLCBjb250ZXh0LnNlYXJjaElucHV0KTsKCQkJCX0KCQkJfQoKCQkJaWYgKGNvbnRleHQubm90aWZpY2F0aW9uc0xpbmsubGVuZ3RoID4gMCkKCQkJCXJlZ2lzdGVyUG9wdXAoaW5pdE5vdGlmaWNhdGlvbkxpc3QoY29udGV4dCksICdub3RpZmljYXRpb25zJyk7CgoJCQlpZiAoY29udGV4dC5jb252ZXJzYXRpb25zTGluay5sZW5ndGggPiAwKQoJCQkJcmVnaXN0ZXJQb3B1cChpbml0Q29udmVyc2F0aW9uTGlzdChjb250ZXh0KSwgJ2NvbnZlcnNhdGlvbnMnKTsKCgkJCWlmIChjb250ZXh0LmJvb2ttYXJrc0xpbmsubGVuZ3RoID4gMCkKCQkJCXJlZ2lzdGVyUG9wdXAoaW5pdEJvb2ttYXJrc0xpc3QoY29udGV4dCksICdib29rbWFya3MnKTsKCgkJCWlmIChjb250ZXh0LnVzZXJMaW5rLmxlbmd0aCA+IDApCgkJCQlyZWdpc3RlclBvcHVwKGluaXRVc2VyUG9wdXAoY29udGV4dCksICd1c2VyJyk7CgoJCQlpbml0SGFuZGhlbGRMaW5rcyhjb250ZXh0KTsKCgkJCWluaXRLZXlib2FyZEV2ZW50cyhjb250ZXh0KTsKCQl9Cgl9OwoKCSQudGVsbGlnZW50ID0gJC50ZWxsaWdlbnQgfHwge307CgkkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSAkLnRlbGxpZ2VudC5ldm9sdXRpb24gfHwge307CgkkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9ICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzIHx8IHt9OwoJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMuc2l0ZUJhbm5lciA9IGFwaTsKCgkvL0N1c3RvbQoKCXZhciBsb2NhbGl6ZWRDb250ZW50ID0gW10sIHBhZ2VUeXBlID0gJycsIHBhZ2VXaWR0aCA9IDA7Cgl2YXIgUm9vdFBhdGggPSBSb290UGF0aCB8fCAnJzsKCgkkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7CgkJcGFnZVdpZHRoID0gZ2V0UGFnZVByb3BlcnRpZXMoKTsKCgkJcHJvY2Vzc0hlYWRlckZvb3RlcigpOwoKCQkkKCdib2R5Jykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHsKCQkJaWYgKCEkKGUudGFyZ2V0KS5wYXJlbnRzKCdoZWFkZXInKS5sZW5ndGgpIHsKCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewoJCQkJCSQoJy51dGlsaXR5JykuZmluZCgnLmFjdGl2ZScpLmZpbmQoJz4gYScpLnRyaWdnZXIoJ2NsaWNrJyk7CgkJCQl9LCAxMDApOwoJCQl9CgkJfSk7Cgl9KTsKCgkkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uICgpIHsKCQlwYWdlV2lkdGggPSBnZXRQYWdlUHJvcGVydGllcygpOwoJfSk7CgoJZnVuY3Rpb24gcG9zdFByb2Nlc3NEZWZhdWx0U2VhcmNoKHNlYXJjaENvbnRhaW5lciwgc2VhcmNoSW5wdXRFbGVtKSB7CgkJc2VhcmNoQ29udGFpbmVyLm9uKCdjbGljaycsICcuYnRuJywgZnVuY3Rpb24gKGUpIHsKCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQlsb2NhdGlvbi5ocmVmID0gJy9jb21tdW5pdHkvc2VhcmNoP3E9JyArIHNlYXJjaElucHV0RWxlbS52YWwoKTsKCQl9KTsKCgkJcG9zdFByb2Nlc3NBbGxTZWFyY2goc2VhcmNoQ29udGFpbmVyKTsKCX0KCglmdW5jdGlvbiBpbml0UXVlc3RTZWFyY2goc2VhcmNoQ29udGFpbmVyLCBzZWFyY2hGaWVsZEVsZW0pIHsKCQkkLmdldFNjcmlwdCgnL1N0YXRpYy9TY3JpcHRzL2pxdWVyeS5hdXRvY29tcGxldGUubWluLmpzJywgZnVuY3Rpb24gKCkgewoJCQkkLmdldFNjcmlwdCgnL3ZpZXdTY3JpcHRzL2pxdWVyeS5hZG9iZS5hdXRvY29tcGxldGUuanMnLCBmdW5jdGlvbiAoKSB7CgkJCQkvL1RPRE86IEZpZ3VyZSBvdXQgd2hhdCB0aGlzIGRvZXMuCgkJCQl2YXIgYiA9IHt9OwoJCQkJKGZ1bmN0aW9uICgpIHsKCQkJCQl2YXIgaiwgbCA9IC9cKy9nLCBrID0gLyhbXiY9XSspPT8oW14mXSopL2csIG4gPSBmdW5jdGlvbiAobykgewoJCQkJCQlyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KG8ucmVwbGFjZShsLCAiICIpKQoJCQkJCX0sIG0gPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnN1YnN0cmluZygxKTsKCQkJCQl3aGlsZSAoaiA9IGsuZXhlYyhtKSkgewoJCQkJCQliW24oalsxXSldID0gbihqWzJdKQoJCQkJCX0KCQkJCX0pKCk7CgoJCQkJLy8gc2VhcmNoRmllbGRFbGVtLmF0dHIoJ2F1dG9jb21wbGV0ZScsICdvZmYnKTsKCQkJCXNlYXJjaEZpZWxkRWxlbS5vbigna2V5cHJlc3MnLCBmdW5jdGlvbiAoZSkgewoJCQkJCWlmIChlLndoaWNoID09IDEzKSB7CgkJCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCQkJZ29TZWFyY2goJCh0aGlzKS52YWwoKSk7CgkJCQkJfQoJCQkJfSk7CgoJCQkJc2VhcmNoQ29udGFpbmVyLm9uKCdjbGljaycsICcuYnRuJywgZnVuY3Rpb24gKGUpIHsKCQkJCQllLnByZXZlbnREZWZhdWx0KCk7CgoJCQkJCWxvY2F0aW9uLmhyZWYgPSAnL3NlYXJjaC9yZXN1bHRzLz9xPScgKyBzZWFyY2hGaWVsZEVsZW0udmFsKCk7CgkJCQl9KTsKCgkJCQlpbml0QWRvYmVTZWFyY2goKTsKCQkJCXBvc3RQcm9jZXNzQWxsU2VhcmNoKHNlYXJjaENvbnRhaW5lcik7CgkJCX0pOwoJCX0pOwoKCQlmdW5jdGlvbiBpbml0QWRvYmVTZWFyY2goKSB7CgkJCXZhciBjb25maWcgPSB7CgkJCQlhY2NvdW50OiAic3AxMDA1MGMzMyIsCgkJCQlzZWFyY2hEb21haW46ICdodHRwOi8vc3RhZ2Uuc3AxMDA1MGVjZC5ndWlkZWQuc3Mtb210cmRjLm5ldC8nLAoJCQkJaW5wdXRFbGVtZW50OiAiW3R5cGU9c2VhcmNoXSIsCgkJCQkvL2lucHV0Rm9ybUVsZW1lbnQ6ICIjc2VhcmNoLWZvcm0iLAoJCQkJZGVsYXk6IDMwMCwKCQkJCW1pbkxlbmd0aDogMiwKCQkJCW1heFJlc3VsdHM6IDEwLAoJCQkJYnJvd3NlckF1dG9jb21wbGV0ZTogZmFsc2UsCgkJCQlxdWVyeUNhc2VTZW5zaXRpdmU6IGZhbHNlLAoJCQkJc3RhcnRzV2l0aDogZmFsc2UsCgkJCQlzZWFyY2hPblNlbGVjdDogdHJ1ZSwKCQkJCXN1Ym1pdE9uU2VsZWN0OiB0cnVlLAoJCQkJaGlnaGxpZ2h0V29yZHM6IGZhbHNlLAoJCQkJaGlnaGxpZ2h0V29yZHNCZWdpbjogZmFsc2UKCQkJfTsKCgkJCXNlYXJjaEZpZWxkRWxlbS5vbigiYXV0b2NvbXBsZXRlb3BlbiIsIGZ1bmN0aW9uIChldmVudCwgdWkpIHsKCQkJCSQoJy51aS1hdXRvY29tcGxldGUnKS5jc3MoewoJCQkJCXdpZHRoOiAkKHRoaXMpLm91dGVyV2lkdGgodHJ1ZSkKCQkJCX0pCgkJCX0pOwoKCQkJc2VhcmNoRmllbGRFbGVtLm9uKCJhdXRvY29tcGxldGVzZWxlY3QiLCBmdW5jdGlvbiAoZXZlbnQsIHVpKSB7CgkJCQlnb1NlYXJjaChzZWFyY2hGaWVsZEVsZW0udmFsKCkpOwoJCQl9KTsKCgkJCXNlYXJjaEZpZWxkRWxlbS5BZG9iZUF1dG9jb21wbGV0ZShjb25maWcpOwoJCX0KCgkJZnVuY3Rpb24gZ29TZWFyY2goc2VhcmNodGVybSkgewoJCQlpZiAoaXNEb3VibGVCeXRlKHNlYXJjaHRlcm0pKSB7CgkJCQlzZWFyY2h0ZXJtID0gZW5jb2RlVVJJQ29tcG9uZW50KHNlYXJjaHRlcm0pOwoJCQl9CgkJCWVsc2UgewoJCQkJLy9zZWFyY2h0ZXJtID0gZW5jb2RlVVJJQ29tcG9uZW50KEVuY29kZXIuaHRtbEVuY29kZShzZWFyY2h0ZXJtKSk7CgkJCQlzZWFyY2h0ZXJtID0gZW5jb2RlVVJJQ29tcG9uZW50KHNlYXJjaHRlcm0pOwoJCQl9CgoJCQlsb2NhdGlvbi5ocmVmID0gIi9zZWFyY2gvcmVzdWx0cy8/cT0iICsgc2VhcmNodGVybTsKCgkJCXJldHVybiBmYWxzZTsKCQl9CgoJCWZ1bmN0aW9uIGlzRG91YmxlQnl0ZShzdHIpIHsKCQkJZm9yICh2YXIgaSA9IDAsIG4gPSBzdHIubGVuZ3RoOyBpIDwgbjsgaSsrKSB7CgkJCQlpZiAoc3RyLmNoYXJDb2RlQXQoaSkgPiAyNTUpIHsKCQkJCQlyZXR1cm4gdHJ1ZTsKCQkJCX0KCQkJfQoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJfQoKCWZ1bmN0aW9uIHBvc3RQcm9jZXNzQWxsU2VhcmNoKHNlYXJjaENvbnRhaW5lcikgewoJCS8vVXRpbGl0eSBzZWN0aW9uLiBEZXNrdG9wCgkJJCgnYm9keScpLm9uKCdjbGljaycsICcudXRpbGl0eS5kZXNrdG9wIC5zZWFyY2gtYnV0dG9uID4gYScsIGZ1bmN0aW9uICgpIHsKCQkJJCh0aGlzKS5wYXJlbnRzKCcudXRpbGl0eS1zZWN0aW9uLXdyYXBwZXInKS50b2dnbGVDbGFzcygnb3Blbi1zZWFyY2gnKTsKCQl9KTsKCX0KCgkvKgoJIEdldCBuYXZpZ2F0aW9uIHZpYSBhamF4LiBTaG91bGQgb25seSBiZSBleGVjdXRlZCBvbiBub24gaG9tZSBwYWdlLgoKCSBOb3RlOiBBbGwgbm9uIGhvbWUgcGFnZSAocmVzcG9uc2l2ZSkgd2lsbCB1c2UgdGhlIHNwZWNpYWwgdGFnIFYyTGF5b3V0SGVhZGVyQWpheCB3aGljaCBoYXMgYSBkYXRhLWFqYXg9InRydWUiIGF0dHJpYnV0ZS4KCSBWMkxheW91dEhlYWRlckFqYXhOYXYgY29udGFpbnMgdGhlIG5hdmlnYXRpb24gaHRtbCBjb250ZW50LgoJICovCglmdW5jdGlvbiBnZXRRdWVzdE5hdmlnYXRpb24oKSB7CgkJdmFyIGhlYWRlck5hdkVsZW0gPSAkKCcubWFpbi1uYXYtc2VjdGlvbicpLAoJCQkJCQlzcGVjaWFsVGFnID0gWydWMkxheW91dEhlYWRlckFqYXhOYXYnXSwKCQkJCQkJc2Vzc2lvbk5hdk5hbWUgPSAnbmF2LScgKyBSb290UGF0aC5yZXBsYWNlKC9cLy9nLCAnJyk7CgoJCWlmIChoZWFkZXJOYXZFbGVtLmRhdGEoJ2FqYXgnKSkgewoJCQkvL0lmIHNlc3Npb24gc3RvcmFnZSBpcyBhdmFpbGFibGUsIHBvcHVsYXRlIG5hdmlnYXRpb24uIE5vdGU6IGlmIG5hdmlnYXRpb24gaGFzIGJlZW4gdXBkYXRlZCB3aGVuIG5hdiBpcyBhbHJlYWR5IHN0b3JlZCwgaXQnbGwgYmUgb25lIHBhZ2UgdmlldyBiZWhpbmQuCgkJCWlmIChzZXNzaW9uU3RvcmFnZVtzZXNzaW9uTmF2TmFtZV0pIHsKCQkJCWhlYWRlck5hdkVsZW0uYXBwZW5kKHNlc3Npb25TdG9yYWdlW3Nlc3Npb25OYXZOYW1lXSk7CgkJCQliaW5kTmF2aWdhdGlvbkV2ZW50cygpOwoJCQl9CgoJCQkvL0dldCBuYXZpZ2F0aW9uIGFuZCBzdG9yZQoJCQlnZXRMb2NhbGl6ZWRDb250ZW50KHNwZWNpYWxUYWcpLmRvbmUoZnVuY3Rpb24gKGRhdGEpIHsKCQkJCS8vUG9wdWxhdGUgbmF2aWdhdGlvbiBvbmx5IGlmIHNlc3Npb25TdG9yYWdlLm5hdiBpcyBub3QgcHJlc2VudCBiZWNhdXNlIGlmIGl0IGlzIHByZXNlbnQsIGl0IHdvdWxkIGhhdmUgYWxyZWFkeSBiZWVuIHBvcHVsYXRlZCBvbiBsaW5lIDMyLgoJCQkJaWYgKCFzZXNzaW9uU3RvcmFnZVtzZXNzaW9uTmF2TmFtZV0pIHsKCQkJCQloZWFkZXJOYXZFbGVtLmFwcGVuZChkYXRhW3NwZWNpYWxUYWdbMF1dKTsKCQkJCQliaW5kTmF2aWdhdGlvbkV2ZW50cygpOwoJCQkJfQoKCQkJCS8vU3RvcmUgbGF0ZXN0IG5hdmlnYXRpb24uCgkJCQlzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHNlc3Npb25OYXZOYW1lLCBkYXRhW3NwZWNpYWxUYWdbMF1dKTsKCQkJfSk7CgkJfQoJCWVsc2UgewoJCQkvL0dldCBuYXZpZ2F0aW9uIGFuZCBzdG9yZQoJCQlnZXRMb2NhbGl6ZWRDb250ZW50KHNwZWNpYWxUYWcpLmRvbmUoZnVuY3Rpb24gKGRhdGEpIHsKCQkJCS8vU3RvcmUgbGF0ZXN0IG5hdmlnYXRpb24uCgkJCQlzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHNlc3Npb25OYXZOYW1lLCBkYXRhW3NwZWNpYWxUYWdbMF1dKTsKCQkJfSk7CgkJfQoKCQlmdW5jdGlvbiBiaW5kTmF2aWdhdGlvbkV2ZW50cygpIHsKCQkJLy9QcmV2ZW50IGFuY2hvciB0YWcgZnJvbSBmaXJpbmcgd2hlbiBocmVmIGlzIHNldCB0byAjCgkJCWhlYWRlck5hdkVsZW0uZmluZCgnLnRpZXIyJykub24oJ2NsaWNrJywgJ2FbaHJlZj0jXScsIGZ1bmN0aW9uIChlKSB7CgkJCQlpZiAocGFnZVR5cGUgPT0gMykgewoJCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCX0KCQkJfSk7CgoJCQkvL01vYmlsZSBvbmx5LgoJCQloZWFkZXJOYXZFbGVtLm9uKCdjbGljaycsICcudGllcjIgPiBsaS5zdWJMaW5rcyA+IGEsIC50aWVyMyA+IGxpLnN1YkxpbmtzID4gYScsIGZ1bmN0aW9uIChlKSB7CgkJCQlpZiAocGFnZVR5cGUgPT0gMykgewoJCQkJCXJldHVybiBmYWxzZTsKCQkJCX0KCgkJCQl2YXIgaXNPcGVuID0gJCh0aGlzKS5wYXJlbnQoKS5zaWJsaW5ncygpLmhhc0NsYXNzKCdvcGVuJyk7CgoJCQkJaWYgKGlzT3BlbikgewoJCQkJCSQodGhpcykucGFyZW50KCkuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnb3BlbicpOwoJCQkJfQoKCQkJCWJnQW5pbWF0ZSh0aGlzKTsKCgkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQkkKHRoaXMpLnBhcmVudCgpLnRvZ2dsZUNsYXNzKCdvcGVuJyk7CgkJCX0pOwoKCQkJLy9TaWFtYWs6IE9wZW4gdGllciAyIG9uIGNsaWNrCgkJCS8vQ2hhbmdlIGJnIGNvbG9yIG9uIE1vYmlsZSBhbmQgVGFibGV0CgkJCWhlYWRlck5hdkVsZW0uZmluZCgnLnRpZXIxJykub24oJ2NsaWNrJywgJz4gLnN1YkxpbmtzID4gYScsIGZ1bmN0aW9uIChlKSB7CgkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQllLnN0b3BQcm9wYWdhdGlvbigpOwoKCQkJCXZhciBpc09wZW4gPSAkKHRoaXMpLnBhcmVudCgpLmhhc0NsYXNzKCdvcGVuJyk7CgoJCQkJLy9DbG9zaW5nIGFsbCBvdGhlciBvcGVuZWQgbmF2aWdhdGlvbgoJCQkJaGVhZGVyTmF2RWxlbS5maW5kKCcub3BlbicpLnJlbW92ZUNsYXNzKCdvcGVuJyk7CgoJCQkJaWYgKCFpc09wZW4pIHsKCQkJCQkvL0FkZGluZyAub3BlbiB0byB0YXJnZXQgTEkKCQkJCQkkKHRoaXMpLnBhcmVudCgpLnRvZ2dsZUNsYXNzKCdvcGVuJyk7CgkJCQl9CgoJCQkJLy9TaWFtYWs6IENoYW5nZSB0aWVyIDEgYmFja2dyb3VuZCB3aGVuIGNsaWNrCgkJCQlpZiAocGFnZVR5cGUgPCAzKSB7CgkJCQkJYmdBbmltYXRlKHRoaXMpOwoJCQkJfQoJCQl9KTsKCgkJCSQoJ2JvZHknKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkgewoJCQkJLy9DbG9zaW5nIGFsbCBuYXZpZ2F0aW9uIHdoZW4gY2xpY2sgb24gYm9keSAoTGFyZ2UgZGVza3RvcCkKCQkJCWlmIChwYWdlVHlwZSA9PSAzKSB7CgkJCQkJJCgnLnRpZXIxJykuZmluZCgnLm9wZW4nKS5yZW1vdmVDbGFzcygnb3BlbicpOwoJCQkJfQoJCQl9KTsKCQl9Cgl9CgoJZnVuY3Rpb24gZ2V0UXVlc3RGb290ZXIoKSB7CgkJdmFyIHNwZWNpYWxUYWcgPSBbJ1YyTGF5b3V0Rm9vdGVyVG9wJywgJ1YyTGF5b3V0Rm9vdGVyQm90dG9tJ10sCgkJCQkJCXNlc3Npb25Gb290ZXJUb3BOYW1lID0gJ2Z0LScgKyBSb290UGF0aC5yZXBsYWNlKC9cLy9nLCAnJyksCgkJCQkJCXNlc3Npb25Gb290ZXJCb3R0b21OYW1lID0gJ2ZiLScgKyBSb290UGF0aC5yZXBsYWNlKC9cLy9nLCAnJyk7CgoJCS8vSWYgc2Vzc2lvbiBzdG9yYWdlIGlzIGF2YWlsYWJsZSwgcG9wdWxhdGUgbmF2aWdhdGlvbi4gTm90ZTogaWYgbmF2aWdhdGlvbiBoYXMgYmVlbiB1cGRhdGVkIHdoZW4gbmF2IGlzIGFscmVhZHkgc3RvcmVkLCBpdCdsbCBiZSBvbmUgcGFnZSB2aWV3IGJlaGluZC4KCQlpZiAoc2Vzc2lvblN0b3JhZ2Vbc2Vzc2lvbkZvb3RlclRvcE5hbWVdKSB7CgkJCSQoJ2JvZHknKS5hcHBlbmQoJzxmb290ZXIgY2xhc3M9ImZvb3RlciIgaWQ9ImZvb3RlciI+JyArIHNlc3Npb25TdG9yYWdlW3Nlc3Npb25Gb290ZXJUb3BOYW1lXSArIHNlc3Npb25TdG9yYWdlW3Nlc3Npb25Gb290ZXJCb3R0b21OYW1lXSArICc8L2Zvb3Rlcj4nKTsKCQkJYmluZE5hdmlnYXRpb25FdmVudHMoKTsKCQl9CgoJCS8vR2V0IG5hdmlnYXRpb24gYW5kIHN0b3JlCgkJZ2V0TG9jYWxpemVkQ29udGVudChzcGVjaWFsVGFnKS5kb25lKGZ1bmN0aW9uIChkYXRhKSB7CgkJCS8vUG9wdWxhdGUgbmF2aWdhdGlvbiBvbmx5IGlmIHNlc3Npb25TdG9yYWdlLm5hdiBpcyBub3QgcHJlc2VudCBiZWNhdXNlIGlmIGl0IGlzIHByZXNlbnQsIGl0IHdvdWxkIGhhdmUgYWxyZWFkeSBiZWVuIHBvcHVsYXRlZCBvbiBsaW5lIDMyLgoJCQlpZiAoIXNlc3Npb25TdG9yYWdlW3Nlc3Npb25Gb290ZXJUb3BOYW1lXSkgewoJCQkJJCgnYm9keScpLmFwcGVuZCgnPGZvb3RlciBjbGFzcz0iZm9vdGVyIiBpZD0iZm9vdGVyIj4nICsgZGF0YVtzcGVjaWFsVGFnWzBdXSArIGRhdGFbc3BlY2lhbFRhZ1sxXV0gKyAnPC9mb290ZXI+Jyk7CgkJCQliaW5kTmF2aWdhdGlvbkV2ZW50cygpOwoJCQl9CgoJCQkvL1N0b3JlIGxhdGVzdCBuYXZpZ2F0aW9uLgoJCQlzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHNlc3Npb25Gb290ZXJUb3BOYW1lLCBkYXRhW3NwZWNpYWxUYWdbMF1dKTsKCQkJc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShzZXNzaW9uRm9vdGVyQm90dG9tTmFtZSwgZGF0YVtzcGVjaWFsVGFnWzFdXSk7CgkJfSk7CgoJCWZ1bmN0aW9uIGJpbmROYXZpZ2F0aW9uRXZlbnRzKCkgewoJCQkvL1ByZXZlbnQgYW5jaG9yIHRhZyBmcm9tIGZpcmluZyB3aGVuIGhyZWYgaXMgc2V0IHRvICMgb24gbW9iaWxlCgkJCSQoJy5mb290ZXItdG9wLXNlY3Rpb24nKS5vbignY2xpY2snLCAnYVtocmVmPSNdJywgZnVuY3Rpb24gKGUpIHsKCQkJCWlmICgkKCdodG1sJykud2lkdGgoKSA8IDc2OCkgewoJCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCX0KCQkJfSk7CgoJCQkvL0lzc3VlIHdpdGggaVBhZCBDaHJvbWUgd2hlcmUgbGlua3MgY291bGRuJ3QgYmUgY2xpY2tlZC4KCQkJLy9SZWFzb24gd2FzIGZvciBTaXRlQ2F0YWx5c3QgaW5qZWN0aW5nIG9uY2xpY2sgYXR0cmlidXRlIHRvIGFsbCBhbmNob3IgdGFnLgoJCQkkKCdmb290ZXInKS5vbignY2xpY2snLCAnYScsIGZ1bmN0aW9uIChlKSB7CgkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQllLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpOwoJCQkJLy9hZGRlZCB0aGlzIGNvbmRpdGlvbiB0byBvcGVuIGxpbmtzIGluIGEgbmV3IHRhYiB3aGVuIG5lZWRlZAoJCQkJaWYgKCQodGhpcykuYXR0cigndGFyZ2V0JykgIT0gdW5kZWZpbmVkICYmICQodGhpcykuYXR0cigndGFyZ2V0JykgPT0gJ19ibGFuaycpIHsKCQkJCQl3aW5kb3cub3BlbigkKHRoaXMpLmF0dHIoJ2hyZWYnKSk7CgkJCQl9CgkJCQllbHNlIHsKCQkJCQlsb2NhdGlvbi5ocmVmID0gJCh0aGlzKS5hdHRyKCdocmVmJyk7CgkJCQl9CgkJCX0pOwoKCQkJLy9UbyBvcGVuIGFuZCBjbG9zZSBmb290ZXIgb24gTW9iaWxlCgkJCSQoJ2JvZHknKS5vbignY2xpY2snLCAnLm1lbnUtbGlua3MgPiAuc3ViTGlua3MgPiBzcGFuJywgZnVuY3Rpb24gKGUpIHsKCQkJCS8vQWRkIGZ1bmN0aW9uYWxpdHkgZm9yIHdoZW4gdXNlciB1c2VzIHRvdWNoIG9uIG5hdmlnYXRpb24vZm9vdGVyLgoKCQkJCWlmICgkKHRoaXMpLnBhcmVudHMoJyNmb290ZXInKS5sZW5ndGggJiYgcGFnZVdpZHRoID49IDc2OCkgewoJCQkJCXJldHVybiBmYWxzZTsKCQkJCX0KCgkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQllLnN0b3BQcm9wYWdhdGlvbigpOwoKCQkJCXZhciBlbGVtID0gJCh0aGlzKS5wYXJlbnQoKTsKCgkJCQkvL1JlbW92ZSBhbGwgIm9wZW4iIGNsYXNzIHRoYXQgaXMgYSBzaWJsaW5nIHRvIHRoZSBjdXJyZW50bHkgdG91Y2hlZCBlbGVtZW50LgoJCQkJZWxlbS5zaWJsaW5ncygpCgkJCQkJCQkJLmZpbmQoJy5vcGVuJykucmVtb3ZlQ2xhc3MoJ29wZW4nKS5lbmQoKQoJCQkJCQkJCS5yZW1vdmVDbGFzcygnb3BlbicpOwoKCQkJCWlmIChlbGVtLmhhc0NsYXNzKCdvcGVuJykpIHsKCQkJCQkvL1JlbW92ZSBhbGwgIm9wZW4iIGNsYXNzIGluc2lkZSBvZiB0aGUgY3VycmVudGx5IHRvdWNoZWQgZWxlbWVudC4KCQkJCQllbGVtLmZpbmQoJy5vcGVuJykucmVtb3ZlQ2xhc3MoJ29wZW4nKS5lbmQoKS5yZW1vdmVDbGFzcygnb3BlbicpOwoJCQkJfQoJCQkJZWxzZSB7CgkJCQkJZWxlbS5hZGRDbGFzcygnb3BlbicpOwoKCQkJCQkvL2ZpeCBmb3Igc29uaWN3YWxsIGhlaWdodAoJCQkJCSQoJ2JvZHknKS50cmlnZ2VyKCdzdWJuYXYudmlzaWJsZScpOwoKCQkJCQlpZiAocGFnZVR5cGUgPT0gMCkgeyAvL01vYmlsZQoJCQkJCQkvL0FuaW1hdGUgYmFja2dyb3VuZCBjb2xvciB0byBub3RpZnkgdXNlciB0aGF0IHRoZXkgaGF2ZSB0b3VjaGVkIHRoYXQgZWxlbWVudC4KCQkJCQkJLy9SZXF1aXJlOiBqUXVlcnkgQ29sb3IgdjIuMS4yIHBsdWdpbgoJCQkJCQllbGVtLmNzcyh7YmFja2dyb3VuZENvbG9yOiAnI2ZiNGYxNCcsIGNvbG9yOiAnI2ZmZmZmZid9KTsKCQkJCQkJJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe3Njcm9sbFRvcDogJCh0aGlzKS5vZmZzZXQoKS50b3B9LCBmdW5jdGlvbiAoKSB7CgkJCQkJCQllbGVtLmNzcygnY29sb3InLCAnIzMzMzMzMycpOwoJCQkJCQkJZWxlbS5hbmltYXRlKHtiYWNrZ3JvdW5kQ29sb3I6ICIjZWVlIn0sIDUwMCwgZnVuY3Rpb24gKCkgewoJCQkJCQkJCWVsZW0uY3NzKCdiYWNrZ3JvdW5kQ29sb3InLCAnJyk7CgkJCQkJCQl9KTsKCQkJCQkJfSk7CgkJCQkJfQoJCQkJfQoJCQl9KTsKCgkJCS8qIENvdW50cnkgRHJvcGRvd24gKi8KCQkJJCgnI2N1cnJlbnQtY291bnRyeScpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7CgkJCQlpZiAocGFnZVdpZHRoID4gNzY3KSB7CgkJCQkJZS5zdG9wUHJvcGFnYXRpb24oKTsKCQkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQkJLy8kKCcjY291bnRyeS1wb3B1cCcpLnRvZ2dsZSgpOwoJCQkJCSQodGhpcykucGFyZW50cygnbGknKS50b2dnbGVDbGFzcygnb3BlbicpOwoJCQkJfQoJCQl9KTsKCQl9Cgl9CgoJZnVuY3Rpb24gZ2V0TG9jYWxpemVkQ29udGVudCh0YWdzKSB7CgkJLy9Ib3cgdG8gY2FsbDogZ2V0TG9jYWxpemVkQ29udGVudCgnUmVnV2FybmluZ01lc3NhZ2VFbWFpbFJlcXVpcmVkJykuZG9uZShmdW5jdGlvbihkYXRhKSB7IGNvbnNvbGUubG9nKGRhdGEpOyB9KTsKCQl2YXIgcmV0dXJuVmFsdWUgPSB7fSwgbmV3VGFncyA9IFtdLCBkZWZlcnJlZCA9ICQuRGVmZXJyZWQoKTsKCgkJaWYgKHR5cGVvZiB0YWdzID09ICdzdHJpbmcnKSB7CgkJCWlmIChsb2NhbGl6ZWRDb250ZW50W3RhZ3NdKSB7CgkJCQlyZXR1cm4gbG9jYWxpemVkQ29udGVudFt0YWdzXTsKCQkJfQoJCQllbHNlIHsKCQkJCW5ld1RhZ3MucHVzaCh0YWdzKTsKCQkJfQoJCX0KCQllbHNlIHsKCQkJJC5lYWNoKHRhZ3MsIGZ1bmN0aW9uIChpLCB0YWcpIHsKCQkJCWlmIChsb2NhbGl6ZWRDb250ZW50W3RhZ10pIHsKCQkJCQlyZXR1cm5WYWx1ZVt0YWddID0gbG9jYWxpemVkQ29udGVudFt0YWddOwoJCQkJfQoJCQkJZWxzZSB7CgkJCQkJbmV3VGFncy5wdXNoKHRhZyk7CgkJCQl9CgkJCX0pOwoJCX0KCgkJaWYgKG5ld1RhZ3MubGVuZ3RoKSB7CgkJCSQuYWpheCh7CgkJCQl1cmw6ICgoKHR5cGVvZiBSb290UGF0aCA9PSAndW5kZWZpbmVkJyB8fCBSb290UGF0aCA9PSAnLycpID8gJycgOiBSb290UGF0aCkgKyAnL2pzb25yZXEvZXZlbnQvJykucmVwbGFjZSgnLy8nLCAnLycpLAoJCQkJdHlwZTogJ1BPU1QnLAoJCQkJZGF0YVR5cGU6ICdKU09OJywKCQkJCWRhdGE6IHsKCQkJCQl0eXBlOiAnbG9jYWxpemVkIHRhZ3MnLAoJCQkJCXRhZ3M6IG5ld1RhZ3Muam9pbignLCcpCgkJCQl9CgkJCX0pLmRvbmUoZnVuY3Rpb24gKGRhdGEpIHsKCQkJCSQuZWFjaChkYXRhLmRhdGEsIGZ1bmN0aW9uIChpLCBvYmopIHsKCQkJCQlyZXR1cm5WYWx1ZVtvYmouaWRdID0gb2JqLnZhbHVlOwoJCQkJCWxvY2FsaXplZENvbnRlbnRbb2JqLmlkXSA9IG9iai52YWx1ZTsKCQkJCX0pOwoKCQkJCWRlZmVycmVkLnJlc29sdmUocmV0dXJuVmFsdWUpOwoJCQl9KTsKCQl9CgkJZWxzZSB7CgkJCWRlZmVycmVkLnJlc29sdmUocmV0dXJuVmFsdWUpOwoJCX0KCgkJcmV0dXJuIGRlZmVycmVkOwoJfQoKCWZ1bmN0aW9uIGJnQW5pbWF0ZSh0YXJnZXQpIHsKCQl2YXIgZWxtID0gJCh0YXJnZXQpOwoKCQllbG0uY3NzKHtiYWNrZ3JvdW5kQ29sb3I6ICcjZmI0ZjE0JywgY29sb3I6ICcjZmZmZmZmJ30pOwoJCWVsbS5hbmltYXRlKHtiYWNrZ3JvdW5kQ29sb3I6ICcjZWVlZWVlJywgY29sb3I6ICcjMzMzMzMzJ30sIDUwMCwgZnVuY3Rpb24gKCkgewoJCQllbG0uY3NzKHsKCQkJCSdiYWNrZ3JvdW5kQ29sb3InOiAnJywKCQkJCSdjb2xvcic6ICcnCgkJCX0pOwoJCX0pOwoJfQoKCWZ1bmN0aW9uIGdldFBhZ2VQcm9wZXJ0aWVzKCkgewoJCS8vV29ya2Fyb3VuZCBmb3IgR29vZ2xlIENocm9tZS4gVGhlIHZlcnRpY2FsIHNjcm9sbGJhciBpcyBub3QgaW5jbHVkZWQgaW4gZGV0ZXJtaW5pbmcgdGhlIHdpZHRoIG9mIHRoZSBkZXZpY2UuCgkJJCgnYm9keScpLmNzcygnb3ZlcmZsb3cnLCAnaGlkZGVuJyk7CgkJdmFyIHcgPSAkKCdodG1sJykud2lkdGgoKTsKCgkJJCgnYm9keScpLmNzcygnb3ZlcmZsb3cnLCAnJyk7CgoJCS8vRGVmaW5lIHBhZ2VUeXBlCgkJaWYgKHcgPj0gMTIwMCkgewoJCQlwYWdlVHlwZSA9IDM7CgkJfQoJCWVsc2UgaWYgKHcgPj0gOTkyKSB7CgkJCXBhZ2VUeXBlID0gMjsKCQl9CgkJZWxzZSBpZiAodyA+PSA3NjgpIHsKCQkJcGFnZVR5cGUgPSAxOwoJCX0KCQllbHNlIHsKCQkJcGFnZVR5cGUgPSAwOwoJCX0KCgkJcmV0dXJuIHc7Cgl9CgoJZnVuY3Rpb24gcHJvY2Vzc0hlYWRlckZvb3RlcigpIHsKCQkkKCdib2R5JykKCQkJCQkJLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7CgkJCQkJCQkvL0Nsb3NpbmcgdG9wIHNlYXJjaCB3aGVuIGNsaWNrIG9uIGJvZHkKCQkJCQkJCWlmICgkKCcub3Blbi1zZWFyY2gnKS5sZW5ndGgpIHsKCQkJCQkJCQlpZiAoISQoZS50YXJnZXQpLmlzKCcuc2VhcmNoLWNvbnRhaW5lciAqLCAuc2VhcmNoLWNvbnRhaW5lciwgLnNlYXJjaC1idXR0b24sIC5zZWFyY2gtYnV0dG9uIConKSkgewoJCQkJCQkJCQkkKCcub3Blbi1zZWFyY2gnKS5yZW1vdmVDbGFzcygnb3Blbi1zZWFyY2gnKTsKCQkJCQkJCQl9CgkJCQkJCQl9CgoJCQkJCQkJdmFyIGNvdW50cnlTZWxlY3RvckVsZW0gPSAkKCcjY291bnRyeS1zZWxlY3RvcicpOwoKCQkJCQkJCWlmIChjb3VudHJ5U2VsZWN0b3JFbGVtLmhhc0NsYXNzKCdvcGVuJykpIHsKCQkJCQkJCQljb3VudHJ5U2VsZWN0b3JFbGVtLnJlbW92ZUNsYXNzKCdvcGVuJyk7CgkJCQkJCQl9CgkJCQkJCX0pCgkJCQkJCS5vbignY2xpY2snLCAnLm5hdmJhci10b2dnbGUnLCBmdW5jdGlvbiAoZSkgewoJCQkJCQkJZS5zdG9wUHJvcGFnYXRpb24oKTsKCgkJCQkJCQkvL0hhbWJ1cmdlciAtIE1vYmlsZQoJCQkJCQkJLy9PcGVuICYgQ2xvc2Ugc2xpZGUgb3V0IG5hdmlnYXRpb24uCgkJCQkJCQlpZiAocGFnZVR5cGUgPCAzKSB7CgkJCQkJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCQkJCSQoJ2h0bWwnKS50b2dnbGVDbGFzcygnb3Blbk5hdicpOwoJCQkJCQkJCSQoJy51dGlsaXR5JykuZmluZCgnPiBsaScpLnJlbW92ZUNsYXNzKCdvcGVuJyk7CgkJCQkJCQl9CgkJCQkJCX0pOwoJfQoKfShqUXVlcnksIHdpbmRvdykpOw==</file>
			<file name="ui.css">QGZvbnQtZmFjZSB7CiAgZm9udC1mYW1pbHk6ICdFbnR5cG8nOwogIHNyYzogdXJsKCd+L2Nmcy1maWxlL19fa2V5L3RoZW1lZmlsZXMvcy1mZC0zZmMzZjgyNDgzZDE0ZWM0ODVlZjkyZTIwNjExNmQ0OS1maWxlcy9lbnR5cG8uZW90PzcwMTcwNzgwJyk7CiAgc3JjOiB1cmwoJ34vY2ZzLWZpbGUvX19rZXkvdGhlbWVmaWxlcy9zLWZkLTNmYzNmODI0ODNkMTRlYzQ4NWVmOTJlMjA2MTE2ZDQ5LWZpbGVzL2VudHlwby5lb3Q/NzAxNzA3ODAjaWVmaXgnKSBmb3JtYXQoJ2VtYmVkZGVkLW9wZW50eXBlJyksIHVybCgnfi9jZnMtZmlsZS9fX2tleS90aGVtZWZpbGVzL3MtZmQtM2ZjM2Y4MjQ4M2QxNGVjNDg1ZWY5MmUyMDYxMTZkNDktZmlsZXMvZW50eXBvLndvZmY/NzAxNzA3ODAnKSBmb3JtYXQoJ3dvZmYnKSwgdXJsKCd+L2Nmcy1maWxlL19fa2V5L3RoZW1lZmlsZXMvcy1mZC0zZmMzZjgyNDgzZDE0ZWM0ODVlZjkyZTIwNjExNmQ0OS1maWxlcy9lbnR5cG8udHRmPzcwMTcwNzgwJykgZm9ybWF0KCd0cnVldHlwZScpLCB1cmwoJ34vY2ZzLWZpbGUvX19rZXkvdGhlbWVmaWxlcy9zLWZkLTNmYzNmODI0ODNkMTRlYzQ4NWVmOTJlMjA2MTE2ZDQ5LWZpbGVzL2VudHlwby5zdmc/NzAxNzA3ODAjZm9udGVsbG8nKSBmb3JtYXQoJ3N2ZycpOwogIGZvbnQtd2VpZ2h0OiBub3JtYWw7CiAgZm9udC1zdHlsZTogbm9ybWFsOwp9Ci5pY29uIHsKICAvKiYuYm9va21hcms6YmVmb3JlIHsKICAgIGNvbnRlbnQ6IEBib29rbWFyawogIH0qLwogIC8qJi5ib29rbWFya3M6YmVmb3JlIHsKICAgIGNvbnRlbnQ6IEBib29rbWFya3MKICB9Ki8KfQouaWNvbi5hZGRyZXNzOmJlZm9yZSB7CiAgY29udGVudDogIlxlODQxIjsKfQouaWNvbi5hZGp1c3Q6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4NjciOwp9Ci5pY29uLmFpcjpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZThjZSI7Cn0KLmljb24uYWxlcnQ6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4M2YiOwp9Ci5pY29uLmFyY2hpdmU6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4NTEiOwp9Ci5pY29uLmFycm93LWNvbWJvOmJlZm9yZSB7CiAgY29udGVudDogIlxlODZlIjsKfQouaWNvbi5hcnJvd3MtY2N3OmJlZm9yZSB7CiAgY29udGVudDogIlxlODkxIjsKfQouaWNvbi5hdHRhY2g6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4MjMiOwp9Ci5pY29uLmF0dGVudGlvbjpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTgzZSI7Cn0KLmljb24uYmFjay1pbi10aW1lOmJlZm9yZSB7CiAgY29udGVudDogIlxlOGFhIjsKfQouaWNvbi5iYWNrOmJlZm9yZSB7CiAgY29udGVudDogIlxlODIwIjsKfQouaWNvbi5iYWc6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4NWEiOwp9Ci5pY29uLmJhc2tldDpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTg1OSI7Cn0KLmljb24uYmF0dGVyeTpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZThhOSI7Cn0KLmljb24uYmVsbDpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTgzZCI7Cn0KLmljb24uYmxvY2s6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4NjgiOwp9Ci5pY29uLmJvb2stb3BlbjpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTg0ZSI7Cn0KLmljb24uYm9vazpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTg0ZiI7Cn0KLmljb24uYm94OmJlZm9yZSB7CiAgY29udGVudDogIlxlODUyIjsKfQouaWNvbi5icmllZmNhc2U6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4YmIiOwp9Ci5pY29uLmJydXNoOmJlZm9yZSB7CiAgY29udGVudDogIlxlOGMwIjsKfQouaWNvbi5idWNrZXQ6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4ZDUiOwp9Ci5pY29uLmNhbGVuZGFyOmJlZm9yZSB7CiAgY29udGVudDogIlxlODViIjsKfQouaWNvbi5jYW1lcmE6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4MGYiOwp9Ci5pY29uLmNhbmNlbC1jaXJjbGVkOmJlZm9yZSB7CiAgY29udGVudDogIlxlODE0IjsKfQouaWNvbi5jYW5jZWwtc3F1YXJlZDpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTgxNSI7Cn0KLmljb24uY2FuY2VsOmJlZm9yZSB7CiAgY29udGVudDogIlxlODEzIjsKfQouaWNvbi5jY3c6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4OGYiOwp9Ci5pY29uLmNkOmJlZm9yZSB7CiAgY29udGVudDogIlxlOGFlIjsKfQouaWNvbi5jaGFydC1hcmVhOmJlZm9yZSB7CiAgY29udGVudDogIlxlOGM3IjsKfQouaWNvbi5jaGFydC1iYXI6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4YzYiOwp9Ci5pY29uLmNoYXJ0LWxpbmU6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4YzUiOwp9Ci5pY29uLmNoYXJ0LXBpZTpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZThjNCI7Cn0KLmljb24uY2hhdDpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTgzYyI7Cn0KLmljb24uY2hlY2s6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4MTIiOwp9Ci5pY29uLmNsaXBib2FyZDpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZThkMSI7Cn0KLmljb24uY2xvY2s6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4NjIiOwp9Ci5pY29uLmNsb3VkLXRodW5kZXI6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4YjMiOwp9Ci5pY29uLmNsb3VkOmJlZm9yZSB7CiAgY29udGVudDogIlxlOGIyIjsKfQouaWNvbi5jb2RlOmJlZm9yZSB7CiAgY29udGVudDogIlxlODM0IjsKfQouaWNvbi5jb2c6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4NTUiOwp9Ci5pY29uLmNvbW1lbnQ6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4M2IiOwp9Ci5pY29uLmNvbXBhc3M6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4NDUiOwp9Ci5pY29uLmNyZWRpdC1jYXJkOmJlZm9yZSB7CiAgY29udGVudDogIlxlOGNmIjsKfQouaWNvbi5jdXA6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4NDYiOwp9Ci5pY29uLmN3OmJlZm9yZSB7CiAgY29udGVudDogIlxlODkwIjsKfQouaWNvbi5kYXRhYmFzZTpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZThkMyI7Cn0KLmljb24uZGlyZWN0aW9uOmJlZm9yZSB7CiAgY29udGVudDogIlxlODQ0IjsKfQouaWNvbi5kb2MtbGFuZHNjYXBlOmJlZm9yZSB7CiAgY29udGVudDogIlxlODRhIjsKfQouaWNvbi5kb2MtdGV4dC1pbnY6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4NGMiOwp9Ci5pY29uLmRvYy10ZXh0OmJlZm9yZSB7CiAgY29udGVudDogIlxlODRiIjsKfQouaWNvbi5kb2M6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4NDgiOwp9Ci5pY29uLmRvY3M6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4NDkiOwp9Ci5pY29uLmRvdC0yOmJlZm9yZSB7CiAgY29udGVudDogIlxlOGJlIjsKfQouaWNvbi5kb3QtMzpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZThiZiI7Cn0KLmljb24uZG90OmJlZm9yZSB7CiAgY29udGVudDogIlxlOGJkIjsKfQouaWNvbi5kb3duLWJvbGQ6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4ODciOwp9Ci5pY29uLmRvd24tY2lyY2xlZDpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTg2ZiI7Cn0KLmljb24uZG93bi1kaXI6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4ODMiOwp9Ci5pY29uLmRvd24tb3Blbi1iaWc6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4N2IiOwp9Ci5pY29uLmRvd24tb3Blbi1taW5pOmJlZm9yZSB7CiAgY29udGVudDogIlxlODc3IjsKfQouaWNvbi5kb3duLW9wZW46YmVmb3JlIHsKICBjb250ZW50OiAiXGU4NzMiOwp9Ci5pY29uLmRvd24tdGhpbjpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTg4YiI7Cn0KLmljb24uZG93bjpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTg3ZiI7Cn0KLmljb24uZG93bmxvYWQ6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4MmQiOwp9Ci5pY29uLmRyaXZlOmJlZm9yZSB7CiAgY29udGVudDogIlxlOGQ0IjsKfQouaWNvbi5kcm9wbGV0OmJlZm9yZSB7CiAgY29udGVudDogIlxlOGNkIjsKfQouaWNvbi5lcmFzZTpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZThjMyI7Cn0KLmljb24uZXhwb3J0OmJlZm9yZSB7CiAgY29udGVudDogIlxlODM1IjsKfQouaWNvbi5leWU6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4MjYiOwp9Ci5pY29uLmZhc3QtYmFja3dhcmQ6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4OWUiOwp9Ci5pY29uLmZhc3QtZm9yd2FyZDpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTg5ZCI7Cn0KLmljb24uZmVhdGhlcjpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTgzNyI7Cn0KLmljb24uZmxhZzpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTgyYSI7Cn0KLmljb24uZmxhc2g6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4YjQiOwp9Ci5pY29uLmZsYXNobGlnaHQ6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4MDQiOwp9Ci5pY29uLmZsaWdodDpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZThiNiI7Cn0KLmljb24uZmxvcHB5OmJlZm9yZSB7CiAgY29udGVudDogIlxlOGQwIjsKfQouaWNvbi5mbG93LWJyYW5jaDpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZThkOSI7Cn0KLmljb24uZmxvdy1jYXNjYWRlOmJlZm9yZSB7CiAgY29udGVudDogIlxlOGQ4IjsKfQouaWNvbi5mbG93LWxpbmU6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4ZGIiOwp9Ci5pY29uLmZsb3ctdHJlZTpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZThkYSI7Cn0KLmljb24uZm9sZGVyOmJlZm9yZSB7CiAgY29udGVudDogIlxlODUwIjsKfQouaWNvbi5mb3J3YXJkOmJlZm9yZSB7CiAgY29udGVudDogIlxlODMyIjsKfQouaWNvbi5nbG9iZTpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZThiMSI7Cn0KLmljb24uZ3JhZHVhdGlvbi1jYXA6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4YzkiOwp9Ci5pY29uLmhlYXJ0LWVtcHR5OmJlZm9yZSB7CiAgY29udGVudDogIlxlODA3IjsKfQouaWNvbi5oZWFydDpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTgwNiI7Cn0KLmljb24uaGVscC1jaXJjbGVkOmJlZm9yZSB7CiAgY29udGVudDogIlxlODFkIjsKfQouaWNvbi5oZWxwOmJlZm9yZSB7CiAgY29udGVudDogIlxlODFjIjsKfQouaWNvbi5ob21lOmJlZm9yZSB7CiAgY29udGVudDogIlxlODIxIjsKfQouaWNvbi5ob3VyZ2xhc3M6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4NjMiOwp9Ci5pY29uLmluYm94OmJlZm9yZSB7CiAgY29udGVudDogIlxlOGFmIjsKfQouaWNvbi5pbmZpbml0eTpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZThjMiI7Cn0KLmljb24uaW5mby1jaXJjbGVkOmJlZm9yZSB7CiAgY29udGVudDogIlxlODFmIjsKfQouaWNvbi5pbmZvOmJlZm9yZSB7CiAgY29udGVudDogIlxlODFlIjsKfQouaWNvbi5pbnN0YWxsOmJlZm9yZSB7CiAgY29udGVudDogIlxlOGIwIjsKfQouaWNvbi5rZXk6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4ZDciOwp9Ci5pY29uLmtleWJvYXJkOmJlZm9yZSB7CiAgY29udGVudDogIlxlODNhIjsKfQouaWNvbi5sYW1wOmJlZm9yZSB7CiAgY29udGVudDogIlxlODY0IjsKfQouaWNvbi5sYW5ndWFnZTpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZThjYSI7Cn0KLmljb24ubGF5b3V0OmJlZm9yZSB7CiAgY29udGVudDogIlxlODEwIjsKfQouaWNvbi5sZWFmOmJlZm9yZSB7CiAgY29udGVudDogIlxlOGI4IjsKfQouaWNvbi5sZWZ0LWJvbGQ6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4ODgiOwp9Ci5pY29uLmxlZnQtY2lyY2xlZDpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTg3MCI7Cn0KLmljb24ubGVmdC1kaXI6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4ODQiOwp9Ci5pY29uLmxlZnQtb3Blbi1iaWc6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4N2MiOwp9Ci5pY29uLmxlZnQtb3Blbi1taW5pOmJlZm9yZSB7CiAgY29udGVudDogIlxlODc4IjsKfQouaWNvbi5sZWZ0LW9wZW46YmVmb3JlIHsKICBjb250ZW50OiAiXGU4NzQiOwp9Ci5pY29uLmxlZnQtdGhpbjpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTg4YyI7Cn0KLmljb24ubGVmdDpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTg4MCI7Cn0KLmljb24ubGV2ZWwtZG93bjpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTg5MiI7Cn0KLmljb24ubGV2ZWwtdXA6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4OTMiOwp9Ci5pY29uLmxpZmVidW95OmJlZm9yZSB7CiAgY29udGVudDogIlxlOGI5IjsKfQouaWNvbi5saWdodC1kb3duOmJlZm9yZSB7CiAgY29udGVudDogIlxlODY1IjsKfQouaWNvbi5saWdodC11cDpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTg2NiI7Cn0KLmljb24ubGluazpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTgyMiI7Cn0KLmljb24ubGlzdC1hZGQ6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4YTYiOwp9Ci5pY29uLmxpc3Q6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4YTUiOwp9Ci5pY29uLmxvY2F0aW9uOmJlZm9yZSB7CiAgY29udGVudDogIlxlODQyIjsKfQouaWNvbi5sb2NrLW9wZW46YmVmb3JlIHsKICBjb250ZW50OiAiXGU4MjUiOwp9Ci5pY29uLmxvY2s6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4MjQiOwp9Ci5pY29uLmxvZ2luOmJlZm9yZSB7CiAgY29udGVudDogIlxlODVjIjsKfQouaWNvbi5sb2dvdXQ6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4NWQiOwp9Ci5pY29uLmxvb3A6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4OTUiOwp9Ci5pY29uLm1hZ25ldDpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZThjMSI7Cn0KLmljb24ubWFpbDpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTgwNSI7Cn0KLmljb24ubWFwOmJlZm9yZSB7CiAgY29udGVudDogIlxlODQzIjsKfQouaWNvbi5tZWdhcGhvbmU6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4ZDIiOwp9Ci5pY29uLm1lbnU6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4MTEiOwp9Ci5pY29uLm1pYzpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTg1ZSI7Cn0KLmljb24ubWludXMtY2lyY2xlZDpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTgxYSI7Cn0KLmljb24ubWludXMtc3F1YXJlZDpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTgxYiI7Cn0KLmljb24ubWludXM6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4MTkiOwp9Ci5pY29uLm1vYmlsZTpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZThhYyI7Cn0KLmljb24ubW9uaXRvcjpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZThhYiI7Cn0KLmljb24ubW9vbjpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZThiNSI7Cn0KLmljb24ubW91c2U6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4YmEiOwp9Ci5pY29uLm11c2ljOmJlZm9yZSB7CiAgY29udGVudDogIlxlODAyIjsKfQouaWNvbi5tdXRlOmJlZm9yZSB7CiAgY29udGVudDogIlxlODVmIjsKfQouaWNvbi5uZXR3b3JrOmJlZm9yZSB7CiAgY29udGVudDogIlxlOGFkIjsKfQouaWNvbi5uZXdzcGFwZXI6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4NGQiOwp9Ci5pY29uLm5vdGUtYmVhbWVkOmJlZm9yZSB7CiAgY29udGVudDogIlxlODAxIjsKfQouaWNvbi5ub3RlOmJlZm9yZSB7CiAgY29udGVudDogIlxlODAwIjsKfQouaWNvbi5wYWxldHRlOmJlZm9yZSB7CiAgY29udGVudDogIlxlOGE0IjsKfQouaWNvbi5wYXBlci1wbGFuZTpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZThiNyI7Cn0KLmljb24ucGF1c2U6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4OTkiOwp9Ci5pY29uLnBlbmNpbDpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTgzNiI7Cn0KLmljb24ucGhvbmU6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4NTQiOwp9Ci5pY29uLnBpY3R1cmU6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4MGUiOwp9Ci5pY29uLnBsYXk6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4OTciOwp9Ci5pY29uLnBsdXMtY2lyY2xlZDpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTgxNyI7Cn0KLmljb24ucGx1cy1zcXVhcmVkOmJlZm9yZSB7CiAgY29udGVudDogIlxlODE4IjsKfQouaWNvbi5wbHVzOmJlZm9yZSB7CiAgY29udGVudDogIlxlODE2IjsKfQouaWNvbi5wb3B1cDpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTg2YiI7Cn0KLmljb24ucHJpbnQ6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4MzgiOwp9Ci5pY29uLnByb2dyZXNzLTA6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4OWYiOwp9Ci5pY29uLnByb2dyZXNzLTE6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4YTAiOwp9Ci5pY29uLnByb2dyZXNzLTI6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4YTEiOwp9Ci5pY29uLnByb2dyZXNzLTM6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4YTIiOwp9Ci5pY29uLnB1Ymxpc2g6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4NmMiOwp9Ci5pY29uLnF1b3RlOmJlZm9yZSB7CiAgY29udGVudDogIlxlODMzIjsKfQouaWNvbi5yZWNvcmQ6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4OWEiOwp9Ci5pY29uLnJlcGx5LWFsbDpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTgzMSI7Cn0KLmljb24ucmVwbHk6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4MzAiOwp9Ci5pY29uLnJlc2l6ZS1mdWxsOmJlZm9yZSB7CiAgY29udGVudDogIlxlODY5IjsKfQouaWNvbi5yZXNpemUtc21hbGw6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4NmEiOwp9Ci5pY29uLnJldHdlZXQ6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4MzkiOwp9Ci5pY29uLnJpZ2h0LWJvbGQ6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4ODkiOwp9Ci5pY29uLnJpZ2h0LWNpcmNsZWQ6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4NzEiOwp9Ci5pY29uLnJpZ2h0LWRpcjpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTg4NSI7Cn0KLmljb24ucmlnaHQtb3Blbi1iaWc6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4N2QiOwp9Ci5pY29uLnJpZ2h0LW9wZW4tbWluaTpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTg3OSI7Cn0KLmljb24ucmlnaHQtb3BlbjpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTg3NSI7Cn0KLmljb24ucmlnaHQtdGhpbjpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTg4ZCI7Cn0KLmljb24ucmlnaHQ6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4ODEiOwp9Ci5pY29uLnJzczpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTg1MyI7Cn0KLmljb24uc2VhcmNoOmJlZm9yZSB7CiAgY29udGVudDogIlxlODAzIjsKfQouaWNvbi5zaGFyZTpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTg1NyI7Cn0KLmljb24uc2hhcmVhYmxlOmJlZm9yZSB7CiAgY29udGVudDogIlxlODU4IjsKfQouaWNvbi5zaHVmZmxlOmJlZm9yZSB7CiAgY29udGVudDogIlxlODk0IjsKfQouaWNvbi5zaWduYWw6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4YTciOwp9Ci5pY29uLnNvdW5kOmJlZm9yZSB7CiAgY29udGVudDogIlxlODYwIjsKfQouaWNvbi5zdGFyLWVtcHR5OmJlZm9yZSB7CiAgY29udGVudDogIlxlODA5IjsKfQouaWNvbi5zdGFyOmJlZm9yZSB7CiAgY29udGVudDogIlxlODA4IjsKfQouaWNvbi5zdG9wOmJlZm9yZSB7CiAgY29udGVudDogIlxlODk4IjsKfQouaWNvbi5zdWl0Y2FzZTpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZThiYyI7Cn0KLmljb24uc3dpdGNoOmJlZm9yZSB7CiAgY29udGVudDogIlxlODk2IjsKfQouaWNvbi50YWc6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4MjciOwp9Ci5pY29uLnRhcGU6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4YzgiOwp9Ci5pY29uLnRhcmdldDpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZThhMyI7Cn0KLmljb24udGhlcm1vbWV0ZXI6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4ZDYiOwp9Ci5pY29uLnRodW1icy1kb3duOmJlZm9yZSB7CiAgY29udGVudDogIlxlODJjIjsKfQouaWNvbi50aHVtYnMtdXA6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4MmIiOwp9Ci5pY29uLnRpY2tldDpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZThjYiI7Cn0KLmljb24udG8tZW5kOmJlZm9yZSB7CiAgY29udGVudDogIlxlODliIjsKfQouaWNvbi50by1zdGFydDpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTg5YyI7Cn0KLmljb24udG9vbHM6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4NTYiOwp9Ci5pY29uLnRyYXNoOmJlZm9yZSB7CiAgY29udGVudDogIlxlODQ3IjsKfQouaWNvbi50cm9waHk6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4YTgiOwp9Ci5pY29uLnVwLWJvbGQ6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4OGEiOwp9Ci5pY29uLnVwLWNpcmNsZWQ6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4NzIiOwp9Ci5pY29uLnVwLWRpcjpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTg4NiI7Cn0KLmljb24udXAtb3Blbi1iaWc6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4N2UiOwp9Ci5pY29uLnVwLW9wZW4tbWluaTpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTg3YSI7Cn0KLmljb24udXAtb3BlbjpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTg3NiI7Cn0KLmljb24udXAtdGhpbjpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTg4ZSI7Cn0KLmljb24udXA6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4ODIiOwp9Ci5pY29uLnVwbG9hZC1jbG91ZDpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTgyZiI7Cn0KLmljb24udXBsb2FkOmJlZm9yZSB7CiAgY29udGVudDogIlxlODJlIjsKfQouaWNvbi51c2VyLWFkZDpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTgwYyI7Cn0KLmljb24udXNlcjpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTgwYSI7Cn0KLmljb24udXNlcnM6YmVmb3JlIHsKICBjb250ZW50OiAiXGU4MGIiOwp9Ci5pY29uLnZjYXJkOmJlZm9yZSB7CiAgY29udGVudDogIlxlODQwIjsKfQouaWNvbi52aWRlbzpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZTgwZCI7Cn0KLmljb24udm9sdW1lOmJlZm9yZSB7CiAgY29udGVudDogIlxlODYxIjsKfQouaWNvbi53YXRlcjpiZWZvcmUgewogIGNvbnRlbnQ6ICJcZThjYyI7Cn0KLmljb24ud2luZG93OmJlZm9yZSB7CiAgY29udGVudDogIlxlODZkIjsKfQouaWNvbjpiZWZvcmUgewogIGZvbnQtZmFtaWx5OiBFbnR5cG87CiAgZm9udC1zaXplOiAzMHB4Owp9Ci5nbHlwaGljb24gewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICB0b3A6IDFweDsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgZm9udC1mYW1pbHk6ICJHbHlwaGljb25zIEhhbGZsaW5ncyI7CiAgZm9udC1zdHlsZTogbm9ybWFsOwogIGZvbnQtd2VpZ2h0OiBub3JtYWw7CiAgbGluZS1oZWlnaHQ6IDE7CiAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7CiAgLW1vei1vc3gtZm9udC1zbW9vdGhpbmc6IGdyYXlzY2FsZTsKfQouZ2x5cGhpY29uLXVzZXI6YmVmb3JlIHsKICBjb250ZW50OiAiXGUwMDgiOwp9Ci5nbHlwaGljb24tc2VhcmNoOmJlZm9yZSB7CiAgY29udGVudDogIlxlMDAzIjsKfQouZ2x5cGhpY29uLW1lbnUtaGFtYnVyZ2VyOmJlZm9yZSB7CiAgY29udGVudDogIlxlMjM2IjsKfQouZ2x5cGhpY29uLWJvb2ttYXJrOmJlZm9yZSB7CiAgY29udGVudDogIlxlMDQ0IjsKfQouZ2x5cGhpY29uLW9rOmJlZm9yZSB7CiAgY29udGVudDogIlxlMDEzIjsKfQoubm8tdHJhbnNpdGlvbiB7CiAgLW1vei10cmFuc2l0aW9uOiBub25lOwogIC13ZWJraXQtdHJhbnNpdGlvbjogbm9uZTsKICB0cmFuc2l0aW9uOiBub25lOwp9Ci5zdGlja3kgewogIHBvc2l0aW9uOiAtd2Via2l0LXN0aWNreTsKICBwb3NpdGlvbjogLW1vei1zdGlja3k7CiAgcG9zaXRpb246IC1tcy1zdGlja3k7CiAgcG9zaXRpb246IC1vLXN0aWNreTsKfQoudW5zZWxlY3RhYmxlIHsKICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7CiAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTsKICAta2h0bWwtdXNlci1zZWxlY3Q6IG5vbmU7CiAgLW1vei11c2VyLXNlbGVjdDogbm9uZTsKICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7CiAgdXNlci1zZWxlY3Q6IG5vbmU7CiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiByZ2JhKDAsIDAsIDAsIDApOwp9CkAtbXMta2V5ZnJhbWVzIHNwaW4gewogIGZyb20gewogICAgLW1zLXRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7CiAgfQogIHRvIHsKICAgIC1tcy10cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsKICB9Cn0KQC1tb3ota2V5ZnJhbWVzIHNwaW4gewogIGZyb20gewogICAgLW1vei10cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOwogIH0KICB0byB7CiAgICAtbW96LXRyYW5zZm9ybTogcm90YXRlKDBkZWcpOwogIH0KfQpALXdlYmtpdC1rZXlmcmFtZXMgc3BpbiB7CiAgZnJvbSB7CiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7CiAgfQogIHRvIHsKICAgIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7CiAgfQp9CkBrZXlmcmFtZXMgc3BpbiB7CiAgZnJvbSB7CiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOwogIH0KICB0byB7CiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsKICB9Cn0KLmh5cGhlbmF0ZSB7CiAgd29yZC13cmFwOiBicmVhay13b3JkOwogIC13ZWJraXQtaHlwaGVuczogYXV0bzsKICAtbW96LWh5cGhlbnM6IGF1dG87CiAgaHlwaGVuczogYXV0bzsKfQoucG9wdXAtbGlzdC1jb250ZW50LWl0ZW0gewogIHBhZGRpbmc6IDcuNXB4IDE1cHggMTVweCA1NXB4OwogIGJvcmRlci10b3A6IDA7CiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlNmU5ZWE7CiAgY3Vyc29yOiBwb2ludGVyOwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBtaW4taGVpZ2h0OiA1MXB4OwogIG92ZXJmbG93OiBoaWRkZW47Cn0KLnBvcHVwLWxpc3QtY29udGVudC1pdGVtOmxhc3QtY2hpbGQgewogIGJvcmRlci1ib3R0b206IDA7Cn0KLnBvcHVwLWxpc3QtY29udGVudC1pdGVtLm5vLWF1dGhvciB7CiAgcGFkZGluZy1sZWZ0OiA3cHg7Cn0KLnBvcHVwLWxpc3QtY29udGVudC1pdGVtLnVucmVhZCwKLnBvcHVwLWxpc3QtY29udGVudC1pdGVtOmhvdmVyLAoucG9wdXAtbGlzdC1jb250ZW50LWl0ZW0uc2VsZWN0ZWQgewogIGJhY2tncm91bmQtY29sb3I6ICNmOWY5Zjk7CiAgY29sb3I6ICMzMzM7Cn0KLnBvcHVwLWxpc3QtY29udGVudC1pdGVtLnVucmVhZCAuZGVzY3JpcHRpb24sCi5wb3B1cC1saXN0LWNvbnRlbnQtaXRlbTpob3ZlciAuZGVzY3JpcHRpb24sCi5wb3B1cC1saXN0LWNvbnRlbnQtaXRlbS5zZWxlY3RlZCAuZGVzY3JpcHRpb24sCi5wb3B1cC1saXN0LWNvbnRlbnQtaXRlbS51bnJlYWQgLnBvc3QtZGF0ZSwKLnBvcHVwLWxpc3QtY29udGVudC1pdGVtOmhvdmVyIC5wb3N0LWRhdGUsCi5wb3B1cC1saXN0LWNvbnRlbnQtaXRlbS5zZWxlY3RlZCAucG9zdC1kYXRlLAoucG9wdXAtbGlzdC1jb250ZW50LWl0ZW0udW5yZWFkIC5wb3N0LWxpa2UsCi5wb3B1cC1saXN0LWNvbnRlbnQtaXRlbTpob3ZlciAucG9zdC1saWtlLAoucG9wdXAtbGlzdC1jb250ZW50LWl0ZW0uc2VsZWN0ZWQgLnBvc3QtbGlrZSB7CiAgY29sb3I6IHJnYmEoNTEsIDUxLCA1MSwgMC41KTsKfQoucG9wdXAtbGlzdC1jb250ZW50LWl0ZW0udW5yZWFkIGEsCi5wb3B1cC1saXN0LWNvbnRlbnQtaXRlbTpob3ZlciBhLAoucG9wdXAtbGlzdC1jb250ZW50LWl0ZW0uc2VsZWN0ZWQgYSB7CiAgY29sb3I6ICMwMTZhOWMgIWltcG9ydGFudDsKfQoucG9wdXAtbGlzdC1jb250ZW50LWl0ZW06aG92ZXIgewogIGJhY2tncm91bmQtY29sb3I6ICNlZWU7Cn0KLnBvcHVwLWxpc3QtY29udGVudC1pdGVtIC51c2VyLW5hbWUgewogIGRpc3BsYXk6IG5vbmU7Cn0KLnBvcHVwLWxpc3QtY29udGVudC1pdGVtIC5hdmF0YXIgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDVweDsKICBsZWZ0OiA1cHg7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDUwMHB4OwogIC1tb3otYm9yZGVyLXJhZGl1czogNTAwcHg7CiAgYm9yZGVyLXJhZGl1czogNTAwcHg7Cn0KLnBvcHVwLWxpc3QtY29udGVudC1pdGVtIC5hdmF0YXIgaW1nIHsKICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDUwMHB4OwogIC1tb3otYm9yZGVyLXJhZGl1czogNTAwcHg7CiAgYm9yZGVyLXJhZGl1czogNTAwcHg7Cn0KLnBvcHVwLWxpc3QtY29udGVudC1pdGVtIC5kZXNjcmlwdGlvbiwKLnBvcHVwLWxpc3QtY29udGVudC1pdGVtIC5wb3N0LWRhdGUsCi5wb3B1cC1saXN0LWNvbnRlbnQtaXRlbSAucG9zdC1saWtlIHsKICBwYWRkaW5nOiAwOwogIG1hcmdpbjogMCAxMHB4IDAgMDsKICBmbG9hdDogbGVmdDsKICBsaW5lLWhlaWdodDogMS4zZW07CiAgZm9udC1zaXplOiAxNHB4OwogIGNvbG9yOiAjYmRjM2M3Owp9Ci5oZWFkZXItZnJhZ21lbnRzIC5sYXlvdXQgLmxheW91dC1jb250ZW50IC5sYXlvdXQtcmVnaW9uLmhlYWRlciAubGF5b3V0LXJlZ2lvbi1pbm5lciB7CiAgbWFyZ2luLWxlZnQ6IGF1dG87CiAgbWFyZ2luLXJpZ2h0OiBhdXRvOwogIG1pbi13aWR0aDogNTcwcHg7CiAgbWF4LXdpZHRoOiAxMDYwcHg7CiAgcGFkZGluZy1sZWZ0OiAxMHB4OwogIHBhZGRpbmctcmlnaHQ6IDEwcHg7Cn0KLmJhbm5lci5zaXRlIHsKICB3aWR0aDogMTAwJTsKICBkaXNwbGF5OiB0YWJsZTsKICBwYWRkaW5nOiAwcHg7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKICBoZWlnaHQ6IDQ0cHg7Cn0KLmJhbm5lci5zaXRlIC5wb3B1cC1saXN0LWNvdW50IHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOiAwcHg7CiAgbGVmdDogLTJweDsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjE1OTIyOwogIGNvbG9yOiAjZmZmICFpbXBvcnRhbnQ7CiAgZm9udC1mYW1pbHk6ICdUcmVidWNoZXQgTVMnLCAnSGVsdmV0aWNhJywgQXJpYWwsIHNhbnMtc2VyaWY7CiAgZm9udC1zaXplOiAxMS4ycHg7CiAgZGlzcGxheTogYmxvY2s7CiAgd2lkdGg6IDE2cHg7CiAgaGVpZ2h0OiAxNnB4OwogIGxpbmUtaGVpZ2h0OiAxNnB4OwogIHRleHQtYWxpZ246IGNlbnRlcjsKICB6LWluZGV4OiAxMDA7CiAgLXdlYmtpdC10ZXh0LXN0cm9rZS13aWR0aDogMHB4ICFpbXBvcnRhbnQ7CiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA1MDBweDsKICAtbW96LWJvcmRlci1yYWRpdXM6IDUwMHB4OwogIGJvcmRlci1yYWRpdXM6IDUwMHB4Owp9Ci5iYW5uZXIuc2l0ZSAuYXZhdGFyIHsKICBkaXNwbGF5OiB0YWJsZS1jZWxsOwogIHdpZHRoOiAxMjVweDsKICBtYXJnaW46IDAgMCAwIDA7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKICBib3JkZXItc3BhY2luZzogMHB4OwogIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgcGFkZGluZy1sZWZ0OiAwOwp9Ci5iYW5uZXIuc2l0ZSAuYXZhdGFyIGEgewogIGRpc3BsYXk6IGJsb2NrOwp9Ci5iYW5uZXIuc2l0ZSBmaWVsZHNldCB7CiAgZGlzcGxheTogdGFibGUtY2VsbDsKICBwYWRkaW5nLWxlZnQ6IDM1cHg7Cn0KLmJhbm5lci5zaXRlIGZpZWxkc2V0IHVsIHsKICBkaXNwbGF5OiBibG9jazsKICB3aWR0aDogMTAwJTsKfQouYmFubmVyLnNpdGUgZmllbGRzZXQgdWwgbGkgewogIGRpc3BsYXk6IGJsb2NrOwogIHdpZHRoOiAxMDAlOwogIG1hcmdpbjogOC41cHggMHB4IDBweCAwcHg7Cn0KLmJhbm5lci5zaXRlIGZpZWxkc2V0IHVsIGxpIGxhYmVsIHsKICBkaXNwbGF5OiBub25lOwp9Ci5iYW5uZXIuc2l0ZSBmaWVsZHNldCB1bCBsaSAuZmllbGQtaXRlbS1pbnB1dCB7CiAgZGlzcGxheTogYmxvY2s7CiAgd2lkdGg6IDEwMCU7CiAgbWFyZ2luOiA1cHggNXB4IDBweCA1cHg7CiAgcG9zaXRpb246IHJlbGF0aXZlOwp9Ci5iYW5uZXIuc2l0ZSBmaWVsZHNldCB1bCBsaSAuZmllbGQtaXRlbS1pbnB1dCBpbnB1dCB7CiAgd2lkdGg6IDEwMCU7CiAgYm9yZGVyOiAxcHggc29saWQgI2Q5ZDlkOTsKICBoZWlnaHQ6IDMycHg7CiAgcGFkZGluZzogMCAwIDAgNjBweDsKICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDBweDsKICAtbW96LWJvcmRlci1yYWRpdXM6IDBweDsKICBib3JkZXItcmFkaXVzOiAwcHg7CiAgLXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgMzAwbXM7CiAgLW1vei10cmFuc2l0aW9uOiBhbGwgMzAwbXM7CiAgdHJhbnNpdGlvbjogYWxsIDMwMG1zOwp9Ci5iYW5uZXIuc2l0ZSBmaWVsZHNldCB1bCBsaSAuZmllbGQtaXRlbS1pbnB1dCBpbnB1dDpob3ZlciwKLmJhbm5lci5zaXRlIGZpZWxkc2V0IHVsIGxpIC5maWVsZC1pdGVtLWlucHV0IGlucHV0OmZvY3VzIHsKICBib3JkZXItY29sb3I6ICMwMTZhOWM7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKfQouYmFubmVyLnNpdGUgZmllbGRzZXQgdWwgbGkgLmZpZWxkLWl0ZW0taW5wdXQgaW5wdXQuYWN0aXZlIHsKICBib3JkZXItY29sb3I6ICMwMTZhOWM7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKfQouYmFubmVyLnNpdGUgZmllbGRzZXQgdWwgbGkgLmZpZWxkLWl0ZW0taW5wdXQ6YWZ0ZXIgewogIGZvbnQtc2l6ZTogMjBweDsKICBoZWlnaHQ6IDIwcHg7CiAgd2lkdGg6IDIwcHg7CiAgZGlzcGxheTogYmxvY2s7CiAgZm9udC1mYW1pbHk6IEVudHlwbzsKICBjb250ZW50OiAiXGU4MDMiOwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBjb2xvcjogI2JkYzNjNzsKICB0b3A6IDdweDsKICBsZWZ0OiAxNXB4Owp9Ci5iYW5uZXIuc2l0ZSAubmF2aWdhdGlvbi1saXN0IHsKICBkaXNwbGF5OiB0YWJsZS1jZWxsOwogIHdpZHRoOiAyMCU7CiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKfQouYmFubmVyLnNpdGUgLm5hdmlnYXRpb24tbGlzdCAubmF2aWdhdGlvbi1saXN0LWl0ZW0gPiBzcGFuIHsKICBkaXNwbGF5OiBibG9jazsKICBmbG9hdDogcmlnaHQ7CiAgcG9zaXRpb246IHJlbGF0aXZlOwp9Ci5iYW5uZXIuc2l0ZSAubmF2aWdhdGlvbi1saXN0IHVsIHsKICB3aWR0aDogMTE1cHg7CiAgZmxvYXQ6IHJpZ2h0OwogIG92ZXJmbG93OiBoaWRkZW47Cn0KLmJhbm5lci5zaXRlIC5uYXZpZ2F0aW9uLWxpc3QgdWwgYSB7CiAgbWFyZ2luLXJpZ2h0OiA0cHg7CiAgZmxvYXQ6IHJpZ2h0OwogIGNvbG9yOiAjYmZiZmJmOwp9Ci5iYW5uZXIuc2l0ZSAubmF2aWdhdGlvbi1saXN0IHVsIGEuYWN0aXZlIHsKICBjb2xvcjogIzAxNmE5YzsKfQouYmFubmVyLnNpdGUgLm5hdmlnYXRpb24tbGlzdCB1bCAubm90aWZpY2F0aW9ucyB7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIHdpZHRoOiAyMHB4OwogIGhlaWdodDogMjBweDsKICB0ZXh0LWluZGVudDogMjAwJTsKICB3aGl0ZS1zcGFjZTogbm93cmFwOwogIG92ZXJmbG93OiBoaWRkZW47CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHRvcDogMXB4OwogICp6b29tOiBleHByZXNzaW9uKCB0aGlzLnJ1bnRpbWVTdHlsZVsnem9vbSddID0gJzEnLCAodGhpcy5jaGlsZE5vZGVzLmxlbmd0aCA+IDAgPyB0aGlzLmluc2VydEJlZm9yZShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyksdGhpcy5jaGlsZE5vZGVzWzBdKS5jbGFzc05hbWU9J2llN19iZWZvcmUnIDogdGhpcy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJykpLmNsYXNzTmFtZT0naWU3X2JlZm9yZScpKTsKfQouYmFubmVyLnNpdGUgLm5hdmlnYXRpb24tbGlzdCB1bCAubm90aWZpY2F0aW9uczpiZWZvcmUsCi5iYW5uZXIuc2l0ZSAubmF2aWdhdGlvbi1saXN0IHVsIC5ub3RpZmljYXRpb25zIC5pZTdfYmVmb3JlIHsKICB0ZXh0LWluZGVudDogMDsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIHdpZHRoOiAyMHB4OwogIGhlaWdodDogMjBweDsKICB0b3A6IDA7CiAgbGVmdDogMDsKICBkaXNwbGF5OiBibG9jazsKICBjb250ZW50OiAiXGU4YjQiOwogIGZvbnQtZmFtaWx5OiBFbnR5cG87CiAgZm9udC1zaXplOiAyMHB4OwogIGxpbmUtaGVpZ2h0OiAyMHB4OwogICp6b29tOiBleHByZXNzaW9uKCB0aGlzLnJ1bnRpbWVTdHlsZVsnem9vbSddID0gJzEnLCB0aGlzLmlubmVySFRNTCA9ICdcZThiNCcpOwp9Ci5iYW5uZXIuc2l0ZSAubmF2aWdhdGlvbi1saXN0IHVsIC5jb252ZXJzYXRpb25zIHsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgd2lkdGg6IDIwcHg7CiAgaGVpZ2h0OiAyMHB4OwogIHRleHQtaW5kZW50OiAyMDAlOwogIHdoaXRlLXNwYWNlOiBub3dyYXA7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgdG9wOiAxcHg7CiAgKnpvb206IGV4cHJlc3Npb24oIHRoaXMucnVudGltZVN0eWxlWyd6b29tJ10gPSAnMScsICh0aGlzLmNoaWxkTm9kZXMubGVuZ3RoID4gMCA/IHRoaXMuaW5zZXJ0QmVmb3JlKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKSx0aGlzLmNoaWxkTm9kZXNbMF0pLmNsYXNzTmFtZT0naWU3X2JlZm9yZScgOiB0aGlzLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKSkuY2xhc3NOYW1lPSdpZTdfYmVmb3JlJykpOwp9Ci5iYW5uZXIuc2l0ZSAubmF2aWdhdGlvbi1saXN0IHVsIC5jb252ZXJzYXRpb25zOmJlZm9yZSwKLmJhbm5lci5zaXRlIC5uYXZpZ2F0aW9uLWxpc3QgdWwgLmNvbnZlcnNhdGlvbnMgLmllN19iZWZvcmUgewogIHRleHQtaW5kZW50OiAwOwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgd2lkdGg6IDIwcHg7CiAgaGVpZ2h0OiAyMHB4OwogIHRvcDogMDsKICBsZWZ0OiAwOwogIGRpc3BsYXk6IGJsb2NrOwogIGNvbnRlbnQ6ICJcZTgzYiI7CiAgZm9udC1mYW1pbHk6IEVudHlwbzsKICBmb250LXNpemU6IDIwcHg7CiAgbGluZS1oZWlnaHQ6IDIwcHg7CiAgKnpvb206IGV4cHJlc3Npb24oIHRoaXMucnVudGltZVN0eWxlWyd6b29tJ10gPSAnMScsIHRoaXMuaW5uZXJIVE1MID0gJ1xlODNiJyk7Cn0KLmJhbm5lci5zaXRlIC5uYXZpZ2F0aW9uLWxpc3QgdWwgLmJvb2ttYXJrcyB7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIHdpZHRoOiAyMHB4OwogIGhlaWdodDogMjBweDsKICB0ZXh0LWluZGVudDogMjAwJTsKICB3aGl0ZS1zcGFjZTogbm93cmFwOwogIG92ZXJmbG93OiBoaWRkZW47CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHRvcDogMXB4OwogICp6b29tOiBleHByZXNzaW9uKCB0aGlzLnJ1bnRpbWVTdHlsZVsnem9vbSddID0gJzEnLCAodGhpcy5jaGlsZE5vZGVzLmxlbmd0aCA+IDAgPyB0aGlzLmluc2VydEJlZm9yZShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyksdGhpcy5jaGlsZE5vZGVzWzBdKS5jbGFzc05hbWU9J2llN19iZWZvcmUnIDogdGhpcy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJykpLmNsYXNzTmFtZT0naWU3X2JlZm9yZScpKTsKfQouYmFubmVyLnNpdGUgLm5hdmlnYXRpb24tbGlzdCB1bCAuYm9va21hcmtzOmJlZm9yZSwKLmJhbm5lci5zaXRlIC5uYXZpZ2F0aW9uLWxpc3QgdWwgLmJvb2ttYXJrcyAuaWU3X2JlZm9yZSB7CiAgdGV4dC1pbmRlbnQ6IDA7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRleHQtYWxpZ246IGNlbnRlcjsKICB3aWR0aDogMjBweDsKICBoZWlnaHQ6IDIwcHg7CiAgdG9wOiAwOwogIGxlZnQ6IDA7CiAgZGlzcGxheTogYmxvY2s7CiAgY29udGVudDogIlxlODI4IjsKICBmb250LWZhbWlseTogRW50eXBvOwogIGZvbnQtc2l6ZTogMjBweDsKICBsaW5lLWhlaWdodDogMjBweDsKICAqem9vbTogZXhwcmVzc2lvbiggdGhpcy5ydW50aW1lU3R5bGVbJ3pvb20nXSA9ICcxJywgdGhpcy5pbm5lckhUTUwgPSAnXGU4MjgnKTsKfQouYmFubmVyLnNpdGUgLm5hdmlnYXRpb24tbGlzdCB1bCAuYm9va21hcmtzLmJvb2ttYXJrZWQgewogIGNvbG9yOiAjZjE1OTIyICFpbXBvcnRhbnQ7Cn0KLmJhbm5lci5zaXRlIC5uYXZpZ2F0aW9uLWxpc3QgdWwgLnVzZXIgewogIG92ZXJmbG93OiBoaWRkZW47CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHRvcDogMXB4Owp9Ci5iYW5uZXIuc2l0ZSAubmF2aWdhdGlvbi1saXN0IHVsIC51c2VyLndpdGgtaWNvbiB7CiAgdG9wOiAwcHg7CiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAwcHg7CiAgLW1vei1ib3JkZXItcmFkaXVzOiAwcHg7CiAgYm9yZGVyLXJhZGl1czogMHB4OwogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICB3aWR0aDogMjBweDsKICBoZWlnaHQ6IDIwcHg7CiAgdGV4dC1pbmRlbnQ6IDIwMCU7CiAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICBvdmVyZmxvdzogaGlkZGVuOwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICB0b3A6IDFweDsKICAqem9vbTogZXhwcmVzc2lvbiggdGhpcy5ydW50aW1lU3R5bGVbJ3pvb20nXSA9ICcxJywgKHRoaXMuY2hpbGROb2Rlcy5sZW5ndGggPiAwID8gdGhpcy5pbnNlcnRCZWZvcmUoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpLHRoaXMuY2hpbGROb2Rlc1swXSkuY2xhc3NOYW1lPSdpZTdfYmVmb3JlJyA6IHRoaXMuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpKS5jbGFzc05hbWU9J2llN19iZWZvcmUnKSk7Cn0KLmJhbm5lci5zaXRlIC5uYXZpZ2F0aW9uLWxpc3QgdWwgLnVzZXIud2l0aC1pY29uOmJlZm9yZSwKLmJhbm5lci5zaXRlIC5uYXZpZ2F0aW9uLWxpc3QgdWwgLnVzZXIud2l0aC1pY29uIC5pZTdfYmVmb3JlIHsKICB0ZXh0LWluZGVudDogMDsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIHdpZHRoOiAyMHB4OwogIGhlaWdodDogMjBweDsKICB0b3A6IDA7CiAgbGVmdDogMDsKICBkaXNwbGF5OiBibG9jazsKICBjb250ZW50OiAiXGU4MGEiOwogIGZvbnQtZmFtaWx5OiBFbnR5cG87CiAgZm9udC1zaXplOiAyMHB4OwogIGxpbmUtaGVpZ2h0OiAyMHB4OwogICp6b29tOiBleHByZXNzaW9uKCB0aGlzLnJ1bnRpbWVTdHlsZVsnem9vbSddID0gJzEnLCB0aGlzLmlubmVySFRNTCA9ICdcZTgwYScpOwp9Ci5iYW5uZXIuc2l0ZSAubmF2aWdhdGlvbi1saXN0IHVsIC51c2VyIGltZyB7CiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA1MDBweDsKICAtbW96LWJvcmRlci1yYWRpdXM6IDUwMHB4OwogIGJvcmRlci1yYWRpdXM6IDUwMHB4Owp9Ci5iYW5uZXIuc2l0ZSAubmF2aWdhdGlvbi1saXN0IHVsIC5ub3RpZmljYXRpb25zLAouYmFubmVyLnNpdGUgLm5hdmlnYXRpb24tbGlzdCB1bCAuY29udmVyc2F0aW9ucywKLmJhbm5lci5zaXRlIC5uYXZpZ2F0aW9uLWxpc3QgdWwgLmJvb2ttYXJrcywKLmJhbm5lci5zaXRlIC5uYXZpZ2F0aW9uLWxpc3QgdWwgLnVzZXIgewogIG1hcmdpbjogNHB4IDRweCA0cHggNHB4Owp9Ci5iYW5uZXIuc2l0ZSAubmF2aWdhdGlvbi1saXN0LnNpdGUtbGlua3MgewogIHdpZHRoOiAzNXB4Owp9Ci5iYW5uZXIuc2l0ZSAubmF2aWdhdGlvbi1saXN0LnNpdGUtbGlua3MgdWwgewogIHdpZHRoOiAzNXB4Owp9Ci5iYW5uZXIuc2l0ZSAubmF2aWdhdGlvbi1saXN0LnNpdGUtbGlua3MgdWwgLnNpdGUtbmF2aWdhdGlvbiB7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIHdpZHRoOiAzM3B4OwogIGhlaWdodDogMzNweDsKICB0ZXh0LWluZGVudDogMjAwJTsKICB3aGl0ZS1zcGFjZTogbm93cmFwOwogIG92ZXJmbG93OiBoaWRkZW47CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHRvcDogMXB4OwogICp6b29tOiBleHByZXNzaW9uKCB0aGlzLnJ1bnRpbWVTdHlsZVsnem9vbSddID0gJzEnLCAodGhpcy5jaGlsZE5vZGVzLmxlbmd0aCA+IDAgPyB0aGlzLmluc2VydEJlZm9yZShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyksdGhpcy5jaGlsZE5vZGVzWzBdKS5jbGFzc05hbWU9J2llN19iZWZvcmUnIDogdGhpcy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJykpLmNsYXNzTmFtZT0naWU3X2JlZm9yZScpKTsKICBmbG9hdDogcmlnaHQ7CiAgdG9wOiAwcHg7CiAgbWFyZ2luLXJpZ2h0OiAwcHg7CiAgbWFyZ2luLWxlZnQ6IDEwcHg7Cn0KLmJhbm5lci5zaXRlIC5uYXZpZ2F0aW9uLWxpc3Quc2l0ZS1saW5rcyB1bCAuc2l0ZS1uYXZpZ2F0aW9uOmJlZm9yZSwKLmJhbm5lci5zaXRlIC5uYXZpZ2F0aW9uLWxpc3Quc2l0ZS1saW5rcyB1bCAuc2l0ZS1uYXZpZ2F0aW9uIC5pZTdfYmVmb3JlIHsKICB0ZXh0LWluZGVudDogMDsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIHdpZHRoOiAzM3B4OwogIGhlaWdodDogMzNweDsKICB0b3A6IDA7CiAgbGVmdDogMDsKICBkaXNwbGF5OiBibG9jazsKICBjb250ZW50OiAiXGU4MTEiOwogIGZvbnQtZmFtaWx5OiBFbnR5cG87CiAgZm9udC1zaXplOiAzM3B4OwogIGxpbmUtaGVpZ2h0OiAzM3B4OwogICp6b29tOiBleHByZXNzaW9uKCB0aGlzLnJ1bnRpbWVTdHlsZVsnem9vbSddID0gJzEnLCB0aGlzLmlubmVySFRNTCA9ICdcZTgxMScpOwp9Ci5iYW5uZXIuc2l0ZSAuaGFuZGhlbGQgewogIGRpc3BsYXk6IG5vbmU7Cn0KLmJhbm5lci5zaXRlLndpdGgtc2l0ZS1uYXZpZ2F0aW9uIC5hdmF0YXIgewogIHdpZHRoOiAxMjVweDsKfQouYmFubmVyLnNpdGUud2l0aC1zaXRlLW5hdmlnYXRpb24gZmllbGRzZXQgewogIHBhZGRpbmctbGVmdDogMHB4Owp9Ci5oZWFkZXItZnJhZ21lbnRzOmhvdmVyIC5iYW5uZXIuc2l0ZSAubmF2aWdhdGlvbi1saXN0IHVsIGEgewogIGNvbG9yOiAjMzMzOwp9Ci5oZWFkZXItZnJhZ21lbnRzOmhvdmVyIC5iYW5uZXIuc2l0ZSBmaWVsZHNldCB1bCBsaSAuZmllbGQtaXRlbS1pbnB1dCBpbnB1dCB7CiAgYm9yZGVyOiAxcHggc29saWQgI2IzYjNiMzsKfQouaGVhZGVyLWZyYWdtZW50czpob3ZlciAuYmFubmVyLnNpdGUgZmllbGRzZXQgdWwgbGkgLmZpZWxkLWl0ZW0taW5wdXQgaW5wdXQ6aG92ZXIsCi5oZWFkZXItZnJhZ21lbnRzOmhvdmVyIC5iYW5uZXIuc2l0ZSBmaWVsZHNldCB1bCBsaSAuZmllbGQtaXRlbS1pbnB1dCBpbnB1dDpmb2N1cywKLmhlYWRlci1mcmFnbWVudHM6aG92ZXIgLmJhbm5lci5zaXRlIGZpZWxkc2V0IHVsIGxpIC5maWVsZC1pdGVtLWlucHV0IGlucHV0LmFjdGl2ZSB7CiAgYm9yZGVyLWNvbG9yOiAjMDE2YTljOwp9Ci5wb3B1cC1saXN0LnNpdGUgewogIC8qIHJlYWQgbGlzdCBub3RpZmljYXRpb24gcHJlZmVyZW5jZSAqLwp9Ci5wb3B1cC1saXN0LnNpdGUgLmNvbnRlbnQtbGlzdCAuY29udGVudC1pdGVtIHsKICBwYWRkaW5nOiA3LjVweCAxNXB4IDE1cHggNTVweDsKICBib3JkZXItdG9wOiAwOwogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTZlOWVhOwogIGN1cnNvcjogcG9pbnRlcjsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgbWluLWhlaWdodDogNTFweDsKICBvdmVyZmxvdzogaGlkZGVuOwp9Ci5wb3B1cC1saXN0LnNpdGUgLmNvbnRlbnQtbGlzdCAuY29udGVudC1pdGVtOmxhc3QtY2hpbGQgewogIGJvcmRlci1ib3R0b206IDA7Cn0KLnBvcHVwLWxpc3Quc2l0ZSAuY29udGVudC1saXN0IC5jb250ZW50LWl0ZW0ubm8tYXV0aG9yIHsKICBwYWRkaW5nLWxlZnQ6IDdweDsKfQoucG9wdXAtbGlzdC5zaXRlIC5jb250ZW50LWxpc3QgLmNvbnRlbnQtaXRlbS51bnJlYWQsCi5wb3B1cC1saXN0LnNpdGUgLmNvbnRlbnQtbGlzdCAuY29udGVudC1pdGVtOmhvdmVyLAoucG9wdXAtbGlzdC5zaXRlIC5jb250ZW50LWxpc3QgLmNvbnRlbnQtaXRlbS5zZWxlY3RlZCB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjlmOTsKICBjb2xvcjogIzMzMzsKfQoucG9wdXAtbGlzdC5zaXRlIC5jb250ZW50LWxpc3QgLmNvbnRlbnQtaXRlbS51bnJlYWQgLmRlc2NyaXB0aW9uLAoucG9wdXAtbGlzdC5zaXRlIC5jb250ZW50LWxpc3QgLmNvbnRlbnQtaXRlbTpob3ZlciAuZGVzY3JpcHRpb24sCi5wb3B1cC1saXN0LnNpdGUgLmNvbnRlbnQtbGlzdCAuY29udGVudC1pdGVtLnNlbGVjdGVkIC5kZXNjcmlwdGlvbiwKLnBvcHVwLWxpc3Quc2l0ZSAuY29udGVudC1saXN0IC5jb250ZW50LWl0ZW0udW5yZWFkIC5wb3N0LWRhdGUsCi5wb3B1cC1saXN0LnNpdGUgLmNvbnRlbnQtbGlzdCAuY29udGVudC1pdGVtOmhvdmVyIC5wb3N0LWRhdGUsCi5wb3B1cC1saXN0LnNpdGUgLmNvbnRlbnQtbGlzdCAuY29udGVudC1pdGVtLnNlbGVjdGVkIC5wb3N0LWRhdGUsCi5wb3B1cC1saXN0LnNpdGUgLmNvbnRlbnQtbGlzdCAuY29udGVudC1pdGVtLnVucmVhZCAucG9zdC1saWtlLAoucG9wdXAtbGlzdC5zaXRlIC5jb250ZW50LWxpc3QgLmNvbnRlbnQtaXRlbTpob3ZlciAucG9zdC1saWtlLAoucG9wdXAtbGlzdC5zaXRlIC5jb250ZW50LWxpc3QgLmNvbnRlbnQtaXRlbS5zZWxlY3RlZCAucG9zdC1saWtlIHsKICBjb2xvcjogcmdiYSg1MSwgNTEsIDUxLCAwLjUpOwp9Ci5wb3B1cC1saXN0LnNpdGUgLmNvbnRlbnQtbGlzdCAuY29udGVudC1pdGVtLnVucmVhZCBhLAoucG9wdXAtbGlzdC5zaXRlIC5jb250ZW50LWxpc3QgLmNvbnRlbnQtaXRlbTpob3ZlciBhLAoucG9wdXAtbGlzdC5zaXRlIC5jb250ZW50LWxpc3QgLmNvbnRlbnQtaXRlbS5zZWxlY3RlZCBhIHsKICBjb2xvcjogIzAxNmE5YyAhaW1wb3J0YW50Owp9Ci5wb3B1cC1saXN0LnNpdGUgLmNvbnRlbnQtbGlzdCAuY29udGVudC1pdGVtOmhvdmVyIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlOwp9Ci5wb3B1cC1saXN0LnNpdGUgLmNvbnRlbnQtbGlzdCAuY29udGVudC1pdGVtIC51c2VyLW5hbWUgewogIGRpc3BsYXk6IG5vbmU7Cn0KLnBvcHVwLWxpc3Quc2l0ZSAuY29udGVudC1saXN0IC5jb250ZW50LWl0ZW0gLmF2YXRhciB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogNXB4OwogIGxlZnQ6IDVweDsKICBvdmVyZmxvdzogaGlkZGVuOwogIC13ZWJraXQtYm9yZGVyLXJhZGl1czogNTAwcHg7CiAgLW1vei1ib3JkZXItcmFkaXVzOiA1MDBweDsKICBib3JkZXItcmFkaXVzOiA1MDBweDsKfQoucG9wdXAtbGlzdC5zaXRlIC5jb250ZW50LWxpc3QgLmNvbnRlbnQtaXRlbSAuYXZhdGFyIGltZyB7CiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA1MDBweDsKICAtbW96LWJvcmRlci1yYWRpdXM6IDUwMHB4OwogIGJvcmRlci1yYWRpdXM6IDUwMHB4Owp9Ci5wb3B1cC1saXN0LnNpdGUgLmNvbnRlbnQtbGlzdCAuY29udGVudC1pdGVtIC5kZXNjcmlwdGlvbiwKLnBvcHVwLWxpc3Quc2l0ZSAuY29udGVudC1saXN0IC5jb250ZW50LWl0ZW0gLnBvc3QtZGF0ZSwKLnBvcHVwLWxpc3Quc2l0ZSAuY29udGVudC1saXN0IC5jb250ZW50LWl0ZW0gLnBvc3QtbGlrZSB7CiAgcGFkZGluZzogMDsKICBtYXJnaW46IDAgMTBweCAwIDA7CiAgZmxvYXQ6IGxlZnQ7CiAgbGluZS1oZWlnaHQ6IDEuM2VtOwogIGZvbnQtc2l6ZTogMTRweDsKICBjb2xvcjogI2JkYzNjNzsKfQoucG9wdXAtbGlzdC5zaXRlIC5jb250ZW50LWxpc3QgLmNvbnRlbnQtaXRlbSAuY29udGVudC1ncm91cCBhIHsKICBwYWRkaW5nOiAwcHg7CiAgbWFyZ2luOiAwcHggMTBweCAwcHggMHB4OwogIGZsb2F0OiBsZWZ0OwogIGxpbmUtaGVpZ2h0OiAxLjNlbTsKICBmb250LXNpemU6IC45ZW07Cn0KLnBvcHVwLWxpc3Quc2l0ZSAudXNlciB7CiAgbWluLWhlaWdodDogNjBweDsKICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U2ZTllYTsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgcGFkZGluZzogMzBweCAxNXB4IDE1cHggNjBweDsKfQoucG9wdXAtbGlzdC5zaXRlIC51c2VyIC5hdmF0YXIgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDE1cHg7CiAgbGVmdDogMTVweDsKICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDUwMHB4OwogIC1tb3otYm9yZGVyLXJhZGl1czogNTAwcHg7CiAgYm9yZGVyLXJhZGl1czogNTAwcHg7Cn0KLnBvcHVwLWxpc3Quc2l0ZSAudXNlciAuYXZhdGFyIGltZyB7CiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA1MDBweDsKICAtbW96LWJvcmRlci1yYWRpdXM6IDUwMHB4OwogIGJvcmRlci1yYWRpdXM6IDUwMHB4Owp9Ci5wb3B1cC1saXN0LnNpdGUgLnVzZXIgLnVzZXItbmFtZSB7CiAgZm9udC1zaXplOiAxNy42cHg7Cn0KLnBvcHVwLWxpc3Quc2l0ZSAudXNlciAub2F1dGgtcHJvdmlkZXIgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDA7CiAgbGVmdDogMDsKfQoucG9wdXAtbGlzdC5zaXRlIC5uYXZpZ2F0aW9uLWxpc3QudXNlciB7CiAgcGFkZGluZzogMTVweDsKfQoucG9wdXAtbGlzdC5zaXRlIC5ub3RpZmljYXRpb24tcHJlZmVyZW5jZSB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKICBjb2xvcjogIzMzMzsKfQoucG9wdXAtbGlzdC5zaXRlIC5ub3RpZmljYXRpb24tcHJlZmVyZW5jZTpob3ZlciB7CiAgY29sb3I6ICMzMzM7Cn0KLnBvcHVwLWxpc3Quc2l0ZSAubm90aWZpY2F0aW9uLXByZWZlcmVuY2UgLmRlc2NyaXB0aW9uIHsKICBmbG9hdDogbGVmdCAhaW1wb3J0YW50OwogIHdpZHRoOiA2MCUgIWltcG9ydGFudDsKICBwYWRkaW5nOiA2cHggOHB4IDhweCA4cHggIWltcG9ydGFudDsKICBjb2xvcjogIzMzMyAhaW1wb3J0YW50Owp9Ci5wb3B1cC1saXN0LnNpdGUgLm5vdGlmaWNhdGlvbi1wcmVmZXJlbmNlIC5idXR0b24gewogIGJhY2tncm91bmQtY29sb3I6ICMwMTZhOWM7CiAgY29sb3I6ICNmZmY7CiAgYm9yZGVyLXJhZGl1czogM3B4IDNweCAzcHggM3B4OwogIGRpc3BsYXk6IGJsb2NrOwogIGZsb2F0OiByaWdodDsKICBtYXJnaW46IDRweCA0cHggMDsKICBwYWRkaW5nOiAzcHg7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKICB3aWR0aDogNjBweDsKICBmb250LXNpemU6IC44ZW07Cn0KLnBvcHVwLWxpc3Quc2l0ZSAubm90aWZpY2F0aW9uLXByZWZlcmVuY2UgLmJ1dHRvbjpob3ZlciB7CiAgYmFja2dyb3VuZC1jb2xvcjogIzAxN2JiNTsKfQoucG9wdXAtbGlzdC5zaXRlIC5ub3RpZmljYXRpb24tcHJlZmVyZW5jZSAuYnV0dG9uLmNhbmNlbCB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2JkYzNjNzsKfQoucG9wdXAtbGlzdC5zaXRlIC5ub3RpZmljYXRpb24tcHJlZmVyZW5jZSAuYnV0dG9uLmNhbmNlbDpob3ZlciB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2NiZDBkMzsKfQoucG9wdXAtbGlzdC5zaXRlIC5tYXJrLAoucG9wdXAtbGlzdC5zaXRlIC5wcmVmZXJlbmNlIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOiAzcHg7CiAgcmlnaHQ6IDVweDsKICBkaXNwbGF5OiBub25lOwp9Ci5wb3B1cC1saXN0LnNpdGUgLm1hcmsgYSwKLnBvcHVwLWxpc3Quc2l0ZSAucHJlZmVyZW5jZSBhIHsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgd2lkdGg6IDE2cHg7CiAgaGVpZ2h0OiAxNnB4OwogIHRleHQtaW5kZW50OiAyMDAlOwogIHdoaXRlLXNwYWNlOiBub3dyYXA7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgdG9wOiAxcHg7CiAgKnpvb206IGV4cHJlc3Npb24oIHRoaXMucnVudGltZVN0eWxlWyd6b29tJ10gPSAnMScsICh0aGlzLmNoaWxkTm9kZXMubGVuZ3RoID4gMCA/IHRoaXMuaW5zZXJ0QmVmb3JlKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKSx0aGlzLmNoaWxkTm9kZXNbMF0pLmNsYXNzTmFtZT0naWU3X2JlZm9yZScgOiB0aGlzLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKSkuY2xhc3NOYW1lPSdpZTdfYmVmb3JlJykpOwp9Ci5wb3B1cC1saXN0LnNpdGUgLm1hcmsgYTpiZWZvcmUsCi5wb3B1cC1saXN0LnNpdGUgLnByZWZlcmVuY2UgYTpiZWZvcmUsCi5wb3B1cC1saXN0LnNpdGUgLm1hcmsgYSAuaWU3X2JlZm9yZSwKLnBvcHVwLWxpc3Quc2l0ZSAucHJlZmVyZW5jZSBhIC5pZTdfYmVmb3JlIHsKICB0ZXh0LWluZGVudDogMDsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIHdpZHRoOiAxNnB4OwogIGhlaWdodDogMTZweDsKICB0b3A6IDA7CiAgbGVmdDogMDsKICBkaXNwbGF5OiBibG9jazsKICBjb250ZW50OiAiXGU4MTUiOwogIGZvbnQtZmFtaWx5OiBFbnR5cG87CiAgZm9udC1zaXplOiAxNnB4OwogIGxpbmUtaGVpZ2h0OiAxNnB4OwogICp6b29tOiBleHByZXNzaW9uKCB0aGlzLnJ1bnRpbWVTdHlsZVsnem9vbSddID0gJzEnLCB0aGlzLmlubmVySFRNTCA9ICdcZTgxNScpOwp9Ci5wb3B1cC1saXN0LnNpdGUgLm1hcmsgewogIHRvcDogMjNweDsKfQoucG9wdXAtbGlzdC5zaXRlIC5tYXJrIGEgewogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICB3aWR0aDogMTZweDsKICBoZWlnaHQ6IDE2cHg7CiAgdGV4dC1pbmRlbnQ6IDIwMCU7CiAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICBvdmVyZmxvdzogaGlkZGVuOwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICB0b3A6IDFweDsKICAqem9vbTogZXhwcmVzc2lvbiggdGhpcy5ydW50aW1lU3R5bGVbJ3pvb20nXSA9ICcxJywgKHRoaXMuY2hpbGROb2Rlcy5sZW5ndGggPiAwID8gdGhpcy5pbnNlcnRCZWZvcmUoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpLHRoaXMuY2hpbGROb2Rlc1swXSkuY2xhc3NOYW1lPSdpZTdfYmVmb3JlJyA6IHRoaXMuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpKS5jbGFzc05hbWU9J2llN19iZWZvcmUnKSk7Cn0KLnBvcHVwLWxpc3Quc2l0ZSAubWFyayBhOmJlZm9yZSwKLnBvcHVwLWxpc3Quc2l0ZSAubWFyayBhIC5pZTdfYmVmb3JlIHsKICB0ZXh0LWluZGVudDogMDsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIHdpZHRoOiAxNnB4OwogIGhlaWdodDogMTZweDsKICB0b3A6IDA7CiAgbGVmdDogMDsKICBkaXNwbGF5OiBibG9jazsKICBjb250ZW50OiAiXGU4MTIiOwogIGZvbnQtZmFtaWx5OiBFbnR5cG87CiAgZm9udC1zaXplOiAxNnB4OwogIGxpbmUtaGVpZ2h0OiAxNnB4OwogICp6b29tOiBleHByZXNzaW9uKCB0aGlzLnJ1bnRpbWVTdHlsZVsnem9vbSddID0gJzEnLCB0aGlzLmlubmVySFRNTCA9ICdcZTgxMicpOwp9Ci5wb3B1cC1saXN0LnNpdGUgLmNvbnRlbnQtaXRlbTpob3ZlciAubWFyaywKLnBvcHVwLWxpc3Quc2l0ZSAuY29udGVudC1pdGVtOmhvdmVyIC5wcmVmZXJlbmNlIHsKICBkaXNwbGF5OiBibG9jazsKfQouY29udGVudC1mcmFnbWVudC5zaXRlLWJhbm5lciAuYmFubmVyLnNpdGUgLm5hdmlnYXRpb24tbGlzdCB1bCBhLnJlYWQtcXVldWUtY291bnQgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDBweDsKICByaWdodDogLTVweDsKICBjb2xvcjogI2ZmZjsKICBib3JkZXItcmFkaXVzOiAzcHg7CiAgZm9udC1zaXplOiAxMi4zMDc2OTIzMXB4OwogIHRleHQtYWxpZ246IGNlbnRlcjsKICBsaW5lLWhlaWdodDogMjIuNXB4OwogIGJhY2tncm91bmQtY29sb3I6ICNmMTU5MjI7CiAgd2lkdGg6IDI0cHg7CiAgaGVpZ2h0OiAyNHB4OwogIC13ZWJraXQtYm94LXNoYWRvdzogMXB4IDFweCAxcHggcmdiYSgwLCAwLCAwLCAwLjEpOwogIC1tb3otYm94LXNoYWRvdzogMXB4IDFweCAxcHggcmdiYSgwLCAwLCAwLCAwLjEpOwogIGJveC1zaGFkb3c6IDFweCAxcHggMXB4IHJnYmEoMCwgMCwgMCwgMC4xKTsKICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDUwMHB4OwogIC1tb3otYm9yZGVyLXJhZGl1czogNTAwcHg7CiAgYm9yZGVyLXJhZGl1czogNTAwcHg7Cn0KLyojIHNvdXJjZU1hcHBpbmdVUkw9YmFubmVyLXNpdGUuY3NzLm1hcCAqLw==</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQsIGdsb2JhbCwgdW5kZWYpIHsNCg0KCXZhciBvcGVuSGVhZGVyTGlzdENvbnRleHQgPSBudWxsOw0KCXZhciBhY3RpdmF0ZU1lc3NhZ2UgPSAndGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLnNpdGVCYW5uZXIuYWN0aXZhdGUnOw0KCXZhciBkZWFjdGl2YXRlTWVzc2FnZSA9ICd0ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMuc2l0ZUJhbm5lci5kZWFjdGl2YXRlJzsNCg0KCWZ1bmN0aW9uIHN1cHBvcnRzVG91Y2goKSB7DQoJCXJldHVybiAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3c7DQoJfQ0KDQoJdmFyIHV0aWwgPSB7DQoJCXRocm90dGxlOiBmdW5jdGlvbihmbiwgbGltaXQpIHsNCgkJCXZhciBsYXN0UmFuQXQsIHRpbWVvdXQ7DQoJCQlyZXR1cm4gZnVuY3Rpb24oKSB7DQoJCQkJdmFyIHNjb3BlID0gdGhpcywNCgkJCQkJYXR0ZW1wdEF0ID0gKG5ldyBEYXRlKCkuZ2V0VGltZSgpKSwNCgkJCQkJYXJncyA9IGFyZ3VtZW50czsNCgkJCQlpZihsYXN0UmFuQXQgJiYgKGxhc3RSYW5BdCArIChsaW1pdCB8fCA1MCkpID4gYXR0ZW1wdEF0KSB7DQoJCQkJCWdsb2JhbC5jbGVhclRpbWVvdXQodGltZW91dCk7DQoJCQkJCXRpbWVvdXQgPSBnbG9iYWwuc2V0VGltZW91dChmdW5jdGlvbigpew0KCQkJCQkJbGFzdFJhbkF0ID0gYXR0ZW1wdEF0Ow0KCQkJCQkJZm4uYXBwbHkoc2NvcGUsIGFyZ3MpOw0KCQkJCQl9LCAobGltaXQgfHwgNTApKTsNCgkJCQl9IGVsc2Ugew0KCQkJCQlsYXN0UmFuQXQgPSBhdHRlbXB0QXQ7DQoJCQkJCWZuLmFwcGx5KHNjb3BlLCBhcmdzKTsNCgkJCQl9DQoJCQl9Ow0KCQl9DQoJfQ0KDQoJLy8gVUkgd2hpY2ggY2FuIHJlbmRlciBlbmRsZXNzbHktc2Nyb2xsaW5nIGl0ZW1zIGluIGEgcG9wdXAuDQoJLy8gU3VwcG9ydHMgZGVmaW5pbmcgZmlsdGVycw0KCS8vIFVwZGF0aW5nIHNpdGUtd2lkZSBidWJibGUgY291bnRzDQoJdmFyIEhlYWRlckxpc3QgPSAoZnVuY3Rpb24oJCl7DQoJCS8vIHByaXZhdGUgc3RhdGljIG1lbWJlcnMgb2YgYSBIZWFkZXJMaXN0DQoJCXZhciB0aXRsZUNvdW50ID0gL15cKFswLTldK1wpXHMrLywNCgkJCXRvdGFsVGl0bGVDb3VudCA9IDAsIC8vIHRpdGxlIGJhciBjb3VudCB3aGljaCBtdWx0aXBsZSBpbnN0YW5jZXMgY2FuIGNvbnRyaWJ1dGUgdG8NCgkJCW1hc2ssDQoJCQlkZWZhdWx0cyA9IHsNCgkJCQlrZXk6ICcnLA0KCQkJCWFjdGl2YXRpb25MaW5rOiBudWxsLA0KCQkJCWFjdGl2YXRpb25JbnB1dDogbnVsbCwNCgkJCQlpbml0aWFsVW5yZWFkQ291bnQ6IDAsDQoJCQkJZm9vdGVyQ29udGVudDogbnVsbCwNCgkJCQlzaG93Q291bnQ6IHRydWUsDQoJCQkJZW5kbGVzc1Njcm9sbDogZmFsc2UsDQoJCQkJY3NzQ2xhc3M6ICcnLA0KCQkJCXRlbXBsYXRlOiAnJywNCgkJCQlsb2FkaW5nOiBmYWxzZSwNCgkJCQl0aXRsZUNvdW50OiBmYWxzZSwNCgkJCQl0aXRsZUNvdW50Q2xhc3M6ICcnLA0KCQkJCXByZXZpb3VzQ291bnQ6IDAsDQoJCQkJd3JhcHBlcjogbnVsbCwNCgkJCQl1bnJlYWRDb3VudE1lc3NhZ2VTaW5ndWxhcjogJ1lvdSBoYXZlIHswfSB1bnJlYWQgaXRlbScsDQoJCQkJdW5yZWFkQ291bnRNZXNzYWdlUGx1cmFsOiAnWW91IGhhdmUgezB9IHVucmVhZCBpdGVtcycsDQoJCQkJb25TaG93TG9hZGluZ0luZGljYXRvcjogZnVuY3Rpb24oKSB7IHJldHVybiB0cnVlOyB9LA0KCQkJCW9uTG9hZDogZnVuY3Rpb24ocGFnZUluZGV4LCBzaG91bGRSZWZyZXNoVW5yZWFkQ291bnQsIGZpbHRlciwgY29tcGxldGUpIHsNCgkJCQkJLy8gbG9hZCBtb3JlIGl0ZW1zDQoJCQkJCS8vIGZvciBlYWNoIGl0ZW0gbG9hZGVkLCBtYXJrcyBpdCBhcyByZWFkDQoJCQkJCS8vIGFmdGVyIGl0ZW1zIGxvYWRlZCBhbmQgbWFya3MgYXMgcmVhZCwgZ2V0cyBuZXcgdW5yZWFkIGNvdW50IGFuZCB1cGRhdGVzIHZpYSB1cGRhdGVVbnJlYWRDb3VudCB2aWEgcmVmcmVzaFVucmVhZENvdW50DQoJCQkJCS8vIGNvbXBsZXRlKGNvbnRlbnRUb1Nob3cpDQoJCQkJCWNvbXBsZXRlKCcnKTsNCgkJCQl9LA0KCQkJCW9uUmVmcmVzaFVucmVhZENvdW50OiBmdW5jdGlvbihjb21wbGV0ZSkgew0KCQkJCQkvLyBnZXQgbmV3IHVucmVhZCBjb3VudA0KCQkJCQkvLyB1cGRhdGUgaXQgdmlhIGNvbXBsZXRlKCkNCgkJCQkJY29tcGxldGUoNSk7DQoJCQkJfSwNCgkJCQlvbkJ1aWxkRmlsdGVyOiBudWxsLCAvLyBmdW5jdGlvbihmaWx0ZXJlZCkgew0KCQkJCQkvLyB3aGVuIGRlZmluZWQsIHJldHVybnMgYSBET00gbm9kZSB0byBiZSBpbnNlcnRlZCBhdCB0aGUgdG9wIHdoaWNoIHByZXNlbnRlcyBhIGZpbHRlcmluZyBVSQ0KCQkJCQkvLyBmaWx0ZXJlZChmaWx0ZXIpIGNhbiBiZSBjYWxsZWQgdG8gcmFpc2UgYSBmaWx0ZXINCgkJCQkvLyB9DQoJCQkJb25TaG93OiBmdW5jdGlvbihhY3RpdmF0b3IsIGNvbXBsZXRlKSB7IC8vIGRlZmVycmVkIGRpc3BsYXkgb3B0aW9ucw0KCQkJCQkvLyBjYWxscyBjb21wbGV0ZSB3aXRoIGRpc3BsYXkgb3B0aW9ucyB0byB1c2Ugd2hlbiBkaXNwbGF5aW5nDQoJCQkJCS8vIGNvbXBsZXRlKHsNCgkJCQkJCS8vd2lkdGg6IDI4MA0KCQkJCQkJLy9tYXhIZWlnaHQ6IDMwMA0KCQkJCQkJLy9hdHRhY2hUbzogYWN0aXZhdG9yDQoJCQkJCS8vfSkNCgkJCQkJY29tcGxldGUoe30pOw0KCQkJCX0sDQoJCQkJb25IaWRlOiBmdW5jdGlvbigpIHsNCg0KCQkJCX0sDQoJCQkJb25TZWxlY3Q6IGZ1bmN0aW9uKGl0ZW0pIHsNCgkJCQkJdmFyIHVybCA9ICQoaXRlbSkuZGF0YSgnY29udGVudHVybCcpOw0KCQkJCQlpZih1cmwpIHsNCgkJCQkJCXdpbmRvdy5sb2NhdGlvbiA9IHVybDsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0sDQoJCQlkZWZhdWx0U2hvd1NldHRpbmdzID0gew0KCQkJCWF0dGFjaFRvOiBudWxsLA0KCQkJCXdpZHRoOiAyODAsDQoJCQkJbWF4SGVpZ2h0OiAzMDAsDQoJCQkJY3NzQ2xhc3M6IG51bGwNCgkJCX07DQoNCgkJZnVuY3Rpb24gdXBkYXRlVGl0bGUoY29udGV4dCkgew0KCQkJaWYodG90YWxUaXRsZUNvdW50IDw9IDApIHsNCgkJCQljb250ZXh0LmhhbmRoZWxkQmFubmVyTGlua3NDb3VudC5oaWRlKCk7DQoJCQkJZG9jdW1lbnQudGl0bGUgPSBkb2N1bWVudC50aXRsZS5yZXBsYWNlKHRpdGxlQ291bnQsICcnKTsNCgkJCX0gZWxzZSB7DQoJCQkJY29udGV4dC5oYW5kaGVsZEJhbm5lckxpbmtzQ291bnQuaHRtbCh0b3RhbFRpdGxlQ291bnQpLnNob3coKTsNCgkJCQlkb2N1bWVudC50aXRsZSA9ICcoJyArIHRvdGFsVGl0bGVDb3VudCArICcpICcgKyBkb2N1bWVudC50aXRsZS5yZXBsYWNlKHRpdGxlQ291bnQsICcnKTsNCgkJCX0NCgkJfQ0KDQoJCWZ1bmN0aW9uIGJsb2NrV2luZG93U2Nyb2xsaW5nKGNvbnRleHQpIHsNCgkJCWlmKCQoJ2JvZHknKS5oYXNDbGFzcygnc3RvcC1zY3JvbGxpbmcnKSkNCgkJCQlyZXR1cm47DQoNCgkJCS8vIGJsb2NrIHdpbmRvdyBzY3JvbGxpbmcgbm90IGluIHRoZSBwb3B1cCwgb3IgcG9wdXAgc2Nyb2xsaW5nIGF0IGl0cyBib3VuZGFyaWVzDQoJCQljb250ZXh0LnBvcHVwQ29udGVudExpc3Qub24oJ0RPTU1vdXNlU2Nyb2xsIG1vdXNld2hlZWwnLCBmdW5jdGlvbihlKXsNCgkJCQl2YXIgZSA9IGUgfHwgd2luZG93LmV2ZW50LA0KCQkJCQlvcmlnaW5hbEV2ZW50ID0gZS5vcmlnaW5hbEV2ZW50IHx8IGUsDQoJCQkJCWRlbHRhID0gMCwNCgkJCQkJc2Nyb2xsVG9wID0gY29udGV4dC5wb3B1cENvbnRlbnRMaXN0LmdldCgwKS5zY3JvbGxUb3AsDQoJCQkJCXNjcm9sbEhlaWdodCA9IGNvbnRleHQucG9wdXBDb250ZW50TGlzdC5nZXQoMCkuc2Nyb2xsSGVpZ2h0LA0KCQkJCQloZWlnaHQgPSBjb250ZXh0LnBvcHVwQ29udGVudExpc3QuaGVpZ2h0KCk7DQoNCgkJCQlpZiAob3JpZ2luYWxFdmVudC53aGVlbERlbHRhKQ0KCQkJCQlkZWx0YSA9IG9yaWdpbmFsRXZlbnQud2hlZWxEZWx0YS8xMjA7DQoJCQkJaWYgKG9yaWdpbmFsRXZlbnQuZGV0YWlsKQ0KCQkJCQlkZWx0YSA9IC1vcmlnaW5hbEV2ZW50LmRldGFpbC8zOw0KDQoJCQkJaWYoKHNjcm9sbFRvcCA9PT0gKHNjcm9sbEhlaWdodCAtIGhlaWdodCkgJiYgZGVsdGEgPCAwKSB8fA0KCQkJCQkoc2Nyb2xsVG9wID09PSAwICYmIGRlbHRhID4gMCkpIHsNCgkJCQkJaWYoZS5wcmV2ZW50RGVmYXVsdCkNCgkJCQkJCWUucHJldmVudERlZmF1bHQoKTsNCgkJCQkJZS5yZXR1cm5WYWx1ZSA9IGZhbHNlOw0KCQkJCX0NCgkJCX0pOw0KDQoJCQkvLyBibG9jayB0b3VjaCBzY3JvbGxpbmcNCgkJCXZhciBsYXN0WTsNCgkJCSQoJ2JvZHknKS5hZGRDbGFzcygnc3RvcC1zY3JvbGxpbmcnKQ0KCQkJCS5vbigncG9pbnRlcnN0YXJ0LnNjcm9sbGZpeCcsIGZ1bmN0aW9uKGUpew0KCQkJCQlsYXN0WSA9IGUucG9pbnRlcnNbMF0ucGFnZVk7DQoJCQkJfSkNCgkJCQkub24oJ3BvaW50ZXJlbmQuc2Nyb2xsZml4JywgZnVuY3Rpb24oZSl7DQoJCQkJCWxhc3RZID0gbnVsbDsNCgkJCQl9KQ0KCQkJCS5vbigncG9pbnRlcm1vdmUuc2Nyb2xsZml4JywgZnVuY3Rpb24oZSl7DQoJCQkJCWlmKCFlLnBvaW50ZXJzIHx8IGUucG9pbnRlcnMubGVuZ3RoID09IDApDQoJCQkJCQlyZXR1cm47DQoNCgkJCQkJdmFyIGlzRGlyZWN0aW9uRG93biA9IGUucG9pbnRlcnNbMF0ucGFnZVkgLSBsYXN0WSA+IDA7DQoNCgkJCQkJdmFyIGxpc3QgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcucG9wdXAtbGlzdCB1bC5jb250ZW50LWxpc3QuY29udGVudCcpOw0KCQkJCQlpZighbGlzdCB8fCBsaXN0Lmxlbmd0aCA9PSAwKSB7DQoJCQkJCQllLnByZXZlbnREZWZhdWx0KCk7DQoJCQkJCQlyZXR1cm4gZmFsc2U7DQoJCQkJCX0NCg0KCQkJCQl2YXIgdWwgPSBjb250ZXh0LnBvcHVwQ29udGVudExpc3QuZ2V0KDApLA0KCQkJCQkJdWxTY3JvbGxUb3AgPSB1bC5zY3JvbGxUb3AsDQoJCQkJCQl1bFNjcm9sbEhlaWdodCA9IHVsLnNjcm9sbEhlaWdodCwNCgkJCQkJCXVsSGVpZ2h0ID0gdWwub2Zmc2V0SGVpZ2h0Ow0KDQoJCQkJCWlmKHVsSGVpZ2h0ID09IDAgfHwgdWxTY3JvbGxIZWlnaHQgPT0gMCkNCgkJCQkJCXJldHVybjsNCg0KCQkJCQkvLyBsaXN0IGlzbid0IHNjcm9sbGFibGUsIHNvIGJsb2NrIHNjcm9sbGluZw0KCQkJCQlpZih1bFNjcm9sbEhlaWdodCAtIHVsSGVpZ2h0IDw9IDApIHsNCgkJCQkJCWUucHJldmVudERlZmF1bHQoKQ0KCQkJCQkJcmV0dXJuIGZhbHNlOw0KCQkJCQl9DQoNCgkJCQkJLy8gbGlzdCBpcyBzY3JvbGxhYmxlIGFuZCBhdCB0aGUgdG9wDQoJCQkJCWlmKHVsU2Nyb2xsVG9wID09IDAgJiYgaXNEaXJlY3Rpb25Eb3duKSB7DQoJCQkJCQllLnByZXZlbnREZWZhdWx0KCk7DQoJCQkJCQlyZXR1cm4gZmFsc2U7DQoJCQkJCX0NCgkJCQkJLy8gbGlzdCBpcyBzY3JvbGxhYmxlIGFuZCBhdCBlbmQNCgkJCQkJaWYoKHVsU2Nyb2xsVG9wICsgdWxIZWlnaHQgPj0gdWxTY3JvbGxIZWlnaHQpICYmICFpc0RpcmVjdGlvbkRvd24pIHsNCgkJCQkJCWUucHJldmVudERlZmF1bHQoKTsNCgkJCQkJCXJldHVybiBmYWxzZTsNCgkJCQkJfQ0KCQkJCX0pOw0KDQoJCQlpZighbWFzaykNCgkJCQltYXNrID0gJCgnPGRpdj48L2Rpdj4nKQ0KCQkJCQkuYWRkQ2xhc3MoJ21hc2snKQ0KCQkJCQkuYXBwZW5kVG8oJ2JvZHknKQ0KCQkJCQkuY3NzKHsgb3BhY2l0eTogMC4wMSwgekluZGV4OiAxIH0pDQoJCQkJCS5ldm9sdXRpb25UcmFuc2Zvcm0oeyBvcGFjaXR5OiAwLjcgfSwgeyBkdXJhdGlvbjogMTUwIH0pDQoJCQkJCS5vbignY2xpY2snLCBmdW5jdGlvbigpew0KCQkJCQkJYXBpLmhpZGVDdXJyZW50KCk7DQoJCQkJCX0pOw0KDQoJCQlwcmV2ZW50Qm9keUJvdW5jZSgkKCdib2R5JykuY2hpbGRyZW4oKS5maXJzdCgpKTsNCgkJfQ0KDQoJCWZ1bmN0aW9uIHVuYmxvY2tXaW5kb3dTY3JvbGxpbmcoY29udGV4dCkgew0KCQkJaWYoISQoJ2JvZHknKS5oYXNDbGFzcygnc3RvcC1zY3JvbGxpbmcnKSkNCgkJCQlyZXR1cm4NCg0KCQkJJCgnYm9keScpLnJlbW92ZUNsYXNzKCdzdG9wLXNjcm9sbGluZycpLm9mZignLnNjcm9sbGZpeCcpOw0KDQoJCQlpZihjb250ZXh0LnBvcHVwQ29udGVudExpc3QpDQoJCQkJY29udGV4dC5wb3B1cENvbnRlbnRMaXN0Lm9mZignRE9NTW91c2VTY3JvbGwgbW91c2V3aGVlbCcpOw0KDQoJCQlpZihtYXNrKSB7DQoJCQkJc2V0VGltZW91dChmdW5jdGlvbigpew0KCQkJCQlpZihtYXNrKSB7DQoJCQkJCQlpZighJCgnYm9keScpLmhhc0NsYXNzKCdzdG9wLXNjcm9sbGluZycpKSB7DQoJCQkJCQkJbWFzay5ldm9sdXRpb25UcmFuc2Zvcm0oeyBvcGFjaXR5OiAwLjAxIH0sIHsgZHVyYXRpb246IDEwMCB9KTsNCgkJCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7DQoJCQkJCQkJCWlmKG1hc2spDQoJCQkJCQkJCQltYXNrLnJlbW92ZSgpOw0KCQkJCQkJCQltYXNrID0gbnVsbDsNCgkJCQkJCQl9LCAxMDApOw0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJfSwgMTAwKTsNCgkJCX0NCg0KCQkJYWxsb3dCb2R5Qm91bmNlKCQoJ2JvZHknKS5jaGlsZHJlbigpLmZpcnN0KCkpOw0KCQl9DQoNCgkJZnVuY3Rpb24gYWxsb3dCb2R5Qm91bmNlKHNlbGVjdGlvbikgew0KCQkJc2VsZWN0aW9uLm9mZignLnNjcm9sbGZpeCcpOw0KCQl9DQoNCgkJZnVuY3Rpb24gcHJldmVudEJvZHlCb3VuY2Uoc2VsZWN0aW9uKSB7DQoJCQl2YXIgb3JpZ2luYWxTY3JvbGxUb3AsDQoJCQkJZWxlbSA9IHNlbGVjdGlvbi5nZXQoMCk7DQoJCQlzZWxlY3Rpb24ub24oJ3BvaW50ZXJzdGFydC5zY3JvbGxmaXgnLCBmdW5jdGlvbihlKXsNCgkJCQlvcmlnaW5hbFNjcm9sbFRvcCA9IGVsZW0uc2Nyb2xsVG9wOw0KDQoJCQkJaWYob3JpZ2luYWxTY3JvbGxUb3AgPD0gMCkNCgkJCQkJZWxlbS5zY3JvbGxUb3AgPSAxOw0KDQoJCQkJaWYob3JpZ2luYWxTY3JvbGxUb3AgKyBlbGVtLm9mZnNldEhlaWdodCA+PSBlbGVtLnNjcm9sbEhlaWdodCkNCgkJCQkJZWxlbS5zY3JvbGxUb3AgPSBlbGVtLnNjcm9sbEhlaWdodCAtIGVsZW0ub2Zmc2V0SGVpZ2h0IC0gMTsNCg0KCQkJCW9yaWdpbmFsU2Nyb2xsTGVmdCA9IGVsZW0uc2Nyb2xsTGVmdDsNCg0KCQkJCWlmKG9yaWdpbmFsU2Nyb2xsTGVmdCA8PSAwKQ0KCQkJCQllbGVtLnNjcm9sbExlZnQgPSAxOw0KDQoJCQkJaWYob3JpZ2luYWxTY3JvbGxMZWZ0ICsgZWxlbS5vZmZzZXRXaWR0aCA+PSBlbGVtLnNjcm9sbFdpZHRoKQ0KCQkJCQllbGVtLnNjcm9sbExlZnQgPSBlbGVtLnNjcm9sbFdpZHRoIC0gZWxlbS5vZmZzZXRXaWR0aCAtIDE7DQoJCQl9KTsNCgkJfQ0KDQoJCWZ1bmN0aW9uIGJ1aWxkQ291bnRCdWJibGUoY29udGV4dCkgew0KCQkJdmFyIHdyYXBwZXIgPSBjb250ZXh0LmFjdGl2YXRpb25MaW5rLndyYXAoJzxzcGFuPjwvc3Bhbj4nKS5wYXJlbnQoJ3NwYW4nKS5jc3Moew0KCQkJCXBvc2l0aW9uOiAncmVsYXRpdmUnDQoJCQl9KTsNCgkJCXZhciBjb3VudCA9ICQoJzxhIGhyZWY9IiMiIGNsYXNzPSJwb3B1cC1saXN0LWNvdW50ICcgKyBjb250ZXh0LnRpdGxlQ291bnRDbGFzcyArICciPjwvYT4nKTsNCgkJCWNvdW50LmFwcGVuZFRvKHdyYXBwZXIpLmhpZGUoKS5vbignY2xpY2snLCBmdW5jdGlvbihlKXsNCgkJCQllLnByZXZlbnREZWZhdWx0KCk7DQoJCQkJY29udGV4dC5hY3RpdmF0aW9uTGluay5jbGljaygpOw0KCQkJfSk7DQoJCQlyZXR1cm4gY291bnQ7DQoJCX0NCg0KCQlmdW5jdGlvbiBidWlsZFVucmVhZENvdW50TWVzc2FnZShjb250ZXh0LCBjb3VudCkgew0KCQkJY291bnQgPSBjb3VudCB8fCAwOw0KCQkJaWYoY291bnQgPT09IDEpIHsNCgkJCQlyZXR1cm4gY29udGV4dC51bnJlYWRDb3VudE1lc3NhZ2VTaW5ndWxhci5yZXBsYWNlKC9cezBcfS9naSwgY291bnQpOw0KCQkJfSBlbHNlIHsNCgkJCQlyZXR1cm4gY29udGV4dC51bnJlYWRDb3VudE1lc3NhZ2VQbHVyYWwucmVwbGFjZSgvXHswXH0vZ2ksIGNvdW50KTsNCgkJCX0NCgkJfQ0KDQoJCWZ1bmN0aW9uIHNob3dVbnJlYWRDb3VudChjb250ZXh0LCBjb3VudCkgew0KCQkJaWYoIWNvbnRleHQuc2hvd0NvdW50KQ0KCQkJCXJldHVybjsNCgkJCXZhciBkaWZmZXJlbmNlID0gY291bnQgLSBjb250ZXh0LnByZXZpb3VzQ291bnQ7DQoJCQljb250ZXh0LnByZXZpb3VzQ291bnQgPSBjb3VudDsNCgkJCWlmKGNvbnRleHQudGl0bGVDb3VudCkgew0KCQkJCXRvdGFsVGl0bGVDb3VudCArPSBkaWZmZXJlbmNlOw0KCQkJCXVwZGF0ZVRpdGxlKGNvbnRleHQpOw0KCQkJfQ0KCQkJdmFyIHVucmVhZENvdW50TWVzc2FnZSA9IGJ1aWxkVW5yZWFkQ291bnRNZXNzYWdlKGNvbnRleHQsIGNvdW50KTsNCgkJCWlmKGNvdW50IDw9IDApIHsNCgkJCQkvLyByZW1vdmUgYnViYmxlIHVpDQoJCQkJaWYoY29udGV4dC5jb3VudCkNCgkJCQkJY29udGV4dC5jb3VudC5mYWRlT3V0KDIwMCk7DQoJCQkJY29udGV4dC5hY3RpdmF0aW9uTGluay5hdHRyKCdkYXRhLXRpcCcsIHVucmVhZENvdW50TWVzc2FnZSkuYXR0cigndGl0bGUnLCB1bnJlYWRDb3VudE1lc3NhZ2UpOw0KCQkJfSBlbHNlIHsNCgkJCQkvLyBhZGQgYnViYmxlIHVpIGlmIG5vdCB0aGVyZQ0KCQkJCWNvbnRleHQuY291bnQgPSBjb250ZXh0LmNvdW50IHx8IGJ1aWxkQ291bnRCdWJibGUoY29udGV4dCk7DQoJCQkJLy8gc2V0IHRoZSBjb3VudCBhbmQgZGlzcGxheSBpdA0KCQkJCWNvbnRleHQuY291bnQNCgkJCQkJLmh0bWwoKGNvbnRleHQubGltaXRDb3VudCAmJiBjb250ZXh0LmxpbWl0Q291bnQgPCBjb3VudCkgPyBjb250ZXh0LmxpbWl0Q291bnQgKyAiKyIgOiBjb3VudCkNCgkJCQkJLmF0dHIoJ3RpdGxlJywgdW5yZWFkQ291bnRNZXNzYWdlKQ0KCQkJCQkuZmFkZUluKDIwMCk7DQoJCQkJY29udGV4dC5hY3RpdmF0aW9uTGluay5hdHRyKCdkYXRhLXRpcCcsIHVucmVhZENvdW50TWVzc2FnZSkuYXR0cigndGl0bGUnLCB1bnJlYWRDb3VudE1lc3NhZ2UpOw0KCQkJfQ0KCQl9DQoNCgkJZnVuY3Rpb24gbG9hZFNob3dTZXR0aW5ncyhhY3RpdmF0b3IsIGNvbnRleHQpIHsNCgkJCXJldHVybiAkLkRlZmVycmVkKGZ1bmN0aW9uKGRmZCl7DQoJCQkJY29udGV4dC5vblNob3coYWN0aXZhdG9yLCBmdW5jdGlvbihzZXR0aW5ncyl7DQoJCQkJCWRmZC5yZXNvbHZlKCQuZXh0ZW5kKHt9LCBkZWZhdWx0U2hvd1NldHRpbmdzLCBzZXR0aW5ncyB8fCB7fSkpOw0KCQkJCX0pOw0KCQkJfSkucHJvbWlzZSgpOw0KCQl9DQoNCgkJZnVuY3Rpb24gbG9hZENvbnRlbnQoY29udGV4dCwgcGFnZUluZGV4LCBzaG91bGRSZWZyZXNoVW5yZWFkQ291bnQpIHsNCgkJCWNvbnRleHQubG9hZGluZyA9IHRydWU7DQoJCQkvLyBjYWxsIHRoZSBpbmplY3RlZCBsb2FkaW5nIG1ldGhvZCwgYW5kIHJldHVybiBhIHByb21pc2UNCgkJCS8vIHdoaWNoLCB3aGVuIGRvbmUsIHByb3ZpZGVzIHRoZSBjb250ZW50IGZyb20gdGhlIGxvYWRpbmcgbWV0aG9kDQoJCQlyZXR1cm4gJC5EZWZlcnJlZChmdW5jdGlvbihkZmQpew0KCQkJCWlmKGNvbnRleHQub25TaG93TG9hZGluZ0luZGljYXRvcigpKSB7DQoJCQkJCXNob3dMb2FkaW5nKGNvbnRleHQsIChwYWdlSW5kZXggPiAwKSk7DQoJCQkJfQ0KCQkJCWNvbnRleHQub25Mb2FkKHBhZ2VJbmRleCwgc2hvdWxkUmVmcmVzaFVucmVhZENvdW50LCBjb250ZXh0LmZpbHRlciB8fCAnJywgZnVuY3Rpb24oY29udGVudCl7DQoJCQkJCWlmKGNvbnRlbnQgPT09IG51bGwgfHwgY29udGVudCA9PT0gdW5kZWYpIHsNCgkJCQkJCWRmZC5yZWplY3QoKTsNCgkJCQkJfSBlbHNlIHsNCgkJCQkJCWlmKGNvbnRleHQub25TaG93TG9hZGluZ0luZGljYXRvcigpKQ0KCQkJCQkJCWhpZGVMb2FkaW5nKGNvbnRleHQsIChwYWdlSW5kZXggPiAwKSk7DQoJCQkJCQlkZmQucmVzb2x2ZShjb250ZW50KTsNCgkJCQkJfQ0KCQkJCX0pOw0KCQkJfSkucHJvbWlzZSgpOw0KCQl9DQoNCgkJZnVuY3Rpb24gYnVpbGRQb3BVcChjb250ZXh0KSB7DQoJCQljb250ZXh0LmNvbXBpbGVkVGVtcGxhdGUgPSBjb250ZXh0LmNvbXBpbGVkVGVtcGxhdGUgfHwgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnRlbXBsYXRlLmNvbXBpbGUoY29udGV4dC50ZW1wbGF0ZSk7DQoNCgkJCWNvbnRleHQucG9wdXAgPSAkKGNvbnRleHQuY29tcGlsZWRUZW1wbGF0ZShjb250ZXh0KSk7DQoJCQljb250ZXh0LmxvYWRpbmdJbmRpY2F0b3IgPSBjb250ZXh0LnBvcHVwLmZpbmQoJy5sb2FkaW5nJykuaGlkZSgpOw0KCQkJY29udGV4dC5wb3B1cENvbnRlbnRMaXN0ID0gY29udGV4dC5wb3B1cC5maW5kKCcuY29udGVudC1saXN0Jyk7DQoJCQljb250ZXh0LmZvb3RlciA9IGNvbnRleHQucG9wdXAuZmluZCgnLmNvbnRlbnQtbGlzdC1mb290ZXInKTsNCgkJCWNvbnRleHQucG9wdXAuZ2xvd1BvcFVwUGFuZWwoew0KCQkJCWNzc0NsYXNzOiAncG9wdXAtbGlzdCAnICsgY29udGV4dC5jc3NDbGFzcywNCgkJCQloaWRlT25Eb2N1bWVudENsaWNrOiBmYWxzZSwNCgkJCQloaWRlT25SZXNpemU6IChzdXBwb3J0c1RvdWNoKCkgPyBmYWxzZSA6IHRydWUpLA0KCQkJCXBvc2l0aW9uOiAnZG93bicsDQoJCQkJekluZGV4OiAxMDAwDQoJCQl9KS5vbignZ2xvd1BvcFVwUGFuZWxIaWRkZW4nLCBmdW5jdGlvbigpew0KCQkJCShjb250ZXh0LmFjdGl2YXRvcikucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpOw0KCQkJCWNvbnRleHQub25IaWRlKCk7DQoJCQkJdW5ibG9ja1dpbmRvd1Njcm9sbGluZyhjb250ZXh0KTsNCgkJCX0pOw0KCQkJJChkb2N1bWVudCkub24oJ2NsaWNrJywgZnVuY3Rpb24oKXsNCgkJCQljb250ZXh0LnBvcHVwLmdsb3dQb3BVcFBhbmVsKCdoaWRlJyk7DQoJCQl9KTsNCgkJCWlmKGNvbnRleHQub25CdWlsZEZpbHRlciAhPT0gbnVsbCkgew0KCQkJCXZhciBmaWx0ZXIgPSBjb250ZXh0Lm9uQnVpbGRGaWx0ZXIoZnVuY3Rpb24ocmVzdWx0KXsNCgkJCQkJaWYoIWlzT3Blbk9yT3BlbmluZyhjb250ZXh0KSkNCgkJCQkJCXJldHVybjsNCgkJCQkJY29udGV4dC5maWx0ZXIgPSByZXN1bHQ7DQoJCQkJCWNvbnRleHQuY3VycmVudFBhZ2VJbmRleCA9IDA7DQoJCQkJCWxvYWRDb250ZW50KGNvbnRleHQsIGNvbnRleHQuY3VycmVudFBhZ2VJbmRleCwgdHJ1ZSkudGhlbihmdW5jdGlvbihjb250ZW50KSB7DQoJCQkJCQlhcHBlbmRUb1BvcHVwKGNvbnRleHQsIGNvbnRlbnQsIHRydWUpOw0KCQkJCQl9KTsNCgkJCQl9KTsNCgkJCQlpZihmaWx0ZXIpIHsNCgkJCQkJJChmaWx0ZXIpLmluc2VydEJlZm9yZShjb250ZXh0LnBvcHVwQ29udGVudExpc3QpOw0KCQkJCX0NCgkJCX0NCgkJfQ0KDQoJCWZ1bmN0aW9uIHNob3dMb2FkaW5nKGNvbnRleHQsIGFwcGVuZCkgew0KCQkJaWYoYXBwZW5kKSB7DQoJCQkJY29udGV4dC5sb2FkaW5nSW5kaWNhdG9yLnNob3coKTsNCgkJCX0gZWxzZSB7DQoJCQkJc2V0VGltZW91dChmdW5jdGlvbigpew0KCQkJCQlpZighY29udGV4dC5sb2FkaW5nKQ0KCQkJCQkJcmV0dXJuOw0KCQkJCQlpZihvcGVuSGVhZGVyTGlzdENvbnRleHQpIHsNCgkJCQkJCWhpZGVQb3B1cChvcGVuSGVhZGVyTGlzdENvbnRleHQpOw0KCQkJCQl9DQoJCQkJCW9wZW5IZWFkZXJMaXN0Q29udGV4dCA9IGNvbnRleHQ7DQoJCQkJCWNvbnRleHQucG9wdXAuZ2xvd1BvcFVwUGFuZWwoJ3Nob3cnLCAoY29udGV4dC5zaG93U2V0dGluZ3MuYXR0YWNoVG8gfHwgY29udGV4dC5hY3RpdmF0b3IpLCB0cnVlKTsNCgkJCQkJY29udGV4dC5sb2FkaW5nSW5kaWNhdG9yLnNob3coKTsNCgkJCQkJKGNvbnRleHQuYWN0aXZhdG9yKS5hZGRDbGFzcygnYWN0aXZlJyk7DQoJCQkJCWJsb2NrV2luZG93U2Nyb2xsaW5nKGNvbnRleHQpOw0KCQkJCX0sIDIwKTsNCgkJCX0NCgkJfQ0KDQoJCWZ1bmN0aW9uIGhpZGVMb2FkaW5nKGNvbnRleHQsIGFwcGVuZCkgew0KCQkJY29udGV4dC5sb2FkaW5nSW5kaWNhdG9yLmhpZGUoKTsNCgkJfQ0KDQoJCWZ1bmN0aW9uIHNob3dQb3B1cChjb250ZXh0LCBjb250ZW50LCBzaG93U2V0dGluZ3MpIHsNCgkJCWlmKG9wZW5IZWFkZXJMaXN0Q29udGV4dCkgew0KCQkJCWhpZGVQb3B1cChvcGVuSGVhZGVyTGlzdENvbnRleHQpOw0KCQkJfQ0KCQkJb3BlbkhlYWRlckxpc3RDb250ZXh0ID0gY29udGV4dDsNCgkJCWNvbnRleHQucG9wdXBDb250ZW50TGlzdC5odG1sKGNvbnRlbnQpOw0KCQkJY29udGV4dC5wb3B1cC5nbG93UG9wVXBQYW5lbCgnc2hvdycsIChzaG93U2V0dGluZ3MuYXR0YWNoVG8gfHwgY29udGV4dC5hY3RpdmF0b3IpLCB0cnVlKTsNCgkJCWNvbnRleHQubG9hZGluZyA9IGZhbHNlOw0KCQkJY29udGV4dC5oYXNNb3JlID0gY29udGV4dC5wb3B1cENvbnRlbnRMaXN0LmNoaWxkcmVuKCdsaTpsYXN0JykuZGF0YSgnaGFzbW9yZScpID8gdHJ1ZSA6IGZhbHNlOw0KCQkJKGNvbnRleHQuYWN0aXZhdG9yKS5hZGRDbGFzcygnYWN0aXZlJyk7DQoJCQljb250ZXh0LnBvcHVwQ29udGVudCA9IGNvbnRleHQucG9wdXBDb250ZW50TGlzdC5jbG9zZXN0KCcucG9wdXAtbGlzdCcpOw0KCQkJY29udGV4dC5wb3B1cENvbnRhaW5lciA9IGNvbnRleHQucG9wdXBDb250ZW50LnBhcmVudCgpOw0KCQkJY29udGV4dC5wb3B1cENvbnRhaW5lci5jc3MoeyBoZWlnaHQ6IGNvbnRleHQucG9wdXBDb250ZW50Lm91dGVySGVpZ2h0KCkgfSk7DQoJCQljb250ZXh0LnBvcHVwQ29udGVudC5maW5kKCcudWktdmlld2h0bWwnKS5vbigncmVuZGVyZWQnLCBmdW5jdGlvbigpew0KCQkJCWdsb2JhbC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgew0KCQkJCQljb250ZXh0LnBvcHVwQ29udGFpbmVyLmNzcyh7IGhlaWdodDogY29udGV4dC5wb3B1cENvbnRlbnQub3V0ZXJIZWlnaHQoKSB9KTsNCgkJCQl9LCAyNTApOw0KCQkJfSk7DQoJCQlibG9ja1dpbmRvd1Njcm9sbGluZyhjb250ZXh0KTsNCgkJCWNvbnRleHQuY3VycmVudEl0ZW1JbmRleCA9IG51bGw7DQoJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ubWVzc2FnaW5nLnB1Ymxpc2goYWN0aXZhdGVNZXNzYWdlLCB7IGtleTogY29udGV4dC5rZXkgfSk7DQoJCX0NCg0KCQlmdW5jdGlvbiBoaWRlUG9wdXAoY29udGV4dCkgew0KCQkJY29udGV4dC5wb3B1cC5nbG93UG9wVXBQYW5lbCgnaGlkZScpOw0KCQkJdW5ibG9ja1dpbmRvd1Njcm9sbGluZyhjb250ZXh0KTsNCgkJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5tZXNzYWdpbmcucHVibGlzaChkZWFjdGl2YXRlTWVzc2FnZSwgeyBrZXk6IGNvbnRleHQua2V5IH0pOw0KCQl9DQoNCgkJZnVuY3Rpb24gYXBwZW5kVG9Qb3B1cChjb250ZXh0LCBjb250ZW50LCBzaG91bGRSZXBsYWNlKSB7DQoJCQlpZihjb250ZW50ID09PSBudWxsKQ0KCQkJCXJldHVybjsNCgkJCWlmKHNob3VsZFJlcGxhY2UpIHsNCgkJCQljb250ZXh0LnBvcHVwQ29udGVudExpc3QuaHRtbChjb250ZW50KTsNCgkJCX0gZWxzZSB7DQoJCQkJY29udGV4dC5wb3B1cENvbnRlbnRMaXN0LmFwcGVuZChjb250ZW50KTsNCgkJCX0NCgkJCWNvbnRleHQubG9hZGluZyA9IGZhbHNlOw0KCQkJY29udGV4dC5oYXNNb3JlID0gY29udGV4dC5wb3B1cENvbnRlbnRMaXN0LmNoaWxkcmVuKCdsaTpsYXN0JykuZGF0YSgnaGFzbW9yZScpID8gdHJ1ZSA6IGZhbHNlOw0KCQkJY29udGV4dC5wb3B1cENvbnRlbnQgPSBjb250ZXh0LnBvcHVwQ29udGVudExpc3QuY2xvc2VzdCgnLnBvcHVwLWxpc3QnKTsNCgkJCWNvbnRleHQucG9wdXBDb250YWluZXIgPSBjb250ZXh0LnBvcHVwQ29udGVudC5wYXJlbnQoKTsNCgkJCWNvbnRleHQucG9wdXBDb250YWluZXIuY3NzKHsgaGVpZ2h0OiBjb250ZXh0LnBvcHVwQ29udGVudC5vdXRlckhlaWdodCgpIH0pOw0KCQkJY29udGV4dC5wb3B1cENvbnRlbnQuZmluZCgnLnVpLXZpZXdodG1sJykub24oJ3JlbmRlcmVkJywgZnVuY3Rpb24oKXsNCgkJCQlnbG9iYWwuc2V0VGltZW91dChmdW5jdGlvbigpIHsNCgkJCQkJY29udGV4dC5wb3B1cENvbnRhaW5lci5jc3MoeyBoZWlnaHQ6IGNvbnRleHQucG9wdXBDb250ZW50Lm91dGVySGVpZ2h0KCkgfSk7DQoJCQkJfSwgMjUwKTsNCgkJCX0pOw0KCQl9DQoNCgkJZnVuY3Rpb24gZGVhY3RpdmF0ZShjb250ZXh0KSB7DQoJCQloaWRlUG9wdXAoY29udGV4dCk7DQoJCX0NCg0KCQlmdW5jdGlvbiBhY3RpdmF0ZShhY3RpdmF0b3IsIGNvbnRleHQpIHsNCgkJCWNvbnRleHQuY3VycmVudFBhZ2VJbmRleCA9IDA7DQoJCQljb250ZXh0Lmhhc01vcmUgPSB0cnVlOw0KCQkJYWN0aXZhdG9yLmFkZENsYXNzKCdhY3RpdmUnKTsNCgkJCWxvYWRTaG93U2V0dGluZ3MoYWN0aXZhdG9yLCBjb250ZXh0KS50aGVuKGZ1bmN0aW9uKHNob3dTZXR0aW5ncykgew0KCQkJCWNvbnRleHQuc2hvd1NldHRpbmdzID0gc2hvd1NldHRpbmdzOw0KCQkJCWNvbnRleHQucG9wdXBDb250ZW50TGlzdC5jc3Moew0KCQkJCQl3aWR0aDogc2hvd1NldHRpbmdzLndpZHRoLA0KCQkJCQltYXhIZWlnaHQ6IHNob3dTZXR0aW5ncy5tYXhIZWlnaHQNCgkJCQl9KTsNCgkJCQlsb2FkQ29udGVudChjb250ZXh0LCBjb250ZXh0LmN1cnJlbnRQYWdlSW5kZXgsIHRydWUpLnRoZW4oZnVuY3Rpb24oY29udGVudCkgew0KCQkJCQlzaG93UG9wdXAoY29udGV4dCwgY29udGVudCwgc2hvd1NldHRpbmdzKTsNCgkJCQkJY29udGV4dC5wb3B1cENvbnRhaW5lci5yZW1vdmVDbGFzcygpLmFkZENsYXNzKHNob3dTZXR0aW5ncy5jb250YWluZXJDc3NDbGFzcyk7DQoJCQkJfSk7DQoJCQl9KTsNCgkJfQ0KDQoJCWZ1bmN0aW9uIGhhbmRsZVBvcG91cE9wZW5lckNsaWNrKGxpbmssIGNvbnRleHQpIHsNCgkJCWlmKGNvbnRleHQucG9wdXAuZ2xvd1BvcFVwUGFuZWwoJ2lzT3BlbmluZycpKSB7DQoJCQkJcmV0dXJuOw0KCQkJfSBlbHNlIGlmKGNvbnRleHQucG9wdXAuZ2xvd1BvcFVwUGFuZWwoJ2lzU2hvd24nKSkgew0KCQkJCWhpZGVQb3B1cChjb250ZXh0KTsNCgkJCQlkZWFjdGl2YXRlKGNvbnRleHQpOw0KCQkJfSBlbHNlIHsNCgkJCQlhY3RpdmF0ZShsaW5rLCBjb250ZXh0KTsNCgkJCX0NCgkJfQ0KDQoJCWZ1bmN0aW9uIGlzT3Blbk9yT3BlbmluZyhjb250ZXh0KSB7DQoJCQlyZXR1cm4gY29udGV4dC5wb3B1cC5nbG93UG9wVXBQYW5lbCgnaXNPcGVuaW5nJykgfHwNCgkJCQljb250ZXh0LnBvcHVwLmdsb3dQb3BVcFBhbmVsKCdpc1Nob3duJyk7DQoJCX0NCg0KCQlmdW5jdGlvbiBtb3ZlKGNvbnRleHQsIGRpcmVjdGlvbiwgaGFuZGxlcikgew0KCQkJdmFyIGF2YWlsYWJsZUl0ZW1zID0gJChjb250ZXh0LnBvcHVwQ29udGVudExpc3QuY2hpbGRyZW4oJ2xpLmNvbnRlbnQtaXRlbScpKTsNCgkJCWlmKGF2YWlsYWJsZUl0ZW1zLmxlbmd0aCA9PSAwKQ0KCQkJCXJldHVybjsNCg0KCQkJYXZhaWxhYmxlSXRlbXMucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7DQoNCgkJCWlmKGNvbnRleHQuY3VycmVudEl0ZW1JbmRleCA9PT0gbnVsbCkgew0KCQkJCWNvbnRleHQuY3VycmVudEl0ZW1JbmRleCA9IDA7DQoJCQl9IGVsc2UgaWYoZGlyZWN0aW9uID09ICdkb3duJykgew0KCQkJCWNvbnRleHQuY3VycmVudEl0ZW1JbmRleCsrOw0KCQkJCWlmKGNvbnRleHQuY3VycmVudEl0ZW1JbmRleCA+PSBhdmFpbGFibGVJdGVtcy5sZW5ndGgpDQoJCQkJCWNvbnRleHQuY3VycmVudEl0ZW1JbmRleCA9IDA7DQoJCQl9IGVsc2UgaWYoZGlyZWN0aW9uID09ICd1cCcpIHsNCgkJCQljb250ZXh0LmN1cnJlbnRJdGVtSW5kZXgtLTsNCgkJCQlpZihjb250ZXh0LmN1cnJlbnRJdGVtSW5kZXggPCAwKQ0KCQkJCQljb250ZXh0LmN1cnJlbnRJdGVtSW5kZXggPSAoYXZhaWxhYmxlSXRlbXMubGVuZ3RoIC0gMSk7DQoJCQl9DQoNCgkJCS8vIGdldCBpdGVtIHRvIHNjcm9sbCB0bw0KCQkJdmFyIHNlbGVjdGVkSXRlbSA9ICQoYXZhaWxhYmxlSXRlbXNbY29udGV4dC5jdXJyZW50SXRlbUluZGV4XSk7DQoJCQlpZighc2VsZWN0ZWRJdGVtKQ0KCQkJCXJldHVybjsNCg0KCQkJLy8gc2Nyb2xsIHRvIGl0DQoJCQljb250ZXh0LnBvcHVwQ29udGVudExpc3QuYW5pbWF0ZSh7DQoJCQkJc2Nyb2xsVG9wOiAoY29udGV4dC5wb3B1cENvbnRlbnRMaXN0LnNjcm9sbFRvcCgpIC0NCgkJCQkJY29udGV4dC5wb3B1cENvbnRlbnRMaXN0Lm9mZnNldCgpLnRvcCArDQoJCQkJCXNlbGVjdGVkSXRlbS5vZmZzZXQoKS50b3AgLQ0KCQkJCQlzZWxlY3RlZEl0ZW0uaGVpZ2h0KCkpDQoJCQl9LCAxMDApOw0KDQoJCQkvLyBoaWdobGlnaHQgaXQNCgkJCXNlbGVjdGVkSXRlbS5hZGRDbGFzcygnc2VsZWN0ZWQnKTsNCg0KCQkJLy8gaW5mb3JtIGNhbGxpbmcgY29kZSBvZiBzZWxlY3Rpb24NCgkJCWhhbmRsZXIoc2VsZWN0ZWRJdGVtKTsNCgkJfQ0KDQoJCWZ1bmN0aW9uIGhhbmRsZUV2ZW50cyhjb250ZXh0KSB7DQoJCQljb250ZXh0LmFjdGl2YXRpb25MaW5rLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpew0KCQkJCWUucHJldmVudERlZmF1bHQoKTsNCgkJCQloYW5kbGVQb3BvdXBPcGVuZXJDbGljayhjb250ZXh0LmFjdGl2YXRpb25MaW5rLCBjb250ZXh0KTsNCgkJCQlyZXR1cm4gZmFsc2U7DQoJCQl9KTsNCgkJCS8vIGdvIGFoZWFkIGFuZCBpbW1laWRhdGVseSBoYW5kbGUsIGFzIGhhbmRsZUV2ZW50cyBpcyBvbmx5DQoJCQkvLyBmaXJzdCBjYWxsZWQgZnJvbSBhIGRlZmVycmVkIGNsaWNrDQoJCQkvLyBoYW5kbGVQb3BvdXBPcGVuZXJDbGljayhjb250ZXh0LmFjdGl2YXRpb25MaW5rLCBjb250ZXh0KTsNCg0KCQkJY29udGV4dC5hY3RpdmF0aW9uSW5wdXQub24oew0KCQkJCWZvY3VzOiBmdW5jdGlvbihlKSB7DQoJCQkJCWUucHJldmVudERlZmF1bHQoKTsNCg0KCQkJCQl2YXIgdmFsID0gJC50cmltKGNvbnRleHQuYWN0aXZhdGlvbklucHV0LnZhbCgpKTsNCgkJCQkJaWYoIWlzT3Blbk9yT3BlbmluZyhjb250ZXh0KSAmJiB2YWwubGVuZ3RoID49IDMpIHsNCgkJCQkJCWFjdGl2YXRlKCQoZS50YXJnZXQpLCBjb250ZXh0KTsNCgkJCQkJfQ0KDQoJCQkJCXJldHVybiBmYWxzZTsNCgkJCQl9LA0KCQkJCWJsdXI6IGZ1bmN0aW9uKGUpIHsNCgkJCQl9LA0KCQkJCSdpbnB1dCBwcm9wZXJ0eWNoYW5nZSc6IGZ1bmN0aW9uKGUpIHsNCgkJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOw0KDQoJCQkJCWlmIChlLnR5cGUgPT0gJ3Byb3BlcnR5Y2hhbmdlJyAmJiBlLm9yaWdpbmFsRXZlbnQucHJvcGVydHlOYW1lICE9ICJ2YWx1ZSIpDQoJCQkJCQlyZXR1cm4gZmFsc2U7DQoNCgkJCQkJdmFyIHZhbCA9ICQudHJpbShjb250ZXh0LmFjdGl2YXRpb25JbnB1dC52YWwoKSk7DQoJCQkJCWlmKCFpc09wZW5Pck9wZW5pbmcoY29udGV4dCkgJiYgdmFsLmxlbmd0aCA+PSAzKSB7DQoJCQkJCQlhY3RpdmF0ZSgkKGUudGFyZ2V0KSwgY29udGV4dCk7DQoJCQkJCX0gZWxzZSBpZihpc09wZW5Pck9wZW5pbmcoY29udGV4dCkgJiYgdmFsLmxlbmd0aCA8IDMpIHsNCgkJCQkJCWRlYWN0aXZhdGUoY29udGV4dCk7DQoJCQkJCX0NCg0KCQkJCQlyZXR1cm4gZmFsc2U7DQoJCQkJfQ0KDQoNCgkJCX0pDQoJCQkvLyBoYW5kbGUgZW5kbGVzcyBzY3JvbGxpbmcgaWYgZW5hYmxlZA0KCQkJaWYoY29udGV4dC5lbmRsZXNzU2Nyb2xsKSB7DQoJCQkJY29udGV4dC5wb3B1cENvbnRlbnRMaXN0Lm9uKCdzY3JvbGxlbmQnLCBmdW5jdGlvbigpew0KCQkJCQlpZighY29udGV4dC5oYXNNb3JlKSB7DQoJCQkJCQlyZXR1cm4gZmFsc2U7DQoJCQkJCX0NCgkJCQkJaWYoY29udGV4dC5sb2FkaW5nKSB7DQoJCQkJCQlyZXR1cm4gZmFsc2U7DQoJCQkJCX0NCgkJCQkJY29udGV4dC5jdXJyZW50UGFnZUluZGV4Kys7DQoJCQkJCWxvYWRDb250ZW50KGNvbnRleHQsIGNvbnRleHQuY3VycmVudFBhZ2VJbmRleCwgdHJ1ZSkuZG9uZShmdW5jdGlvbihjb250ZW50KSB7DQoJCQkJCQlhcHBlbmRUb1BvcHVwKGNvbnRleHQsIGNvbnRlbnQpOw0KCQkJCQl9KTsNCgkJCQkJcmV0dXJuIGZhbHNlOw0KCQkJCX0pOw0KCQkJfQ0KCQkJY29udGV4dC5wb3B1cENvbnRlbnRMaXN0Lm9uKCdjbGljaycsJy5jb250ZW50LWl0ZW0nLCBmdW5jdGlvbihlKXsNCgkJCQllLnByZXZlbnREZWZhdWx0KCk7DQoJCQkJY29udGV4dC5vblNlbGVjdCh0aGlzKTsNCgkJCX0pOw0KCQkJY29udGV4dC5wb3B1cENvbnRlbnRMaXN0Lm9uKCdjbGljaycsJ2EnLGZ1bmN0aW9uKGUpew0KCQkJCWUuc3RvcFByb3BhZ2F0aW9uKCk7DQoJCQl9KTsNCgkJfQ0KDQoJCWZ1bmN0aW9uIGluaXRDb250ZXh0KGNvbnRleHQpIHsNCgkJCWNvbnRleHQuYWN0aXZhdGlvbkxpbmsgPSAkKGNvbnRleHQuYWN0aXZhdGlvbkxpbmspOw0KCQkJY29udGV4dC5hY3RpdmF0aW9uSW5wdXQgPSAkKGNvbnRleHQuYWN0aXZhdGlvbklucHV0KTsNCgkJCWNvbnRleHQuYWN0aXZhdG9yID0gY29udGV4dC5hY3RpdmF0aW9uTGluay5sZW5ndGggPiAwID8gY29udGV4dC5hY3RpdmF0aW9uTGluayA6IGNvbnRleHQuYWN0aXZhdGlvbklucHV0Ow0KCQl9DQoNCgkJZnVuY3Rpb24gYXBpKG9wdGlvbnMpIHsNCgkJCS8vIHByaXZhdGUgaW5zdGFuY2UgbWVtYmVycyBvZiBhIEhlYWRlckxpc3QNCgkJCXZhciBjb250ZXh0ID0gJC5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zIHx8IHt9KTsNCgkJCWluaXRDb250ZXh0KGNvbnRleHQpOw0KCQkJdmFyIGluaXRlZCA9IGZhbHNlOw0KDQoJCQlmdW5jdGlvbiBpbml0KCkgew0KCQkJCWlmKGluaXRlZCkNCgkJCQkJcmV0dXJuOw0KCQkJCWluaXRlZCA9IHRydWU7DQoJCQkJYnVpbGRQb3BVcChjb250ZXh0KTsNCgkJCQloYW5kbGVFdmVudHMoY29udGV4dCk7DQoJCQl9DQoNCgkJCS8vIGxhenktc2V0dXAgdW50aWwgY2xpY2tlZA0KCQkJY29udGV4dC5hY3RpdmF0aW9uTGluay5vbmUoJ2NsaWNrJywgZnVuY3Rpb24oZSl7DQoJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOw0KCQkJCWluaXQoKTsNCgkJCQljb250ZXh0LmFjdGl2YXRpb25MaW5rLmNsaWNrKCk7DQoJCQl9KTsNCgkJCWNvbnRleHQuYWN0aXZhdGlvbklucHV0Lm9uZSgnZm9jdXMnLCBmdW5jdGlvbihlKXsNCgkJCQlpbml0KCk7DQoJCQkJY29udGV4dC5hY3RpdmF0aW9uSW5wdXQuZm9jdXMoKTsNCgkJCX0pOw0KCQkJc2hvd1VucmVhZENvdW50KGNvbnRleHQsIGNvbnRleHQuaW5pdGlhbFVucmVhZENvdW50KTsNCg0KCQkJLy8gcHVibGljIGluc3RhbmNlIG1lbWJlcnMgb2YgYSBIZWFkZXJMaXN0DQoJCQlyZXR1cm4gew0KCQkJCXJlZnJlc2hVbnJlYWRDb3VudDogZnVuY3Rpb24oKSB7DQoJCQkJCXJldHVybiBjb250ZXh0Lm9uUmVmcmVzaFVucmVhZENvdW50KGZ1bmN0aW9uKG5ld0NvdW50KXsNCgkJCQkJCXNob3dVbnJlYWRDb3VudChjb250ZXh0LCBuZXdDb3VudCk7DQoJCQkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7DQoJCQkJCQkJaWYgKGNvbnRleHQucG9wdXBDb250YWluZXIpDQoJCQkJCQkJCWNvbnRleHQucG9wdXBDb250YWluZXIuY3NzKHsgaGVpZ2h0OiBjb250ZXh0LnBvcHVwQ29udGVudC5vdXRlckhlaWdodCgpIH0pOw0KCQkJCQkJfSwgMTEwKQ0KCQkJCQl9KTsNCgkJCQl9LA0KCQkJCXJlZnJlc2hDb250ZW50OiBmdW5jdGlvbigpIHsNCgkJCQkJLy8gcmVmcmVzaGluZyBjb250ZW50IG9ubHkgaGFzIGFuIGVmZmVjdCBpZiBhbHJlYWR5IHNob3duDQoJCQkJCWlmKGNvbnRleHQucG9wdXAgJiYgY29udGV4dC5wb3B1cC5nbG93UG9wVXBQYW5lbCgnaXNTaG93bicpKSB7DQoJCQkJCQljb250ZXh0LmN1cnJlbnRQYWdlSW5kZXggPSAwOw0KCQkJCQkJbG9hZENvbnRlbnQoY29udGV4dCwgY29udGV4dC5jdXJyZW50UGFnZUluZGV4LCBmYWxzZSkudGhlbihmdW5jdGlvbihjb250ZW50KSB7DQoJCQkJCQkJYXBwZW5kVG9Qb3B1cChjb250ZXh0LCBjb250ZW50LCB0cnVlKTsNCgkJCQkJCX0pOw0KCQkJCQl9DQoJCQkJfSwNCgkJCQljb250ZW50OiBmdW5jdGlvbigpIHsNCgkJCQkJcmV0dXJuIGNvbnRleHQucG9wdXBDb250ZW50TGlzdDsNCgkJCQl9LA0KCQkJCWZvb3RlcjogZnVuY3Rpb24oKSB7DQoJCQkJCXJldHVybiBjb250ZXh0LmZvb3RlcjsNCgkJCQl9LA0KCQkJCWFjdGl2YXRlOiBmdW5jdGlvbigpIHsNCgkJCQkJaW5pdCgpOw0KCQkJCQlhY3RpdmF0ZSgkKGNvbnRleHQuYWN0aXZhdGlvbklucHV0IHx8IGNvbnRleHQuYWN0aXZhdGlvbkxpbmspLCBjb250ZXh0KTsNCgkJCQl9LA0KCQkJCWRlYWN0aXZhdGU6IGZ1bmN0aW9uKCkgew0KCQkJCQlkZWFjdGl2YXRlKGNvbnRleHQpOw0KCQkJCX0sDQoJCQkJbW92ZVVwOiBmdW5jdGlvbihoYW5kbGVyKSB7DQoJCQkJCW1vdmUoY29udGV4dCwgJ3VwJywgaGFuZGxlcik7DQoJCQkJfSwNCgkJCQltb3ZlRG93bjogZnVuY3Rpb24oaGFuZGxlcikgew0KCQkJCQltb3ZlKGNvbnRleHQsICdkb3duJywgaGFuZGxlcik7DQoJCQkJfQ0KCQkJfTsNCgkJfTsNCgkJLy8gcHVibGljIHN0YXRpYyBtZW1iZXJzIG9mIGEgSGVhZGVyTGlzdA0KCQlhcGkuaGlkZUN1cnJlbnQgPSBmdW5jdGlvbigpIHsNCgkJCWlmKG9wZW5IZWFkZXJMaXN0Q29udGV4dCkgew0KCQkJCWhpZGVQb3B1cChvcGVuSGVhZGVyTGlzdENvbnRleHQpOw0KCQkJfQ0KCQl9Ow0KDQoJCXJldHVybiBhcGk7DQoNCgl9KSgkKTsNCg0KCWZ1bmN0aW9uIGluaXROb3RpZmljYXRpb25MaXN0KGNvbnRleHQpIHsNCgkJdmFyIGRlYm91bmNlZE5vdGlmaWNhdGlvblJlYWRUaW1lb3V0Ow0KCQl2YXIgc3VwcHJlc3NOb3RpZmljYXRpb25zUmVhZE1lc3NhZ2UgPSBmYWxzZTsNCgkJdmFyIHN1cHByZXNzTm90aWZpY2F0aW9uc1JlYWRNZXNzYWdlVGltZW91dDsNCgkJdmFyIGN1cnJlbnRUb3RhbENvdW50ID0gMDsNCg0KCQlmdW5jdGlvbiBkaXNwbGF5Tm90aWZpY2F0aW9uUHJlZmVyZW5jZShjb250ZXh0LCBub3RpZmljYXRpb25JdGVtKSB7DQoJCQkvLyBzZXQgdGhlIG5vdGlmaWNhdGlvbiBsaXN0IHNpemUgZHVyaW5nIHByZWZlcmVuY2UtZGlzcGxheWluZyBzbyB0aGF0IGl0IGRvZXMgbm90IHJlc2l6ZSBvdXQgb2YgdGhlIGJvdW5kcyBvZiB0aGUgcG9wdXANCgkJCWNvbnRleHQubm90aWZpY2F0aW9uTGlzdCA9IGNvbnRleHQubm90aWZpY2F0aW9uTGlzdCB8fCBub3RpZmljYXRpb25JdGVtLmNsb3Nlc3QoJ3VsJyk7DQoJCQljb250ZXh0Lm5vdGlmaWNhdGlvbkxpc3QuY3NzKHsNCgkJCQloZWlnaHQ6IGNvbnRleHQubm90aWZpY2F0aW9uTGlzdC5oZWlnaHQoKQ0KCQkJfSk7DQoJCQlpZihjb250ZXh0LnByZWZlcmVuY2VVaSkgew0KCQkJCWhpZGVOb3RpZmljYXRpb25QcmVmZXJlbmNlKGNvbnRleHQsIGNvbnRleHQucHJlZmVyZW5jZVVpKTsNCgkJCQljb250ZXh0LnByZWZlcmVuY2VVaSA9IG51bGw7DQoJCQl9DQoJCQljb250ZXh0LnByZWZlcmVuY2VUZW1wbGF0ZSA9IGNvbnRleHQucHJlZmVyZW5jZVRlbXBsYXRlIHx8ICQudGVsbGlnZW50LmV2b2x1dGlvbi50ZW1wbGF0ZS5jb21waWxlKGNvbnRleHQubm90aWZpY2F0aW9uUHJlZmVyZW5jZVRlbXBsYXRlKTsNCgkJCWNvbnRleHQucHJlZmVyZW5jZVVpID0gJChjb250ZXh0LnByZWZlcmVuY2VUZW1wbGF0ZSh7DQoJCQkJCW5vdGlmaWNhdGlvblR5cGVOYW1lOiBub3RpZmljYXRpb25JdGVtLmRhdGEoJ25vdGlmaWNhdGlvbnR5cGVuYW1lJyksDQoJCQkJCW5vdGlmaWNhdGlvblR5cGVJZDogbm90aWZpY2F0aW9uSXRlbS5kYXRhKCdub3RpZmljYXRpb250eXBlaWQnKQ0KCQkJCX0pKQ0KCQkJCS5oaWRlKCkNCgkJCQkuYXBwZW5kVG8obm90aWZpY2F0aW9uSXRlbSk7DQoJCQljb250ZXh0LnByZWZlcmVuY2VVaS5jc3Moew0KCQkJCXBvc2l0aW9uOiAnYWJzb2x1dGUnLA0KCQkJCXRvcDogMCwNCgkJCQlsZWZ0OiAwLA0KCQkJCXpJbmRleDogMjAwMA0KCQkJfSk7DQoNCgkJCW5vdGlmaWNhdGlvbkl0ZW0uYWRkQ2xhc3MoJ3dpdGgtcHJlZmVyZW5jZScpOw0KCQkJbm90aWZpY2F0aW9uSXRlbS5kYXRhKCdvcmlnaW5hbEhlaWdodCcsIG5vdGlmaWNhdGlvbkl0ZW0ub3V0ZXJIZWlnaHQoKSk7DQoJCQlub3RpZmljYXRpb25JdGVtLmFuaW1hdGUoeyBoZWlnaHQ6IGNvbnRleHQucHJlZmVyZW5jZVVpLmhlaWdodCgpIH0sIDE1MCk7DQoNCgkJCWNvbnRleHQucHJlZmVyZW5jZVVpLmZhZGVUbygxNTAsIDAuOTgpOw0KCQl9DQoNCgkJZnVuY3Rpb24gaGlkZU5vdGlmaWNhdGlvblByZWZlcmVuY2UoY29udGV4dCwgcHJlZmVyZW5jZUl0ZW0pIHsNCgkJCWNvbnRleHQubm90aWZpY2F0aW9uTGlzdC5jc3MoeyBoZWlnaHQ6ICdhdXRvJyB9KTsNCgkJCWlmKHByZWZlcmVuY2VJdGVtKSB7DQoJCQkJdmFyIG5vdGlmaWNhdGlvbkl0ZW0gPSBwcmVmZXJlbmNlSXRlbS5wYXJlbnQoKTsNCgkJCQlub3RpZmljYXRpb25JdGVtLmFuaW1hdGUoeyBoZWlnaHQ6IG5vdGlmaWNhdGlvbkl0ZW0uZGF0YSgnb3JpZ2luYWxIZWlnaHQnKSB9LCAxNTApOw0KCQkJCXByZWZlcmVuY2VJdGVtLmZhZGVPdXQoMTUwLCBmdW5jdGlvbigpew0KCQkJCQlub3RpZmljYXRpb25JdGVtLnJlbW92ZUNsYXNzKCd3aXRoLXByZWZlcmVuY2UnKTsNCgkJCQkJcHJlZmVyZW5jZUl0ZW0ucmVtb3ZlKCk7DQoJCQkJfSk7DQoJCQl9DQoJCX0NCg0KCQlmdW5jdGlvbiBkaXNhYmxlTm90aWZpY2F0aW9uVHlwZShjb250ZXh0LCBub3RpZmljYXRpb25UeXBlSWQpIHsNCgkJCXJldHVybiAkLnRlbGxpZ2VudC5ldm9sdXRpb24ucHV0KHsNCgkJCQl1cmw6ICQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdhcGkuYXNoeC92Mi9ub3RpZmljYXRpb25wcmVmZXJlbmNlLmpzb24nLA0KCQkJCWRhdGE6IHsNCgkJCQkJTm90aWZpY2F0aW9uVHlwZUlkOiBub3RpZmljYXRpb25UeXBlSWQsDQoJCQkJCUlzRW5hYmxlZDogZmFsc2UNCgkJCQl9LA0KCQkJCWRhdGFUeXBlOiAnanNvbicNCgkJCX0pOw0KCQl9DQoNCgkJZnVuY3Rpb24gaW5pdE5vdGlmaWNhdGlvbkl0ZW1IYW5kbGVycygpIHsNCgkJCS8vIG1hcmsgaW5kaXZpZHVhbCBub3RpZmljYXRpb25zIGFzIHJlYWQNCgkJCWNvbnRleHQubm90aWZpY2F0aW9uc0xpc3QuY29udGVudCgpLm9uKCdjbGljaycsICcubWFyayBhJywgZnVuY3Rpb24oZSkgew0KCQkJCWUucHJldmVudERlZmF1bHQoKTsNCgkJCQl2YXIgbWFya0xpbmsgPSAkKGUudGFyZ2V0KTsNCgkJCQl2YXIgbm90aWZpY2F0aW9uTGluZUl0ZW0gPSAkKHRoaXMpLmNsb3Nlc3QoJ2xpJyk7DQoJCQkJdmFyIG5vdGlmaWNhdGlvbklkID0gbm90aWZpY2F0aW9uTGluZUl0ZW0uZGF0YSgnbm90aWZpY2F0aW9uaWQnKTsNCgkJCQltYXJrTm90aWZpY2F0aW9uQXNSZWFkKG5vdGlmaWNhdGlvbklkKS50aGVuKGZ1bmN0aW9uKCl7DQoJCQkJCW1hcmtMaW5rLmhpZGUoKTsNCgkJCQkJbm90aWZpY2F0aW9uTGluZUl0ZW0ucmVtb3ZlQ2xhc3MoJ3VucmVhZCcpOw0KCQkJCQljb250ZXh0Lm5vdGlmaWNhdGlvbnNMaXN0LnJlZnJlc2hVbnJlYWRDb3VudCgpDQoJCQkJfSk7DQoJCQkJcmV0dXJuIGZhbHNlOw0KCQkJfSk7DQoNCgkJCS8vIGRpc3BsYXkgcHJlZmVyZW5jZSBjaGFuZ2UgdWkgb24gJ3gnIGNsaWNrDQoJCQljb250ZXh0Lm5vdGlmaWNhdGlvbnNMaXN0LmNvbnRlbnQoKS5vbignY2xpY2snLCAnLnByZWZlcmVuY2UgYScsIGZ1bmN0aW9uKGUpIHsNCgkJCQllLnByZXZlbnREZWZhdWx0KCk7DQoJCQkJZGlzcGxheU5vdGlmaWNhdGlvblByZWZlcmVuY2UoY29udGV4dCwgJCh0aGlzKS5jbG9zZXN0KCdsaScpKTsNCgkJCQlyZXR1cm4gZmFsc2U7DQoJCQl9KTsNCg0KCQkJLy8gaGFuZGxlIGNhbmNlbHMgb2YgcHJlZmVyZW5jZSBjaGFuZ2Ugd2hlbiBjbGlja2luZyAnY2FuY2VsJw0KCQkJY29udGV4dC5ub3RpZmljYXRpb25zTGlzdC5jb250ZW50KCkub24oJ2NsaWNrJywgJy5ub3RpZmljYXRpb24tcHJlZmVyZW5jZSAuY2FuY2VsJywgZnVuY3Rpb24oZSl7DQoJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOw0KCQkJCWUuc3RvcFByb3BhZ2F0aW9uKCk7DQoJCQkJaGlkZU5vdGlmaWNhdGlvblByZWZlcmVuY2UoY29udGV4dCwgJCh0aGlzKS5jbG9zZXN0KCcubm90aWZpY2F0aW9uLXByZWZlcmVuY2UnKSk7DQoJCQkJY29udGV4dC5wcmVmZXJlbmNlVWkgPSBudWxsOw0KCQkJCXJldHVybiBmYWxzZTsNCgkJCX0pOw0KDQoJCQkvLyBoYW5kbGUgY2FuY2VscyBvZiBwcmVmZXJlbmNlIGNoYW5nZSBieSBjbGlja2luZyBhbnl0aGluZyBvdGhlciB0aGFuICd0dXJuIG9mZicNCgkJCWNvbnRleHQubm90aWZpY2F0aW9uc0xpc3QuY29udGVudCgpLm9uKCdjbGljaycsICcubm90aWZpY2F0aW9uLXByZWZlcmVuY2UnLCBmdW5jdGlvbihlKXsNCgkJCQllLnByZXZlbnREZWZhdWx0KCk7DQoJCQkJZS5zdG9wUHJvcGFnYXRpb24oKTsNCgkJCQloaWRlTm90aWZpY2F0aW9uUHJlZmVyZW5jZShjb250ZXh0LCAkKHRoaXMpKTsNCgkJCQljb250ZXh0LnByZWZlcmVuY2VVaSA9IG51bGw7DQoJCQkJcmV0dXJuIGZhbHNlOw0KCQkJfSk7DQoNCgkJCS8vIGhhbmRsZSBjb25maXJtZWQgcHJlZmVyZW5jZSBjaGFuZ2VzDQoJCQljb250ZXh0Lm5vdGlmaWNhdGlvbnNMaXN0LmNvbnRlbnQoKS5vbignY2xpY2snLCAnLm5vdGlmaWNhdGlvbi1wcmVmZXJlbmNlIC5jb25maXJtJywgZnVuY3Rpb24oZSl7DQoJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOw0KCQkJCXZhciBub3RpZmljYXRpb25QcmVmZXJlbmNlID0gJCh0aGlzKS5jbG9zZXN0KCcubm90aWZpY2F0aW9uLXByZWZlcmVuY2UnKSwNCgkJCQkJbm90aWZpY2F0aW9uSXRlbSA9IG5vdGlmaWNhdGlvblByZWZlcmVuY2UuY2xvc2VzdCgnbGknKTsNCgkJCQlkaXNhYmxlTm90aWZpY2F0aW9uVHlwZShjb250ZXh0LCAkKHRoaXMpLmRhdGEoJ25vdGlmaWNhdGlvbnR5cGVpZCcpKS50aGVuKGZ1bmN0aW9uKCl7DQoJCQkJCW5vdGlmaWNhdGlvbkl0ZW0uZmFkZU91dCgyMDAsIGZ1bmN0aW9uKCkgew0KCQkJCQkJbm90aWZpY2F0aW9uUHJlZmVyZW5jZS5yZW1vdmUoKTsNCgkJCQkJCW5vdGlmaWNhdGlvbkl0ZW0ucmVtb3ZlKCk7DQoJCQkJCX0pOw0KCQkJCQljb250ZXh0LnByZWZlcmVuY2VVaSA9IG51bGw7DQoJCQkJfSk7DQoJCQkJcmV0dXJuIGZhbHNlOw0KCQkJfSk7DQoJCX07DQoNCgkJZnVuY3Rpb24gbWFya05vdGlmaWNhdGlvbkFzUmVhZChub3RpZmljYXRpb25JZCkgew0KCQkJY2xlYXJUaW1lb3V0KHN1cHByZXNzTm90aWZpY2F0aW9uc1JlYWRNZXNzYWdlVGltZW91dCk7DQoJCQlzdXBwcmVzc05vdGlmaWNhdGlvbnNSZWFkTWVzc2FnZSA9IHRydWU7DQoJCQl2YXIgbWFya05vdGlmaWNhdGlvblByb21pc2UgPSAkLnRlbGxpZ2VudC5ldm9sdXRpb24ucHV0KHsNCgkJCQl1cmw6ICQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdhcGkuYXNoeC92Mi9ub3RpZmljYXRpb24ve05vdGlmaWNhdGlvbklkfS5qc29uJywNCgkJCQlkYXRhOiB7DQoJCQkJCU5vdGlmaWNhdGlvbklkOiBub3RpZmljYXRpb25JZCwNCgkJCQkJTWFya0FzUmVhZDogdHJ1ZQ0KCQkJCX0NCgkJCX0pOw0KCQkJbWFya05vdGlmaWNhdGlvblByb21pc2UuZG9uZShmdW5jdGlvbigpew0KCQkJCXN1cHByZXNzTm90aWZpY2F0aW9uc1JlYWRNZXNzYWdlVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXsNCgkJCQkJc3VwcHJlc3NOb3RpZmljYXRpb25zUmVhZE1lc3NhZ2UgPSBmYWxzZTsNCgkJCQl9LCA1MDAwKTsNCgkJCX0pOw0KCQkJcmV0dXJuIG1hcmtOb3RpZmljYXRpb25Qcm9taXNlOw0KCQl9DQoNCgkJZnVuY3Rpb24gbWFya0FsbEFzUmVhZCgpIHsNCgkJCXZhciB1bnJlYWRJdGVtcyA9IGNvbnRleHQubm90aWZpY2F0aW9uc0xpc3QuY29udGVudCgpLmZpbmQoJz4gbGkudW5yZWFkJyk7DQoJCQkvLyByZW1vdmUgdW5yZWFkIFVJIHN0YXRlIGltbWVkaWF0ZWx5IGJlZm9yZSB3YWl0aW5nIGZvciBzZXJ2ZXIgY2hhbmdlDQoJCQl1bnJlYWRJdGVtcy5yZW1vdmVDbGFzcygndW5yZWFkJyk7DQoJCQljbGVhclRpbWVvdXQoc3VwcHJlc3NOb3RpZmljYXRpb25zUmVhZE1lc3NhZ2VUaW1lb3V0KTsNCgkJCXN1cHByZXNzTm90aWZpY2F0aW9uc1JlYWRNZXNzYWdlID0gdHJ1ZTsNCgkJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5iYXRjaChmdW5jdGlvbigpew0KCQkJCS8vIGxvb3AgdGhyb3VnaCBhbGwgb2YgdGhlIGN1cnJlbnRseSB2aXNpYmxlIHVucmVhZCBub3RpZmljYXRpb24gaXRlbXMNCgkJCQl1bnJlYWRJdGVtcy5lYWNoKGZ1bmN0aW9uKCl7DQoJCQkJCS8vIGFuZCBtYXJrIHRoZSBub3RpZmljYWl0b24gYXMgcmVhZA0KCQkJCQltYXJrTm90aWZpY2F0aW9uQXNSZWFkKCQodGhpcykuZGF0YSgnbm90aWZpY2F0aW9uaWQnKSk7DQoJCQkJfSk7DQoJCQl9KS50aGVuKGZ1bmN0aW9uKCl7DQoJCQkJY29udGV4dC5ub3RpZmljYXRpb25zTGlzdC5yZWZyZXNoQ29udGVudCgpOw0KCQkJCWNvbnRleHQubm90aWZpY2F0aW9uc0xpc3QucmVmcmVzaFVucmVhZENvdW50KCkNCgkJCQlzdXBwcmVzc05vdGlmaWNhdGlvbnNSZWFkTWVzc2FnZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7DQoJCQkJCXN1cHByZXNzTm90aWZpY2F0aW9uc1JlYWRNZXNzYWdlID0gZmFsc2U7DQoJCQkJfSwgNTAwMCk7DQoJCQl9KTsNCgkJfQ0KDQoJCWNvbnRleHQubm90aWZpY2F0aW9uc0xpc3QgPSBIZWFkZXJMaXN0KHsNCgkJCWtleTogJ25vdGlmaWNhdGlvbnMnLA0KCQkJZm9vdGVyQ29udGVudDogY29udGV4dC5ub3RpZmljYXRpb25MaXN0Rm9vdGVyQ29udGVudCwNCgkJCWluaXRpYWxVbnJlYWRDb3VudDogY29udGV4dC5ub3RpZmljYXRpb25zVW5yZWFkLA0KCQkJYWN0aXZhdGlvbkxpbms6IGNvbnRleHQubm90aWZpY2F0aW9uc0xpbmssDQoJCQllbmRsZXNzU2Nyb2xsOiB0cnVlLA0KCQkJdGl0bGVDb3VudDogdHJ1ZSwNCgkJCWxpbWl0Q291bnQ6IDk5LA0KCQkJY3NzQ2xhc3M6ICdub3RpZmljYXRpb25zJywNCgkJCXVucmVhZENvdW50TWVzc2FnZVNpbmd1bGFyOiBjb250ZXh0Lm5vdGlmaWNhdGlvbnNzVW5yZWFkQ291bnRNZXNzYWdlU2luZ3VsYXIsDQoJCQl1bnJlYWRDb3VudE1lc3NhZ2VQbHVyYWw6IGNvbnRleHQubm90aWZpY2F0aW9uc3NVbnJlYWRDb3VudE1lc3NhZ2VQbHVyYWwsDQoJCQl3cmFwcGVyOiBjb250ZXh0LmJhbm5lciwNCgkJCWhhbmRoZWxkQmFubmVyTGlua3NDb3VudDogY29udGV4dC5oYW5kaGVsZEJhbm5lckxpbmtzQ291bnQsDQoJCQlvbkxvYWQ6IGZ1bmN0aW9uKHBhZ2VJbmRleCwgc2hvdWxkUmVmcmVzaFVucmVhZENvdW50LCBmaWx0ZXIsIGNvbXBsZXRlKSB7DQoJCQkJaWYoIWNvbnRleHQuaXNJbml0ZWQpIHsNCgkJCQkJY29udGV4dC5pc0luaXRlZCA9IHRydWU7DQoJCQkJCWluaXROb3RpZmljYXRpb25JdGVtSGFuZGxlcnMoKTsNCgkJCQl9DQoJCQkJaWYoY29udGV4dC5ub3RpZmljYXRpb25MaXN0KSB7DQoJCQkJCWNvbnRleHQubm90aWZpY2F0aW9uTGlzdC5jc3MoeyBoZWlnaHQ6ICdhdXRvJyB9KTsNCgkJCQl9DQoJCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmdldCh7DQoJCQkJCXVybDogY29udGV4dC5ub3RpZmljYXRpb25zVXJsLA0KCQkJCQlkYXRhOiB7DQoJCQkJCQl3X3BhZ2VJbmRleDogcGFnZUluZGV4LA0KCQkJCQkJd19maWx0ZXI6IChjdXJyZW50VG90YWxDb3VudCA+IDAgPyAoZmlsdGVyIHx8ICdhbGwnKSA6ICdhbGwnKQ0KCQkJCQl9LA0KCQkJCQlzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkgew0KCQkJCQkJLy8gc2hvdyByZXNwb25zZQ0KCQkJCQkJY29tcGxldGUocmVzcG9uc2UpOw0KCQkJCQkJLy8gdXBkYXRlIGNvdW50DQoJCQkJCQlpZihzaG91bGRSZWZyZXNoVW5yZWFkQ291bnQpDQoJCQkJCQkJY29udGV4dC5ub3RpZmljYXRpb25zTGlzdC5yZWZyZXNoVW5yZWFkQ291bnQoKTsNCgkJCQkJfQ0KCQkJCX0pOw0KCQkJfSwNCgkJCW9uUmVmcmVzaFVucmVhZENvdW50OiBmdW5jdGlvbihjb21wbGV0ZSkgew0KCQkJCS8vIGZpbmQgdGhlIG1hcmsgYXMgcmVhZCBsaW5rIGlmIG5vdCBhbHJlYWR5IGZvdW5kDQoJCQkJaWYoIWNvbnRleHQubm90aWZpY2F0aW9uTWFya0FzUmVhZExpbmsgJiYgY29udGV4dC5ub3RpZmljYXRpb25zTGlzdCkgew0KCQkJCQl2YXIgZm9vdGVyID0gY29udGV4dC5ub3RpZmljYXRpb25zTGlzdC5mb290ZXIoKTsNCgkJCQkJaWYoZm9vdGVyKSB7DQoJCQkJCQljb250ZXh0Lm5vdGlmaWNhdGlvbk1hcmtBc1JlYWRMaW5rID0gZm9vdGVyLmZpbmQoJ2EubWFyay1yZWFkJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSl7DQoJCQkJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOw0KCQkJCQkJCW1hcmtBbGxBc1JlYWQoKTsNCgkJCQkJCQlyZXR1cm4gZmFsc2U7DQoJCQkJCQl9KTsNCgkJCQkJfQ0KCQkJCX0NCgkJCQl2YXIgcXVlcnkgPSB7DQoJCQkJCUlzUmVhZDogZmFsc2UsDQoJCQkJCVBhZ2VTaXplOiAxLA0KCQkJCQlQYWdlSW5kZXg6IDANCgkJCQl9Ow0KCQkJCS8vIGV4Y2x1ZGUgY29udmVyc2F0aW9uIG5vdGlmaWNhdGlvbnMNCgkJCQlxdWVyeVsnX0ZpbHRlcnNfJyArIGNvbnRleHQuY29udmVyc2F0aW9uTm90aWZpY2F0aW9uVHlwZUlkXSA9ICdFeGNsdWRlJzsNCgkJCQlyZXR1cm4gJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmdldCh7DQoJCQkJCXVybDogJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnNpdGUuZ2V0QmFzZVVybCgpICsgJ2FwaS5hc2h4L3YyL25vdGlmaWNhdGlvbnMuanNvbicsDQoJCQkJCWNhY2hlOiBmYWxzZSwNCgkJCQkJZGF0YTogcXVlcnksDQoJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7DQoJCQkJCQljb21wbGV0ZShyZXNwb25zZS5Ub3RhbENvdW50KTsNCgkJCQkJCWlmKGNvbnRleHQubm90aWZpY2F0aW9uTWFya0FzUmVhZExpbmspIHsNCgkJCQkJCQljdXJyZW50VG90YWxDb3VudCA9IHJlc3BvbnNlLlRvdGFsQ291bnQ7DQoJCQkJCQkJaWYocmVzcG9uc2UuVG90YWxDb3VudCA+IDApIHsNCgkJCQkJCQkJY29udGV4dC5ub3RpZmljYXRpb25NYXJrQXNSZWFkTGluay5zaG93KCk7DQoJCQkJCQkJCWNvbnRleHQubm90aWZpY2F0aW9uc0ZpbHRlci5zbGlkZURvd24oMTAwKTsNCgkJCQkJCQl9IGVsc2Ugew0KCQkJCQkJCQljb250ZXh0Lm5vdGlmaWNhdGlvbk1hcmtBc1JlYWRMaW5rLmhpZGUoKTsNCgkJCQkJCQkJY29udGV4dC5ub3RpZmljYXRpb25zRmlsdGVyLnNsaWRlVXAoMTAwKTsNCgkJCQkJCQl9DQoJCQkJCQl9DQoJCQkJCX0sDQoJCQkJCWVycm9yOiB7IH0NCgkJCQl9KTsNCgkJCX0sDQoJCQl0ZW1wbGF0ZTogY29udGV4dC5ub3RpZmljYXRpb25zVGVtcGxhdGUsDQoJCQlvblNob3c6IGZ1bmN0aW9uKGFjdGl2YXRvciwgY29tcGxldGUpIHsNCgkJCQljb21wbGV0ZShidWlsZFNob3dTZXR0aW5ncyhjb250ZXh0LCBhY3RpdmF0b3IsIHt9KSk7DQoJCQl9LA0KCQkJb25TZWxlY3Q6IGZ1bmN0aW9uKGl0ZW0pIHsNCgkJCQlpdGVtID0gJChpdGVtKTsNCgkJCQl2YXIgbm90aWZpY2F0aW9uSWQgPSBpdGVtLmRhdGEoJ25vdGlmaWNhdGlvbmlkJyksDQoJCQkJCWNvbnRlbnRVcmwgPSBpdGVtLmRhdGEoJ2NvbnRlbnR1cmwnKTsNCg0KCQkJCWlmKGl0ZW0uaGFzQ2xhc3MoJ3VucmVhZCcpKSB7DQoJCQkJCS8vIG1hcmsgYXMgcmVhZA0KCQkJCQltYXJrTm90aWZpY2F0aW9uQXNSZWFkKG5vdGlmaWNhdGlvbklkKS50aGVuKGZ1bmN0aW9uKCl7DQoJCQkJCQkvLyB0aGVuIG5hdmlnYXRlIHRvIGl0IGlmIGRpZmZlcmVudCBvciBqdXN0IHJlZnJlc2ggdGhlIHVucmVhZCBjb3VudA0KCQkJCQkJaWYod2luZG93LmxvY2F0aW9uLmhyZWYgIT0gY29udGVudFVybCkgew0KCQkJCQkJCXdpbmRvdy5sb2NhdGlvbi5ocmVmID0gY29udGVudFVybDsNCgkJCQkJCX0gZWxzZSB7DQoJCQkJCQkJY29udGV4dC5ub3RpZmljYXRpb25zTGlzdC5yZWZyZXNoVW5yZWFkQ291bnQoKTsNCgkJCQkJCX0NCgkJCQkJfSk7DQoJCQkJfSBlbHNlIHsNCgkJCQkJd2luZG93LmxvY2F0aW9uLmhyZWYgPSBjb250ZW50VXJsOw0KCQkJCX0NCgkJCX0sDQoJCQlvbkJ1aWxkRmlsdGVyOiBmdW5jdGlvbihmaWx0ZXJlZCkgew0KCQkJCXZhciBmaWx0ZXJUZW1wbGF0ZSA9ICQudGVsbGlnZW50LmV2b2x1dGlvbi50ZW1wbGF0ZS5jb21waWxlKGNvbnRleHQubm90aWZpY2F0aW9uc0ZpbHRlclRlbXBsYXRlKTsNCgkJCQljb250ZXh0Lm5vdGlmaWNhdGlvbnNGaWx0ZXIgPSAkKGZpbHRlclRlbXBsYXRlKHt9KSk7DQoJCQkJY29udGV4dC5ub3RpZmljYXRpb25zRmlsdGVyLmZpbmQoJ2E6Zmlyc3QnKS5hZGRDbGFzcygnc2VsZWN0ZWQnKTsNCgkJCQljb250ZXh0Lm5vdGlmaWNhdGlvbnNGaWx0ZXIub24oJ2NsaWNrJywnYScsIGZ1bmN0aW9uKGUpew0KCQkJCQllLnByZXZlbnREZWZhdWx0KCk7DQoJCQkJCWUuc3RvcFByb3BhZ2F0aW9uKCk7DQoJCQkJCXZhciB0YXJnZXQgPSAkKGUudGFyZ2V0KTsNCgkJCQkJdGFyZ2V0LmNsb3Nlc3QoJ3VsJykuZmluZCgnYScpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpOw0KCQkJCQl0YXJnZXQuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7DQoJCQkJCWZpbHRlcmVkKHRhcmdldC5kYXRhKCdmaWx0ZXInKSk7DQoJCQkJfSk7DQoNCgkJCQlyZXR1cm4gY29udGV4dC5ub3RpZmljYXRpb25zRmlsdGVyLmhpZGUoKTsNCgkJCX0NCgkJfSk7DQoNCgkJLy8gdXBkYXRlIHRoZSBub3RpZmljYXRpb24gbGlzdCdzIGNvdW50IHdoZW4gYSBuZXcgbm90aWZpY2F0aW9uIGlzIHJlY2VpdmVkIHdoaWNoIGlzbid0IGEgY29udmVyc2F0aW9uIHR5cGUNCgkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLm1lc3NhZ2luZy5zdWJzY3JpYmUoJ25vdGlmaWNhdGlvbi5yYWlzZWQnLCBmdW5jdGlvbihub3RpZmljYXRpb24pIHsNCgkJCWlmKG5vdGlmaWNhdGlvbi50eXBlSWQgIT09IGNvbnRleHQuY29udmVyc2F0aW9uTm90aWZpY2F0aW9uVHlwZUlkKSB7DQoJCQkJY29udGV4dC5ub3RpZmljYXRpb25zTGlzdC5yZWZyZXNoVW5yZWFkQ291bnQoKS50aGVuKGZ1bmN0aW9uKCl7DQoJCQkJCWNvbnRleHQubm90aWZpY2F0aW9uc0xpc3QucmVmcmVzaENvbnRlbnQoKTsNCgkJCQl9KTsNCgkJCX0NCgkJfSk7DQoNCgkJLy8gdXBkYXRlIHRoZSBub3RpZmljYXRpb24gbGlzdCdzIGNvdW50IHdoZW4gYSBuZXcgbm90aWZpY2F0aW9uIGlzIHJlY2VpdmVkIHdoaWNoIGlzbid0IGEgY29udmVyc2F0aW9uIHR5cGUNCgkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLm1lc3NhZ2luZy5zdWJzY3JpYmUoJ25vdGlmaWNhdGlvbi5yZWFkJywgZnVuY3Rpb24obm90aWZpY2F0aW9uKSB7DQoJCQlpZihub3RpZmljYXRpb24udHlwZUlkICE9PSBjb250ZXh0LmNvbnZlcnNhdGlvbk5vdGlmaWNhdGlvblR5cGVJZCkgew0KCQkJCS8vIHdhaXQgdW50aWwgYSBnYXAgaW4gbm90aWZpY2F0aW9uLnJlYWQgZXZlbnRzLCBpbiBjYXNlIG1hbnkgaGF2ZSBqdXN0IGJlZW4gcmVjZWl2ZWQNCgkJCQljbGVhclRpbWVvdXQoZGVib3VuY2VkTm90aWZpY2F0aW9uUmVhZFRpbWVvdXQpOw0KCQkJCWRlYm91bmNlZE5vdGlmaWNhdGlvblJlYWRUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpew0KCQkJCQlpZihzdXBwcmVzc05vdGlmaWNhdGlvbnNSZWFkTWVzc2FnZSkgew0KCQkJCQkJcmV0dXJuOw0KCQkJCQl9DQoJCQkJCWNvbnRleHQubm90aWZpY2F0aW9uc0xpc3QucmVmcmVzaFVucmVhZENvdW50KCkudGhlbihmdW5jdGlvbigpew0KCQkJCQkJY29udGV4dC5ub3RpZmljYXRpb25zTGlzdC5yZWZyZXNoQ29udGVudCgpOw0KCQkJCQl9KTsNCgkJCQl9LCAxMDApOw0KCQkJfQ0KCQl9KTsNCg0KCQlyZXR1cm4gY29udGV4dC5ub3RpZmljYXRpb25zTGlzdDsNCgl9DQoNCglmdW5jdGlvbiBpbml0Q29udmVyc2F0aW9uTGlzdChjb250ZXh0KSB7DQoNCgkJY29udGV4dC5jb252ZXJzYXRpb25zTGlzdCA9IEhlYWRlckxpc3Qoew0KCQkJa2V5OiAnY29udmVyc2F0aW9ucycsDQoJCQlmb290ZXJDb250ZW50OiBjb250ZXh0LmNvbnZlcnNhdGlvbkxpc3RGb290ZXJDb250ZW50LA0KCQkJaW5pdGlhbFVucmVhZENvdW50OiBjb250ZXh0LmNvbnZlcnNhdGlvbnNVbnJlYWQsDQoJCQlhY3RpdmF0aW9uTGluazogY29udGV4dC5jb252ZXJzYXRpb25zTGluaywNCgkJCWVuZGxlc3NTY3JvbGw6IHRydWUsDQoJCQl0aXRsZUNvdW50OiB0cnVlLA0KCQkJY3NzQ2xhc3M6ICdjb252ZXJzYXRpb25zJywNCgkJCXVucmVhZENvdW50TWVzc2FnZVNpbmd1bGFyOiBjb250ZXh0LmNvbnZlcnNhdGlvbnNVbnJlYWRDb3VudE1lc3NhZ2VTaW5ndWxhciwNCgkJCXVucmVhZENvdW50TWVzc2FnZVBsdXJhbDogY29udGV4dC5jb252ZXJzYXRpb25zVW5yZWFkQ291bnRNZXNzYWdlUGx1cmFsLA0KCQkJd3JhcHBlcjogY29udGV4dC5iYW5uZXIsDQoJCQloYW5kaGVsZEJhbm5lckxpbmtzQ291bnQ6IGNvbnRleHQuaGFuZGhlbGRCYW5uZXJMaW5rc0NvdW50LA0KCQkJb25Mb2FkOiBmdW5jdGlvbihwYWdlSW5kZXgsIHNob3VsZFJlZnJlc2hVbnJlYWRDb3VudCwgZmlsdGVyLGNvbXBsZXRlKSB7DQoJCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmdldCh7DQoJCQkJCXVybDogY29udGV4dC5jb252ZXJzYXRpb25zVXJsLA0KCQkJCQlkYXRhOiB7DQoJCQkJCQl3X3BhZ2VJbmRleDogcGFnZUluZGV4DQoJCQkJCX0sDQoJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7DQoJCQkJCQkvLyBzaG93IHJlc3BvbnNlDQoJCQkJCQljb21wbGV0ZShyZXNwb25zZSk7DQoJCQkJCQkvLyB1cGRhdGUgY291bnQNCgkJCQkJCWlmKHNob3VsZFJlZnJlc2hVbnJlYWRDb3VudCkNCgkJCQkJCQljb250ZXh0LmNvbnZlcnNhdGlvbnNMaXN0LnJlZnJlc2hVbnJlYWRDb3VudCgpOw0KCQkJCQl9DQoJCQkJfSk7DQoJCQl9LA0KCQkJb25SZWZyZXNoVW5yZWFkQ291bnQ6IGZ1bmN0aW9uKGNvbXBsZXRlKSB7DQoJCQkJcmV0dXJuICQudGVsbGlnZW50LmV2b2x1dGlvbi5nZXQoew0KCQkJCQl1cmw6ICQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdhcGkuYXNoeC92Mi9jb252ZXJzYXRpb25zLmpzb24nLA0KCQkJCQljYWNoZTogZmFsc2UsDQoJCQkJCWRhdGE6IHsNCgkJCQkJCVJlYWRTdGF0dXM6ICdVbnJlYWQnDQoJCQkJCX0sDQoJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7DQoJCQkJCQljb21wbGV0ZShyZXNwb25zZS5Ub3RhbENvdW50KTsNCgkJCQkJfSwNCgkJCQkJZXJyb3I6IHsgfQ0KCQkJCX0pOw0KCQkJfSwNCgkJCXRlbXBsYXRlOiBjb250ZXh0LmNvbnZlcnNhdGlvbnNUZW1wbGF0ZSwNCgkJCW9uU2hvdzogZnVuY3Rpb24oYWN0aXZhdG9yLCBjb21wbGV0ZSkgew0KCQkJCWNvbXBsZXRlKGJ1aWxkU2hvd1NldHRpbmdzKGNvbnRleHQsIGFjdGl2YXRvciwge30pKTsNCgkJCX0NCgkJfSk7DQoNCgkJLy8gdXBkYXRlIHRoZSBtZXNzYWdlIGxpc3QncyBjb3VudCB3aGVuIGEgbmV3IG5vdGlmaWNhdGlvbiBpcyByZWNlaXZlZCB3aGljaCBpcyBhIGNvbnZlcnNhdGlvbiB0eXBlDQoJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5tZXNzYWdpbmcuc3Vic2NyaWJlKCdub3RpZmljYXRpb24ucmFpc2VkJywgZnVuY3Rpb24obm90aWZpY2F0aW9uKSB7DQoJCQlpZihub3RpZmljYXRpb24udHlwZUlkID09PSBjb250ZXh0LmNvbnZlcnNhdGlvbk5vdGlmaWNhdGlvblR5cGVJZCkgew0KCQkJCWNvbnRleHQuY29udmVyc2F0aW9uc0xpc3QucmVmcmVzaFVucmVhZENvdW50KCkudGhlbihmdW5jdGlvbigpew0KCQkJCQljb250ZXh0LmNvbnZlcnNhdGlvbnNMaXN0LnJlZnJlc2hDb250ZW50KCk7DQoJCQkJfSk7DQoJCQl9DQoJCX0pOw0KDQoJCS8vIHVwZGF0ZSB0aGUgbWVzc2FnZSBsaXN0J3MgY291bnQgd2hlbiBhIG1lc3NhZ2Ugd2FzIHJlYWQgb24gdGhlIGNvbnZlcnNhdGlvbiBsaXN0DQoJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5tZXNzYWdpbmcuc3Vic2NyaWJlKCd1aS5tZXNzYWdlcmVhZCcsIGZ1bmN0aW9uKG5vdGlmaWNhdGlvbikgew0KCQkJY29udGV4dC5jb252ZXJzYXRpb25zTGlzdC5yZWZyZXNoVW5yZWFkQ291bnQoKTsNCgkJfSk7DQoNCgkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLm1lc3NhZ2luZy5zdWJzY3JpYmUoY29udGV4dC5tZXNzYWdlUHJlZml4ICsgJ3N0YXJ0Y29udmVyc2F0aW9uJywgZnVuY3Rpb24oKXsNCgkJCSQuZ2xvd01vZGFsKGNvbnRleHQuY29udmVyc2F0aW9uTmV3Q29udmVyc2F0aW9uTW9kYWxVcmwsIHsNCgkJCQl3aWR0aDogNTUwLA0KCQkJCWhlaWdodDogMzYwDQoJCQl9KTsNCgkJfSk7DQoNCgkJcmV0dXJuIGNvbnRleHQuY29udmVyc2F0aW9uc0xpc3Q7DQoJfQ0KDQoJZnVuY3Rpb24gaW5pdEJvb2ttYXJrc0xpc3QoY29udGV4dCkgew0KCQkvLyBnZXRzIGFsbCBzZWxlY3RlZCBjb250ZW50IHR5cGVzIGZyb20gdGhlIGNvbnRlbnQgdHlwZSBmaWx0ZXINCgkJZnVuY3Rpb24gZ2V0Q3VycmVudENvbnRlbnRUeXBlcyhib29rbWFya0ZpbHRlcikgew0KCQkJdmFyIGNvbnRlbnRUeXBlcyA9IFtdOw0KCQkJdmFyIHNlbGVjdGVkRmlsdGVycyA9IGNvbnRleHQuYm9va21hcmtGaWx0ZXIuZmluZCgnYS5zZWxlY3RlZCcpLmVhY2goZnVuY3Rpb24oKXsNCgkJCQljb250ZW50VHlwZXMucHVzaCgkKHRoaXMpLmRhdGEoJ2NvbnRlbnR0eXBlaWRzJykpOw0KCQkJfSk7DQoJCQlyZXR1cm4gY29udGVudFR5cGVzLmpvaW4oJywnKTsNCgkJfTsNCg0KCQljb250ZXh0LmJvb2ttYXJrc0xpc3QgPSBIZWFkZXJMaXN0KHsNCgkJCWtleTogJ2Jvb2ttYXJrcycsDQoJCQlmb290ZXJDb250ZW50OiBjb250ZXh0LmJvb2ttYXJrc0xpc3RGb290ZXJDb250ZW50LA0KCQkJYWN0aXZhdGlvbkxpbms6IGNvbnRleHQuYm9va21hcmtzTGluaywNCgkJCWVuZGxlc3NTY3JvbGw6IHRydWUsDQoJCQlpbml0aWFsVW5yZWFkQ291bnQ6IGNvbnRleHQuYm9va21hcmtzSXNCb29rbWFya2VkID8gMSA6IDAsDQoJCQl0aXRsZUNvdW50OiBmYWxzZSwNCgkJCXNob3dDb3VudDogZmFsc2UsDQoJCQljc3NDbGFzczogJ2Jvb2ttYXJrcycsDQoJCQl3cmFwcGVyOiBjb250ZXh0LmJhbm5lciwNCgkJCWhhbmRoZWxkQmFubmVyTGlua3NDb3VudDogY29udGV4dC5oYW5kaGVsZEJhbm5lckxpbmtzQ291bnQsDQoJCQl1bnJlYWRDb3VudE1lc3NhZ2VTaW5ndWxhcjogY29udGV4dC5ib29rbWFya3NCb29rbWFya3MsDQoJCQl1bnJlYWRDb3VudE1lc3NhZ2VQbHVyYWw6IGNvbnRleHQuYm9va21hcmtzQm9va21hcmtzLA0KCQkJb25Mb2FkOiBmdW5jdGlvbihwYWdlSW5kZXgsIHNob3VsZFJlZnJlc2hVbnJlYWRDb3VudCwgZmlsdGVyLCBjb21wbGV0ZSkgew0KCQkJCXZhciBmaWx0ZXJlZENvbnRlbnRUeXBlSWRzID0gZmlsdGVyIHx8IGdldEN1cnJlbnRDb250ZW50VHlwZXMoY29udGV4dC5ib29rbWFya0ZpbHRlcik7DQoJCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmdldCh7DQoJCQkJCXVybDogY29udGV4dC5ib29rbWFya3NVcmwsDQoJCQkJCWRhdGE6IHsNCgkJCQkJCXdfcGFnZUluZGV4OiBwYWdlSW5kZXgsDQoJCQkJCQl3X2NvbnRlbnRUeXBlSWRzOiBmaWx0ZXJlZENvbnRlbnRUeXBlSWRzDQoJCQkJCX0sDQoJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7DQoJCQkJCQlpZihmaWx0ZXJlZENvbnRlbnRUeXBlSWRzICYmIGZpbHRlcmVkQ29udGVudFR5cGVJZHMubGVuZ3RoID4gMCAmJiBnZXRDdXJyZW50Q29udGVudFR5cGVzKGNvbnRleHQuYm9va21hcmtGaWx0ZXIpICE9PSBmaWx0ZXJlZENvbnRlbnRUeXBlSWRzKQ0KCQkJCQkJCXJldHVybjsNCgkJCQkJCS8vIHNob3cgcmVzcG9uc2UNCgkJCQkJCWNvbXBsZXRlKHJlc3BvbnNlKTsNCgkJCQkJCS8vIHVwZGF0ZSBjb3VudA0KCQkJCQkJaWYoc2hvdWxkUmVmcmVzaFVucmVhZENvdW50KQ0KCQkJCQkJCWNvbnRleHQuYm9va21hcmtzTGlzdC5yZWZyZXNoVW5yZWFkQ291bnQoKTsNCgkJCQkJfQ0KCQkJCX0pOw0KCQkJfSwNCgkJCW9uUmVmcmVzaFVucmVhZENvdW50OiBmdW5jdGlvbihjb21wbGV0ZSkgew0KCQkJCWNvbXBsZXRlKGNvbnRleHQuYm9va21hcmtzSXNCb29rbWFya2VkID8gMSA6IDApOw0KCQkJfSwNCgkJCW9uQnVpbGRGaWx0ZXI6IGZ1bmN0aW9uKGZpbHRlcmVkKSB7DQoJCQkJdmFyIGZpbHRlclRlbXBsYXRlID0gJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnRlbXBsYXRlLmNvbXBpbGUoY29udGV4dC5ib29rbWFya3NGaWx0ZXJUZW1wbGF0ZSksDQoJCQkJCWZpbHRlclRlbXBsYXRlRGF0YSA9IHsNCgkJCQkJCWNvbnRlbnRUeXBlSWRzOiAnJywNCgkJCQkJCWFwcGxpY2F0aW9uQ29udGVudFR5cGVJZHM6ICcnLA0KCQkJCQkJY29udGFpbmVyVHlwZXM6IFtdDQoJCQkJCX07DQoJCQkJaWYoY29udGV4dC5ib29rbWFya3NDb250ZW50VHlwZXMubGVuZ3RoID4gMCkNCgkJCQkJZmlsdGVyVGVtcGxhdGVEYXRhLmNvbnRlbnRUeXBlSWRzID0gY29udGV4dC5ib29rbWFya3NDb250ZW50VHlwZXMuc3Vic3RyKDAsIGNvbnRleHQuYm9va21hcmtzQ29udGVudFR5cGVzLmxlbmd0aCAtIDEpDQoJCQkJaWYoY29udGV4dC5ib29rbWFya3NBcHBsaWNhdGlvbkNvbnRlbnRUeXBlcy5sZW5ndGggPiAwKQ0KCQkJCQlmaWx0ZXJUZW1wbGF0ZURhdGEuYXBwbGljYXRpb25Db250ZW50VHlwZUlkcyA9IGNvbnRleHQuYm9va21hcmtzQXBwbGljYXRpb25Db250ZW50VHlwZXMuc3Vic3RyKDAsIGNvbnRleHQuYm9va21hcmtzQXBwbGljYXRpb25Db250ZW50VHlwZXMubGVuZ3RoIC0gMSkNCgkJCQlpZihjb250ZXh0LmJvb2ttYXJrc0NvbnRhaW5lckNvbnRlbnRUeXBlcy5sZW5ndGggPiAwKSB7DQoJCQkJCXZhciByYXdDb250YWluZXJzID0gY29udGV4dC5ib29rbWFya3NDb250YWluZXJDb250ZW50VHlwZXMuc3BsaXQoJywnKTsNCgkJCQkJJC5lYWNoKHJhd0NvbnRhaW5lcnMsIGZ1bmN0aW9uKGksIHJhd0NvbnRhaW5lcikgew0KCQkJCQkJaWYocmF3Q29udGFpbmVyICYmIHJhd0NvbnRhaW5lci5sZW5ndGggPiAwKSB7DQoJCQkJCQkJdmFyIGNvbnRhaW5lckNvbXBvbmVudHMgPSByYXdDb250YWluZXIuc3BsaXQoJzonLCAyKTsNCgkJCQkJCQlpZihjb250YWluZXJDb21wb25lbnRzLmxlbmd0aCA9PT0gMikgew0KCQkJCQkJCQlmaWx0ZXJUZW1wbGF0ZURhdGEuY29udGFpbmVyVHlwZXMucHVzaCh7DQoJCQkJCQkJCQluYW1lOiBjb250YWluZXJDb21wb25lbnRzWzFdLA0KCQkJCQkJCQkJaWQ6IGNvbnRhaW5lckNvbXBvbmVudHNbMF0NCgkJCQkJCQkJfSk7DQoJCQkJCQkJfQ0KCQkJCQkJfQ0KCQkJCQl9KTsNCgkJCQl9DQoNCgkJCQljb250ZXh0LmJvb2ttYXJrRmlsdGVyID0gJChmaWx0ZXJUZW1wbGF0ZShmaWx0ZXJUZW1wbGF0ZURhdGEpKTsNCgkJCQljb250ZXh0LmJvb2ttYXJrRmlsdGVyLmZpbmQoJ2E6Zmlyc3QnKS5hZGRDbGFzcygnc2VsZWN0ZWQnKTsNCgkJCQljb250ZXh0LmJvb2ttYXJrRmlsdGVyLm9uKCdjbGljaycsJ2EnLCBmdW5jdGlvbihlKXsNCgkJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOw0KCQkJCQllLnN0b3BQcm9wYWdhdGlvbigpOw0KCQkJCQl2YXIgdGFyZ2V0ID0gJChlLnRhcmdldCk7DQoJCQkJCXRhcmdldC5jbG9zZXN0KCd1bCcpLmZpbmQoJ2EnKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTsNCgkJCQkJdGFyZ2V0LmFkZENsYXNzKCdzZWxlY3RlZCcpOw0KCQkJCQlmaWx0ZXJlZChnZXRDdXJyZW50Q29udGVudFR5cGVzKGNvbnRleHQuYm9va21hcmtGaWx0ZXIpKTsNCgkJCQl9KTsNCg0KCQkJCXJldHVybiBjb250ZXh0LmJvb2ttYXJrRmlsdGVyOw0KCQkJfSwNCgkJCXRlbXBsYXRlOiBjb250ZXh0LmJvb2ttYXJrc1RlbXBsYXRlLA0KCQkJb25TaG93OiBmdW5jdGlvbihhY3RpdmF0b3IsIGNvbXBsZXRlKSB7DQoJCQkJY29tcGxldGUoYnVpbGRTaG93U2V0dGluZ3MoY29udGV4dCwgYWN0aXZhdG9yLCB7fSkpOw0KCQkJfQ0KCQl9KTsNCg0KCQkvLyByZWZyZXNoIGNvbnRlbnQgd2hlbiBib29rbWFya3MgYXJlIGFkZGVkL3JlbW92ZWQNCgkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLm1lc3NhZ2luZy5zdWJzY3JpYmUoJ3VpLmJvb2ttYXJrJywgZnVuY3Rpb24oZGF0YSkgew0KCQkJLy8gaWYgdGhpcyByZXByZXNlbnRzIGEgY2hhbmdlIGluIGJvb2ttYXJrIHN0YXRlIG9mIGN1cnJlbnQgY29udGVudCwNCgkJCS8vIHRyYWNrIHRoYXQNCgkJCWlmKGRhdGEuY29udGVudElkID09IGNvbnRleHQuYm9va21hcmtzQ3VycmVudENvbnRlbnRJZCkgew0KCQkJCWNvbnRleHQuYm9va21hcmtzSXNCb29rbWFya2VkID0gZGF0YS5ib29rbWFya2VkOw0KCQkJCWNvbnRleHQuYm9va21hcmtzTGlzdC5yZWZyZXNoVW5yZWFkQ291bnQoKTsNCgkJCQlpZihkYXRhLmJvb2ttYXJrZWQpIHsNCgkJCQkJY29udGV4dC5ib29rbWFya3NMaW5rLmFkZENsYXNzKCdib29rbWFya2VkJyk7DQoJCQkJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5ub3RpZmljYXRpb25zLnNob3coY29udGV4dC5ib29rbWFya0FkZGVkLCB7DQoJCQkJCQlpZDogJ2Jvb2ttYXJrLScgKyBkYXRhLmNvbnRlbnRJZA0KCQkJCQl9KTsNCgkJCQl9IGVsc2Ugew0KCQkJCQljb250ZXh0LmJvb2ttYXJrc0xpbmsucmVtb3ZlQ2xhc3MoJ2Jvb2ttYXJrZWQnKTsNCgkJCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLm5vdGlmaWNhdGlvbnMuc2hvdyhjb250ZXh0LmJvb2ttYXJrUmVtb3ZlZCwgew0KCQkJCQkJaWQ6ICdib29rbWFyay0nICsgZGF0YS5jb250ZW50SWQNCgkJCQkJfSk7DQoJCQkJfQ0KCQkJfQ0KCQkJY29udGV4dC5ib29rbWFya3NMaXN0LnJlZnJlc2hDb250ZW50KCk7DQoJCX0pOw0KDQoJCWlmKGNvbnRleHQuYm9va21hcmtzSXNCb29rbWFya2VkKQ0KCQkJY29udGV4dC5ib29rbWFya3NMaW5rLmFkZENsYXNzKCdib29rbWFya2VkJyk7DQoNCgkJcmV0dXJuIGNvbnRleHQuYm9va21hcmtzTGlzdDsNCgl9DQoNCglmdW5jdGlvbiBpbml0VXNlclBvcHVwKGNvbnRleHQpIHsNCgkJdmFyIHVzZXJDb250ZW50ID0gJCgkLnRlbGxpZ2VudC5ldm9sdXRpb24udGVtcGxhdGUuY29tcGlsZShjb250ZXh0LnVzZXJDb250ZW50VGVtcGxhdGUpKCkpOw0KDQoJCWNvbnRleHQudXNlclBvcHVwID0gSGVhZGVyTGlzdCh7DQoJCQlrZXk6ICd1c2VyJywNCgkJCWFjdGl2YXRpb25MaW5rOiBjb250ZXh0LnVzZXJMaW5rLA0KCQkJZW5kbGVzc1Njcm9sbDogZmFsc2UsDQoJCQl0aXRsZUNvdW50OiBmYWxzZSwNCgkJCWNzc0NsYXNzOiAndXNlcicsDQoJCQlzaG93Q291bnQ6IGZhbHNlLA0KCQkJd3JhcHBlcjogY29udGV4dC5iYW5uZXIsDQoJCQloYW5kaGVsZEJhbm5lckxpbmtzQ291bnQ6IGNvbnRleHQuaGFuZGhlbGRCYW5uZXJMaW5rc0NvdW50LA0KCQkJb25Mb2FkOiBmdW5jdGlvbihwYWdlSW5kZXgsIHNob3VsZFJlZnJlc2hVbnJlYWRDb3VudCwgZmlsdGVyLCBjb21wbGV0ZSkgew0KCQkJCWdsb2JhbC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7DQoJCQkJCWNvbXBsZXRlKHVzZXJDb250ZW50KQ0KCQkJCX0sIDEwKQ0KCQkJfSwNCgkJCXRlbXBsYXRlOiBjb250ZXh0LnVzZXJQb3B1cFRlbXBsYXRlLA0KCQkJb25TaG93OiBmdW5jdGlvbihhY3RpdmF0b3IsIGNvbXBsZXRlKSB7DQoJCQkJY29tcGxldGUoYnVpbGRTaG93U2V0dGluZ3MoY29udGV4dCwgYWN0aXZhdG9yLCB7fSkpOw0KCQkJfQ0KCQl9KTsNCg0KCQlyZXR1cm4gY29udGV4dC51c2VyUG9wdXA7DQoJfTsNCg0KCWZ1bmN0aW9uIGluaXRTZWFyY2hQb3B1cChjb250ZXh0KSB7DQoJCS8vIGdldHMgYWxsIHNlbGVjdGVkIGNvbnRlbnQgdHlwZXMgZnJvbSB0aGUgY29udGVudCB0eXBlIGZpbHRlcg0KCQlmdW5jdGlvbiBnZXRDdXJyZW50U2VhcmNoRmlsdGVycyhjb250ZXh0KSB7DQoJCQl2YXIgc2VsZWN0ZWRQbGFjZSA9IGNvbnRleHQuc2VhcmNoRmlsdGVyLmZpbmQoJ2EucGxhY2Uuc2VsZWN0ZWQnKTsNCgkJCXZhciBzZWxlY3RlZFR5cGUgPSBjb250ZXh0LnNlYXJjaEZpbHRlci5maW5kKCdhLnR5cGUuc2VsZWN0ZWQnKTsNCg0KCQkJIHZhciBmaWx0ZXJzID0gew0KCQkJCXBsYWNlS2V5OiBzZWxlY3RlZFBsYWNlLmRhdGEoJ2tleScpIHx8ICdhbnl3aGVyZScsDQoJCQkJcGxhY2VWYWx1ZTogc2VsZWN0ZWRQbGFjZS5kYXRhKCd2YWx1ZScpIHx8ICdhbnl3aGVyZScsDQoJCQkJdHlwZTogc2VsZWN0ZWRUeXBlLmRhdGEoJ2tleScpLA0KCQkJCXF1ZXJ5OiAkLnRyaW0oY29udGV4dC5zZWFyY2hJbnB1dC52YWwoKSksDQoJCQkJc2VhcmNoUGFyYW1ldGVyOiBzZWxlY3RlZFBsYWNlLmRhdGEoJ3NlYXJjaHBhcmFtJyksDQoJCQkJc2VhcmNoVmFsdWU6IHNlbGVjdGVkUGxhY2UuZGF0YSgnc2VhcmNodmFsdWUnKQ0KCQkJfQ0KDQoJCQl2YXIgdCA9ICQuZ3JlcChjb250ZXh0LnNlYXJjaEZpbHRlcnMsIGZ1bmN0aW9uKGUpIHsgcmV0dXJuIGUua2V5ID09IHNlbGVjdGVkVHlwZS5kYXRhKCdrZXknKTsgfSlbMF07DQoJCQlpZiAodCAmJiB0LmFkdmFuY2VkU2VhcmNoVXJsKSB7DQoJCQkJZmlsdGVycy5hZHZhbmNlZFNlYXJjaFVybCA9IHQuYWR2YW5jZWRTZWFyY2hVcmw7DQoJCQl9DQoNCgkJCXJldHVybiBmaWx0ZXJzOw0KCQl9Ow0KDQoJCWZ1bmN0aW9uIGxvYWRTZWFyY2hQbGFjZXMoY29udGV4dCkgew0KCQkJdmFyIHBsYWNlcyA9IFtdOw0KDQoJCQlpZiAoY29udGV4dC5zZWFyY2hQbGFjZUFwcGxpY2F0aW9uSWQpIHsNCgkJCQlwbGFjZXMucHVzaCh7DQoJCQkJCWtleTogJ2FwcGxpY2F0aW9uJywNCgkJCQkJdmFsdWU6IGNvbnRleHQuc2VhcmNoUGxhY2VBcHBsaWNhdGlvbklkLA0KCQkJCQluYW1lOiBjb250ZXh0LnNlYXJjaFBsYWNlQXBwbGljYXRpb25OYW1lLA0KCQkJCQlzZWFyY2hQYXJhbWV0ZXI6ICdncm91cCcsDQoJCQkJCXNlYXJjaFZhbHVlOiBjb250ZXh0LnNlYXJjaFBsYWNlR3JvdXBMb2NhbElkDQoJCQkJfSk7DQoJCQl9DQoNCgkJCWlmIChjb250ZXh0LnNlYXJjaFBsYWNlR3JvdXBJZCkgew0KCQkJCXBsYWNlcy5wdXNoKHsNCgkJCQkJa2V5OiAnZ3JvdXAnLA0KCQkJCQl2YWx1ZTogY29udGV4dC5zZWFyY2hQbGFjZUdyb3VwSWQsDQoJCQkJCW5hbWU6IGNvbnRleHQuc2VhcmNoUGxhY2VHcm91cE5hbWUsDQoJCQkJCXNlYXJjaFBhcmFtZXRlcjogJ2dyb3VwJywNCgkJCQkJc2VhcmNoVmFsdWU6IGNvbnRleHQuc2VhcmNoUGxhY2VHcm91cExvY2FsSWQNCgkJCQl9KTsNCgkJCX0NCg0KCQkJaWYgKHBsYWNlcy5sZW5ndGggPiAwKSB7DQoJCQkJcGxhY2VzLnB1c2goew0KCQkJCQlrZXk6ICdhbnl3aGVyZScsDQoJCQkJCXZhbHVlOiAnYW55d2hlcmUnLA0KCQkJCQluYW1lOiBjb250ZXh0LnNlYXJjaFBsYWNlQW55d2hlcmVOYW1lLA0KCQkJCQlzZWFyY2hQYXJhbWV0ZXI6ICcnLA0KCQkJCQlzZWFyY2hWYWx1ZTogJycNCgkJCQl9KTsNCgkJCX0NCg0KCQkJY29udGV4dC5zZWFyY2hQbGFjZXMgPSBwbGFjZXM7DQoJCX0NCg0KCQlmdW5jdGlvbiBsb2FkU2VhcmNoRmlsdGVycyhjb250ZXh0LCBzY29wZSkgew0KCQkJdmFyIGZpbHRlcnMgPSBbXTsNCg0KCQkJLy8gYnVpbGQgZmlyc3QgcGFydHkgZmlsdGVycyBmaXJzdA0KCQkJZmlsdGVycy5wdXNoKHsNCgkJCQlrZXk6ICdjb250ZW50JywNCgkJCQluYW1lOiBjb250ZXh0LnNlYXJjaEZpbHRlckNvbnRlbnROYW1lLA0KCQkJCXNlYXJjaFBhcmFtZXRlcjogJycsDQoJCQkJc2VhcmNoVmFsdWU6ICcnDQoJCQl9KTsNCg0KCQkJaWYgKHNjb3BlLmtleSA9PSAnYW55d2hlcmUnIHx8IHNjb3BlLmtleSA9PSAnZ3JvdXAnKSB7DQoJCQkJZmlsdGVycy5wdXNoKHsNCgkJCQkJa2V5OiAnZ3JvdXBzJywNCgkJCQkJbmFtZTogY29udGV4dC5zZWFyY2hGaWx0ZXJHcm91cHNOYW1lLA0KCQkJCQlzZWFyY2hQYXJhbWV0ZXI6ICcnLA0KCQkJCQlzZWFyY2hWYWx1ZTogJycNCgkJCQl9KTsNCgkJCX0NCg0KCQkJaWYgKHNjb3BlLmtleSA9PSAnYW55d2hlcmUnICYmIGNvbnRleHQuc2VhcmNoU2hvd1Blb3BsZSkgew0KCQkJCWZpbHRlcnMucHVzaCh7DQoJCQkJCWtleTogJ3VzZXJzJywNCgkJCQkJbmFtZTogY29udGV4dC5zZWFyY2hGaWx0ZXJQZW9wbGVOYW1lLA0KCQkJCQlhZHZhbmNlZFNlYXJjaFVybDogZnVuY3Rpb24ocXVlcnkpIHsNCgkJCQkJCXZhciBwYXJhbXMgPSB7IHE6IHF1ZXJ5IH07DQoJCQkJCQlyZXR1cm4gY29udGV4dC5zZWFyY2hBZHZhbmNlZFVzZXJVcmwNCgkJCQkJCQkucmVwbGFjZSgvXHswXH0vZ2ksICQucGFyYW0ocGFyYW1zKSkNCgkJCQkJCQkucmVwbGFjZSgvXCsvZ2ksICclMjAnKQ0KCQkJCQkJCS5yZXBsYWNlKC8nL2dpLCAnJTI3Jyk7DQoJCQkJCX0NCgkJCQl9KTsNCgkJCX0NCg0KCQkJLy8gYWRkIGN1c3RvbSBmaWx0ZXJzDQoJCQl2YXIgaSA9IDE7DQoJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ubWVzc2FnaW5nLnB1Ymxpc2goJ3NlYXJjaC5yZWdpc3RlckZpbHRlcnMnLCB7DQoJCQkJc2NvcGU6IHNjb3BlLA0KCQkJCXJlZ2lzdGVyOiBmdW5jdGlvbihzZXR0aW5ncykgew0KCQkJCQlmaWx0ZXJzLnB1c2goJC5leHRlbmQoDQoJCQkJCQl7DQoJCQkJCQkJbmFtZTogJycsDQoJCQkJCQkJcXVlcnk6IGZ1bmN0aW9uKHF1ZXJ5RGF0YSwgY29tcGxldGUpIHsgfSwNCgkJCQkJCQlhZHZhbmNlZFNlYXJjaFVybDogZnVuY3Rpb24ocXVlcnlUZXh0KSB7IHJldHVybiBudWxsOyB9LA0KCQkJCQkJCWlzRGVmYXVsdDogZmFsc2UsDQoJCQkJCQkJc2VhcmNoUGFyYW1ldGVyOiAnJywNCgkJCQkJCQlzZWFyY2hWYWx1ZTogJycNCgkJCQkJCX0sDQoJCQkJCQlzZXR0aW5ncywNCgkJCQkJCXsNCgkJCQkJCQlrZXk6ICdjdXN0b20nICsgKGkrKykNCgkJCQkJCX0NCgkJCQkJKSk7DQoJCQkJfQ0KCQkJfSk7DQoNCgkJCWNvbnRleHQuc2VhcmNoRmlsdGVycyA9IGZpbHRlcnM7DQoJCX07DQoNCgkJZnVuY3Rpb24gc2V0RGVmYXVsdEFkdmFuY2VkU2VhcmNoVXJsKGNvbnRleHQpIHsNCg0KCQkJdmFyIGZpbHRlciA9IGdldEN1cnJlbnRTZWFyY2hGaWx0ZXJzKGNvbnRleHQpOw0KDQoJCQl2YXIgcXVlcnkgPSAkLnRyaW0oZmlsdGVyLnF1ZXJ5KTsNCgkJCWlmKHF1ZXJ5ICYmIHF1ZXJ5Lmxlbmd0aCA+IDApIHsNCgkJCQl2YXIgcGFyYW1zID0geyBxOiBxdWVyeSB9Ow0KDQoJCQkJaWYgKGZpbHRlci5zZWFyY2hQYXJhbWV0ZXIgJiYgZmlsdGVyLnNlYXJjaFZhbHVlKSB7DQoJCQkJCXBhcmFtc1tmaWx0ZXIuc2VhcmNoUGFyYW1ldGVyXSA9IGZpbHRlci5zZWFyY2hWYWx1ZTsNCgkJCQl9DQoNCgkJCQljb250ZXh0LmN1cnJlbnRBZHZhbmNlZFNlYXJjaFVybCA9IGNvbnRleHQuc2VhcmNoQWR2YW5jZWRVcmwNCgkJCQkJLnJlcGxhY2UoL1x7MFx9L2dpLCAkLnBhcmFtKHBhcmFtcykpDQoJCQkJCS5yZXBsYWNlKC9cKy9naSwgJyUyMCcpDQoJCQkJCS5yZXBsYWNlKC8nL2dpLCAnJTI3Jyk7DQoJCQkJJCgnIycgKyBjb250ZXh0LmFkdmFuY2VkU2VhcmNoSWQpLmNzcygndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7DQoJCQl9IGVsc2Ugew0KCQkJCSQoJyMnICsgY29udGV4dC5hZHZhbmNlZFNlYXJjaElkKS5jc3MoJ3Zpc2liaWxpdHknLCAnaGlkZGVuJyk7DQoJCQl9DQoJCX0NCg0KCQkvLyBkZWZhdWx0IHRvIHN1cHBvcnRpbmcgaW5saW5lU2VhcmNoIHRob3VnaCBzZWFyY2gucmVhZHkgY2FuIG92ZXJyaWRlIGl0DQoJCWNvbnRleHQuc3VwcG9ydHNJbmxpbmVTZWFyY2ggPSB0cnVlOw0KDQoJCXNldFRpbWVvdXQoZnVuY3Rpb24oKXsNCgkJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5tZXNzYWdpbmcucHVibGlzaCgnc2VhcmNoLnJlYWR5Jywgew0KCQkJCWluaXQ6IGZ1bmN0aW9uKHNldHRpbmdzKSB7DQoJCQkJCXZhciBpbmplY3RlZFNldHRpbmdzID0gJC5leHRlbmQoew0KCQkJCQkJY3VzdG9tUmVzdWx0UmVuZGVyaW5nOiBmYWxzZSwNCgkJCQkJCWluaXRpYWxRdWVyeTogJycNCgkJCQkJfSwgc2V0dGluZ3MpOw0KCQkJCQljb250ZXh0LnN1cHBvcnRzSW5saW5lU2VhcmNoID0gIWluamVjdGVkU2V0dGluZ3MuY3VzdG9tUmVzdWx0UmVuZGVyaW5nOw0KCQkJCQlpZihpbmplY3RlZFNldHRpbmdzLmluaXRpYWxRdWVyeSAhPT0gbnVsbCkgew0KCQkJCQkJY29udGV4dC5zZWFyY2hJbnB1dC52YWwoaW5qZWN0ZWRTZXR0aW5ncy5pbml0aWFsUXVlcnkpOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfSk7DQoJCX0sIDUwKTsNCg0KCQlmdW5jdGlvbiBidWlsZFNlYXJjaERhdGFGcm9tRWZmZWN0aXZlUXVlcnkocGFnZUluZGV4LCBlZmZlY3RpdmVTZWFyY2hGaWx0ZXIpIHsNCgkJCXJldHVybiB7DQoJCQkJd19wYWdlSW5kZXg6IHBhZ2VJbmRleCwNCgkJCQl3X3F1ZXJ5OiBlZmZlY3RpdmVTZWFyY2hGaWx0ZXIucXVlcnksDQoJCQkJd19wbGFjZUtleTogZWZmZWN0aXZlU2VhcmNoRmlsdGVyLnBsYWNlS2V5LA0KCQkJCXdfcGxhY2VWYWx1ZTogZWZmZWN0aXZlU2VhcmNoRmlsdGVyLnBsYWNlVmFsdWUsDQoJCQkJd190eXBlOiBlZmZlY3RpdmVTZWFyY2hGaWx0ZXIudHlwZQ0KCQkJfTsNCgkJfQ0KDQoJCWNvbnRleHQuc2VhcmNoUG9wdXAgPSBIZWFkZXJMaXN0KHsNCgkJCWtleTogJ3NlYXJjaCcsDQoJCQlmb290ZXJDb250ZW50OiBjb250ZXh0LnNlYXJjaEZvb3RlckNvbnRlbnQsDQoJCQlhY3RpdmF0aW9uSW5wdXQ6IGNvbnRleHQuc2VhcmNoSW5wdXQsDQoJCQllbmRsZXNzU2Nyb2xsOiB0cnVlLA0KCQkJdGl0bGVDb3VudDogZmFsc2UsDQoJCQlzaG93Q291bnQ6IGZhbHNlLA0KCQkJY3NzQ2xhc3M6ICdzZWFyY2gnLA0KCQkJd3JhcHBlcjogY29udGV4dC5iYW5uZXIsDQoJCQloYW5kaGVsZEJhbm5lckxpbmtzQ291bnQ6IGNvbnRleHQuaGFuZGhlbGRCYW5uZXJMaW5rc0NvdW50LA0KCQkJb25TaG93TG9hZGluZ0luZGljYXRvcjogZnVuY3Rpb24oKSB7DQoJCQkJcmV0dXJuIGNvbnRleHQuc3VwcG9ydHNJbmxpbmVTZWFyY2g7DQoJCQl9LA0KCQkJb25Mb2FkOiBmdW5jdGlvbihwYWdlSW5kZXgsIHNob3VsZFJlZnJlc2hVbnJlYWRDb3VudCwgZmlsdGVyLCBjb21wbGV0ZSkgew0KCQkJCWlmKCFjb250ZXh0LnN1cHBvcnRzSW5saW5lU2VhcmNoKQ0KCQkJCQlyZXR1cm47DQoNCgkJCQl2YXIgZWZmZWN0aXZlU2VhcmNoRmlsdGVyID0gZmlsdGVyIHx8IGdldEN1cnJlbnRTZWFyY2hGaWx0ZXJzKGNvbnRleHQpOw0KDQoJCQkJLy8gcHJldmVudCBlbXB0eSBzZWFyY2hlcw0KCQkJCWlmKCFlZmZlY3RpdmVTZWFyY2hGaWx0ZXIucXVlcnkgfHwgZWZmZWN0aXZlU2VhcmNoRmlsdGVyLnF1ZXJ5Lmxlbmd0aCA9PSAwKSB7DQoJCQkJCWNvbXBsZXRlKCcnKTsNCgkJCQkJcmV0dXJuOw0KCQkJCX0NCg0KCQkJCXZhciBmaWx0ZXIgPSAkLmdyZXAoY29udGV4dC5zZWFyY2hGaWx0ZXJzLCBmdW5jdGlvbihlKSB7IHJldHVybiBlLmtleSA9PSBlZmZlY3RpdmVTZWFyY2hGaWx0ZXIudHlwZSB9KVswXTsNCgkJCQlpZiAoZmlsdGVyICYmIGZpbHRlci5xdWVyeSkgew0KCQkJCQlmaWx0ZXIucXVlcnkoew0KCQkJCQkJCXBhZ2VJbmRleDogcGFnZUluZGV4LA0KCQkJCQkJCXF1ZXJ5OiBlZmZlY3RpdmVTZWFyY2hGaWx0ZXIucXVlcnkNCgkJCQkJCX0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7DQoJCQkJCQkJY29tcGxldGUocmVzcG9uc2UpOw0KCQkJCQkJCWNvbnRleHQuc2VhcmNoSW5wdXQuYWRkQ2xhc3MoJ3dpdGgtcmVzdWx0cycpOw0KDQoJCQkJCQkJaWYgKCFjb250ZXh0LmN1cnJlbnRBZHZhbmNlZFNlYXJjaFVybCkgew0KCQkJCQkJCQkkKCcjJyArIGNvbnRleHQuYWR2YW5jZWRTZWFyY2hJZCkuY3NzKCd2aXNpYmlsaXR5JywgJ2hpZGRlbicpOw0KCQkJCQkJCX0gZWxzZSB7DQoJCQkJCQkJCSQoJyMnICsgY29udGV4dC5hZHZhbmNlZFNlYXJjaElkKS5jc3MoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpOw0KCQkJCQkJCX0NCgkJCQkJCX0pOw0KCQkJCX0gZWxzZSB7DQoJCQkJCXZhciBxdWVyeURhdGEgPSBidWlsZFNlYXJjaERhdGFGcm9tRWZmZWN0aXZlUXVlcnkocGFnZUluZGV4LCBlZmZlY3RpdmVTZWFyY2hGaWx0ZXIpDQoNCgkJCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmdldCh7DQoJCQkJCQl1cmw6IGNvbnRleHQuc2VhcmNoVXJsLA0KCQkJCQkJZGF0YTogcXVlcnlEYXRhLA0KCQkJCQkJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHsNCgkJCQkJCQkvLyBhZnRlciByZXN1bHRzIHJldHVybiwgbWFrZSBzdXJlIHRoZSBjdXJyZW50IHNlYXJjaCBwYXJhbWV0ZXJzDQoJCQkJCQkJLy8gd291bGQgc3RpbGwgbWF0Y2ggdGhlIHJlcXVlc3QgdGhhdCBtYWRlIHRoaXMgcXVlcnkNCgkJCQkJCQkvLyBJZiBub3QsIGlnbm9yZSB0aGUgcmVzdWx0cw0KCQkJCQkJCXZhciBjdXJyZW50RWZmZWN0aXZlU2VhcmNoRmlsdGVyID0gZ2V0Q3VycmVudFNlYXJjaEZpbHRlcnMoY29udGV4dCk7DQoJCQkJCQkJaWYoIWN1cnJlbnRFZmZlY3RpdmVTZWFyY2hGaWx0ZXIgfHwgIWN1cnJlbnRFZmZlY3RpdmVTZWFyY2hGaWx0ZXIucXVlcnkgfHwgY3VycmVudEVmZmVjdGl2ZVNlYXJjaEZpbHRlci5xdWVyeS5sZW5ndGggPT0gMCkgew0KCQkJCQkJCQljb21wbGV0ZShudWxsKTsNCgkJCQkJCQkJcmV0dXJuOw0KCQkJCQkJCX0NCgkJCQkJCQl2YXIgY3VycmVudFF1ZXJ5RGF0YSA9IGJ1aWxkU2VhcmNoRGF0YUZyb21FZmZlY3RpdmVRdWVyeShwYWdlSW5kZXgsIGN1cnJlbnRFZmZlY3RpdmVTZWFyY2hGaWx0ZXIpOw0KCQkJCQkJCWlmKCQudGVsbGlnZW50LmV2b2x1dGlvbi51cmwuc2VyaWFsaXplUXVlcnkoY3VycmVudFF1ZXJ5RGF0YSkgIT0NCgkJCQkJCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnVybC5zZXJpYWxpemVRdWVyeShxdWVyeURhdGEpKQ0KCQkJCQkJCXsNCgkJCQkJCQkJY29tcGxldGUobnVsbCk7DQoJCQkJCQkJCXJldHVybjsNCgkJCQkJCQl9DQoNCgkJCQkJCQkvLyBzaG93IHJlc3BvbnNlDQoJCQkJCQkJY29tcGxldGUocmVzcG9uc2UpOw0KCQkJCQkJCWNvbnRleHQuc2VhcmNoSW5wdXQuYWRkQ2xhc3MoJ3dpdGgtcmVzdWx0cycpOw0KCQkJCQkJfQ0KCQkJCQl9KTsNCgkJCQl9DQoJCQl9LA0KCQkJb25SZWZyZXNoVW5yZWFkQ291bnQ6IGZ1bmN0aW9uKGNvbXBsZXRlKSB7DQoJCQkJY29tcGxldGUoMCk7DQoJCQl9LA0KCQkJb25CdWlsZEZpbHRlcjogZnVuY3Rpb24oZmlsdGVyZWQpIHsNCgkJCQlsb2FkU2VhcmNoUGxhY2VzKGNvbnRleHQpOw0KCQkJCWxvYWRTZWFyY2hGaWx0ZXJzKGNvbnRleHQsIGNvbnRleHQuc2VhcmNoUGxhY2VzLmxlbmd0aCA+IDAgPyBjb250ZXh0LnNlYXJjaFBsYWNlc1swXSA6IHsga2V5OiAnYW55d2hlcmUnLCB2YWx1ZTogJ2FueXdoZXJlJyB9KTsNCg0KCQkJCXZhciBmaWx0ZXJUZW1wbGF0ZSA9ICQudGVsbGlnZW50LmV2b2x1dGlvbi50ZW1wbGF0ZS5jb21waWxlKGNvbnRleHQuc2VhcmNoRmlsdGVyVGVtcGxhdGUpLA0KCQkJCQlmaWx0ZXJUZW1wbGF0ZURhdGEgPSB7DQoJCQkJCQljb250ZW50VHlwZUlkczogJycsDQoJCQkJCQlhcHBsaWNhdGlvbkNvbnRlbnRUeXBlSWRzOiAnJywNCgkJCQkJCWNvbnRhaW5lclR5cGVzOiBbXSwNCgkJCQkJCWZpbHRlcnM6IGNvbnRleHQuc2VhcmNoRmlsdGVycywNCgkJCQkJCXBsYWNlczogY29udGV4dC5zZWFyY2hQbGFjZXMNCgkJCQkJfTsNCg0KCQkJCWNvbnRleHQuc2VhcmNoRmlsdGVyID0gJCgnPGRpdj48L2Rpdj4nKS5oaWRlKCkuYXBwZW5kVG8oJ2JvZHknKTsNCgkJCQkkKGZpbHRlclRlbXBsYXRlKGZpbHRlclRlbXBsYXRlRGF0YSkpLmFwcGVuZFRvKGNvbnRleHQuc2VhcmNoRmlsdGVyKTsNCg0KCQkJCXZhciBmaWx0ZXIgPSAkLmdyZXAoY29udGV4dC5zZWFyY2hGaWx0ZXJzLCBmdW5jdGlvbihlKSB7IHJldHVybiBlLmlzRGVmYXVsdDsgfSlbMF07DQoJCQkJaWYgKGZpbHRlcikgew0KCQkJCQljb250ZXh0LnNlYXJjaEZpbHRlci5maW5kKCdhLnR5cGVbZGF0YS1rZXk9IicgKyBmaWx0ZXIua2V5ICsgJyJdJykuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7DQoJCQkJfSBlbHNlIHsNCgkJCQkJY29udGV4dC5zZWFyY2hGaWx0ZXIuZmluZCgnYS50eXBlOmZpcnN0JykuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7DQoJCQkJfQ0KCQkJCWNvbnRleHQuc2VhcmNoRmlsdGVyLmZpbmQoJ2EucGxhY2U6Zmlyc3QnKS5hZGRDbGFzcygnc2VsZWN0ZWQnKTsNCgkJCQljb250ZXh0LnNlYXJjaEZpbHRlci5vbignY2xpY2snLCAnYScsIGZ1bmN0aW9uKGUpew0KCQkJCQllLnByZXZlbnREZWZhdWx0KCk7DQoJCQkJCWUuc3RvcFByb3BhZ2F0aW9uKCk7DQoJCQkJCXZhciB0YXJnZXQgPSAkKGUudGFyZ2V0KTsNCgkJCQkJdGFyZ2V0LmNsb3Nlc3QoJ3VsJykuZmluZCgnYScpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpOw0KCQkJCQl0YXJnZXQuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7DQoNCgkJCQkJaWYgKHRhcmdldC5oYXNDbGFzcygncGxhY2UnKSkgew0KCQkJCQkJdmFyIGtleSA9IHRhcmdldC5kYXRhKCdrZXknKSwgdmFsdWUgPSB0YXJnZXQuZGF0YSgndmFsdWUnKTsNCg0KCQkJCQkJbG9hZFNlYXJjaEZpbHRlcnMoY29udGV4dCwgeyBrZXk6IGtleSwgdmFsdWU6IHZhbHVlIH0pOw0KCQkJCQkJY29udGV4dC5zZWFyY2hGaWx0ZXIuZW1wdHkoKS5hcHBlbmQoJChmaWx0ZXJUZW1wbGF0ZSh7DQoJCQkJCQkJY29udGVudFR5cGVJZHM6ICcnLA0KCQkJCQkJCWFwcGxpY2F0aW9uQ29udGVudFR5cGVJZHM6ICcnLA0KCQkJCQkJCWNvbnRhaW5lclR5cGVzOiBbXSwNCgkJCQkJCQlmaWx0ZXJzOiBjb250ZXh0LnNlYXJjaEZpbHRlcnMsDQoJCQkJCQkJcGxhY2VzOiBjb250ZXh0LnNlYXJjaFBsYWNlcw0KCQkJCQkJfSkpKTsNCg0KCQkJCQkJdmFyIGZpbHRlciA9ICQuZ3JlcChjb250ZXh0LnNlYXJjaEZpbHRlcnMsIGZ1bmN0aW9uKGUpIHsgcmV0dXJuIGUuaXNEZWZhdWx0OyB9KVswXTsNCgkJCQkJCWlmIChmaWx0ZXIpIHsNCgkJCQkJCQljb250ZXh0LnNlYXJjaEZpbHRlci5maW5kKCdhLnR5cGVbZGF0YS1rZXk9IicgKyBmaWx0ZXIua2V5ICsgJyJdJykuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7DQoJCQkJCQl9IGVsc2Ugew0KCQkJCQkJCWNvbnRleHQuc2VhcmNoRmlsdGVyLmZpbmQoJ2EudHlwZTpmaXJzdCcpLmFkZENsYXNzKCdzZWxlY3RlZCcpOw0KCQkJCQkJfQ0KCQkJCQkJY29udGV4dC5zZWFyY2hGaWx0ZXIuZmluZCgnYS5wbGFjZVtkYXRhLWtleT0iJyArIGtleSArICciXVtkYXRhLXZhbHVlPSInICsgdmFsdWUgKyAnIl0nKS5hZGRDbGFzcygnc2VsZWN0ZWQnKTsNCgkJCQkJfQ0KDQoJCQkJCWZpbHRlcmVkKGdldEN1cnJlbnRTZWFyY2hGaWx0ZXJzKGNvbnRleHQpKTsNCg0KCQkJCQl2YXIgZmlsdGVyID0gZ2V0Q3VycmVudFNlYXJjaEZpbHRlcnMoY29udGV4dCk7DQoJCQkJCWlmKGZpbHRlciAmJiBmaWx0ZXIuYWR2YW5jZWRTZWFyY2hVcmwpDQoJCQkJCQljb250ZXh0LmN1cnJlbnRBZHZhbmNlZFNlYXJjaFVybCA9IGZpbHRlci5hZHZhbmNlZFNlYXJjaFVybChmaWx0ZXIucXVlcnkpOw0KCQkJCQllbHNlDQoJCQkJCQlzZXREZWZhdWx0QWR2YW5jZWRTZWFyY2hVcmwoY29udGV4dCk7DQoJCQkJfSk7DQoNCgkJCQl2YXIgbGFzdFF1ZXJ5ID0gbnVsbDsNCgkJCQljb250ZXh0LnNlYXJjaElucHV0Lm9uKHsNCgkJCQkJaW5wdXQ6IHV0aWwudGhyb3R0bGUoZnVuY3Rpb24oZSl7DQoJCQkJCQl2YXIgZmlsdGVyID0gZ2V0Q3VycmVudFNlYXJjaEZpbHRlcnMoY29udGV4dCk7DQoJCQkJCQlpZihmaWx0ZXIucXVlcnkgPT0gbGFzdFF1ZXJ5KSB7DQoJCQkJCQkJZS5wcmV2ZW50RGVmYXVsdCgpDQoJCQkJCQkJcmV0dXJuIGZhbHNlOw0KCQkJCQkJfQ0KCQkJCQkJbGFzdFF1ZXJ5ID0gZmlsdGVyLnF1ZXJ5Ow0KCQkJCQkJZmlsdGVyZWQoZmlsdGVyKTsNCgkJCQkJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5tZXNzYWdpbmcucHVibGlzaCgnc2VhcmNoLnF1ZXJ5Jywgew0KCQkJCQkJCXZhbHVlOiAkLnRyaW0oY29udGV4dC5zZWFyY2hJbnB1dC52YWwoKSkNCgkJCQkJCX0pOw0KCQkJCQl9LCA1MDApLA0KCQkJCQljbGljazogZnVuY3Rpb24oZSkgew0KCQkJCQkJaWYoIXN1cHBvcnRzVG91Y2goKSkNCgkJCQkJCQlyZXR1cm4gZmFsc2U7DQoJCQkJCX0NCgkJCQl9KTsNCgkJCQljb250ZXh0LnNlYXJjaElucHV0Lm9uKHsNCgkJCQkJaW5wdXQ6IGZ1bmN0aW9uKGUpIHsNCgkJCQkJCXZhciBmaWx0ZXIgPSBnZXRDdXJyZW50U2VhcmNoRmlsdGVycyhjb250ZXh0KTsNCgkJCQkJCWlmKGZpbHRlciAmJiBmaWx0ZXIuYWR2YW5jZWRTZWFyY2hVcmwpDQoJCQkJCQkJY29udGV4dC5jdXJyZW50QWR2YW5jZWRTZWFyY2hVcmwgPSBmaWx0ZXIuYWR2YW5jZWRTZWFyY2hVcmwoZmlsdGVyLnF1ZXJ5KTsNCgkJCQkJCWVsc2UNCgkJCQkJCQlzZXREZWZhdWx0QWR2YW5jZWRTZWFyY2hVcmwoY29udGV4dCk7DQoJCQkJCX0NCgkJCQl9KTsNCg0KCQkJCXJldHVybiBjb250ZXh0LnNlYXJjaEZpbHRlci5zaG93KCk7DQoJCQl9LA0KCQkJdGVtcGxhdGU6IGNvbnRleHQuc2VhcmNoVGVtcGxhdGUsDQoJCQlvblNob3c6IGZ1bmN0aW9uKGFjdGl2YXRvciwgY29tcGxldGUpIHsNCgkJCQkvLyBtYWtlIHNlYXJjaCBvcGVuIDEwMCUgd2lkZSwgYW5kIDcwJSBvZiB0aGUgaGVpZ2h0IG9mIHRoZSB2aWV3cG9ydA0KCQkJCWNvbXBsZXRlKGJ1aWxkU2hvd1NldHRpbmdzKGNvbnRleHQsIGFjdGl2YXRvciwgew0KCQkJCQlhdHRhY2hUbzogY29udGV4dC5iYW5uZXIsDQoJCQkJCXdpZHRoOiBjb250ZXh0LmJhbm5lci53aWR0aCgpIC0gMiwNCgkJCQkJbWF4SGVpZ2h0OiAoJChnbG9iYWwpLmhlaWdodCgpICogLjcpLA0KCQkJCQljc3NDbGFzczogJ3NlYXJjaC1jb250YWluZXInDQoJCQkJfSkpOw0KCQkJfSwNCgkJCW9uSGlkZTogZnVuY3Rpb24oKSB7DQoJCQkJY29udGV4dC5zZWFyY2hJbnB1dC5yZW1vdmVDbGFzcygnd2l0aC1yZXN1bHRzJyk7DQoJCQl9DQoJCX0pOw0KDQoJCS8vIGFkdmFuY2VkIHNlYXJjaA0KCQlmdW5jdGlvbiByZWRpcmVjdFRvQWR2YW5jZWRTZWFyY2goKSB7DQoJCQlpZihjb250ZXh0LnN1cHBvcnRzSW5saW5lU2VhcmNoICYmICFjb250ZXh0LmN1cnJlbnRBZHZhbmNlZFNlYXJjaFVybCkNCgkJCQlzZXREZWZhdWx0QWR2YW5jZWRTZWFyY2hVcmwoY29udGV4dCk7DQoJCQlpZihjb250ZXh0LmN1cnJlbnRBZHZhbmNlZFNlYXJjaFVybCkNCgkJCQl3aW5kb3cubG9jYXRpb24gPSBjb250ZXh0LmN1cnJlbnRBZHZhbmNlZFNlYXJjaFVybDsNCgkJfQ0KCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ubWVzc2FnaW5nLnN1YnNjcmliZShjb250ZXh0Lm1lc3NhZ2VQcmVmaXggKyAnYWR2YW5jZWRzZWFyY2gnLCByZWRpcmVjdFRvQWR2YW5jZWRTZWFyY2gpOw0KDQoJCS8vIGlmIG5vdCB0b3VjaCwgc3VwcG9ydCBlbnRlciB0byB1c2UgYWR2YW5jZWQgc2VhcmNoDQoJCSQoY29udGV4dC5zZWFyY2hJbnB1dCkub24oJ2tleWRvd24nLCBmdW5jdGlvbihlKXsNCgkJCWlmKGUud2hpY2ggPT09IDEzKSB7DQoJCQkJaWYoIWNvbnRleHQuc3VwcG9ydHNJbmxpbmVTZWFyY2ggfHwgISQoJ2JvZHknKS5oYXNDbGFzcygndG91Y2gnKSkgew0KCQkJCQllLnByZXZlbnREZWZhdWx0KCk7DQoJCQkJCWUuc3RvcFByb3BhZ2F0aW9uKCk7DQoJCQkJCS8vIGlmIHRoZXJlJ3MgYSBzZWxlY3RlZCBpdGVtLCByZWRpcmVjdCB0byBpdCwgb3RoZXJ3aXNlIHJlZGlyZWN0IHRvIGFkdmFuY2VkIHNlYXJjaA0KCQkJCQl2YXIgc2VsZWN0ZWRJdGVtID0gY29udGV4dC5zZWFyY2hQb3B1cC5jb250ZW50KCkuY2hpbGRyZW4oJ2xpLmNvbnRlbnQtaXRlbS5zZWxlY3RlZCcpOw0KCQkJCQlpZihzZWxlY3RlZEl0ZW0ubGVuZ3RoID4gMCkgew0KCQkJCQkJc2VsZWN0ZWRJdGVtLmNsaWNrKCk7DQoJCQkJCX0gZWxzZSB7DQoJCQkJCQlyZWRpcmVjdFRvQWR2YW5jZWRTZWFyY2goKTsNCgkJCQkJfQ0KCQkJCQlpZigkKCdib2R5JykuaGFzQ2xhc3MoJ3RvdWNoJykpIHsNCgkJCQkJCWNvbnRleHQuc2VhcmNoSW5wdXQuYmx1cigpOw0KCQkJCQl9DQoJCQkJCXJldHVybiBmYWxzZTsNCgkJCQl9IGVsc2Ugew0KCQkJCQljb250ZXh0LnNlYXJjaElucHV0LmJsdXIoKTsNCgkJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOw0KCQkJCQllLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpOw0KCQkJCQlyZXR1cm4gZmFsc2U7DQoJCQkJfQ0KCQkJfTsNCgkJfSk7DQoNCgkJcmV0dXJuIGNvbnRleHQuc2VhcmNoUG9wdXA7DQoJfQ0KDQoJLy8gcmV0dXJucyBzaG93IHNldHRpbmdzIHRvIHVzZSBmb3IgaGVhZGVyIHBvcHVwcw0KCWZ1bmN0aW9uIGJ1aWxkU2hvd1NldHRpbmdzKGNvbnRleHQsIGFjdGl2YXRvciwgc2V0dGluZ3MpIHsNCgkJaWYoJCh3aW5kb3cpLndpZHRoKCkgPD0gNTcwKSB7DQoJCQlyZXR1cm4gew0KCQkJCWF0dGFjaFRvOiBjb250ZXh0LmJhbm5lciwNCgkJCQl3aWR0aDogY29udGV4dC5iYW5uZXIud2lkdGgoKSwNCgkJCQltYXhIZWlnaHQ6ICQoZ2xvYmFsKS5oZWlnaHQoKSAvIDIsDQoJCQkJY29udGFpbmVyQ3NzQ2xhc3M6IHNldHRpbmdzLmNvbnRhaW5lckNzc0NsYXNzDQoJCQl9Ow0KCQl9IGVsc2Ugew0KCQkJcmV0dXJuIHNldHRpbmdzOw0KCQl9DQoJfQ0KDQoJZnVuY3Rpb24gaW5pdFNpdGVOYXZpZ2F0aW9uKGNvbnRleHQpIHsNCgkJY29udGV4dC5zaXRlTmF2aWdhdGlvbkxpc3QgPSBIZWFkZXJMaXN0KHsNCgkJCWtleTogJ3NpdGUnLA0KCQkJYWN0aXZhdGlvbkxpbms6IGNvbnRleHQuc2l0ZU5hdmlnYXRpb25MaW5rLA0KCQkJZW5kbGVzc1Njcm9sbDogdHJ1ZSwNCgkJCXRpdGxlQ291bnQ6IGZhbHNlLA0KCQkJY3NzQ2xhc3M6ICgnc2l0ZSAnICsgKGNvbnRleHQuc2l0ZU5hdmlnYXRpb25UeXBlID09PSAnbXlfZ3JvdXBzJyA/ICdncm91cCcgOiBjb250ZXh0LnNpdGVOYXZpZ2F0aW9uVHlwZSkgKyAnICcgKyAoY29udGV4dC5zaXRlTmF2aWdhdGlvblR5cGUgPT0gJ2N1c3RvbScgPyAnd2l0aG91dC1hdmF0YXInIDogJycpKSwNCgkJCXdyYXBwZXI6IGNvbnRleHQuYmFubmVyLA0KCQkJdW5yZWFkQ291bnRNZXNzYWdlUGx1cmFsOiBjb250ZXh0LnNpdGVOYXZpZ2F0aW9uVGl0bGUsDQoJCQl1bnJlYWRDb3VudE1lc3NhZ2VTaW5ndWxhcjogY29udGV4dC5zaXRlTmF2aWdhdGlvblRpdGxlLA0KCQkJb25Mb2FkOiBmdW5jdGlvbihwYWdlSW5kZXgsIHNob3VsZFJlZnJlc2hVbnJlYWRDb3VudCwgZmlsdGVyLGNvbXBsZXRlKSB7DQoJCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmdldCh7DQoJCQkJCXVybDogY29udGV4dC5zaXRlTmF2aWdhdGlvblVybCwNCgkJCQkJZGF0YTogew0KCQkJCQkJd19zaXRlTmF2aWdhdGlvblR5cGU6IGNvbnRleHQuc2l0ZU5hdmlnYXRpb25UeXBlLA0KCQkJCQkJd19wYWdlSW5kZXg6IHBhZ2VJbmRleA0KCQkJCQl9LA0KCQkJCQlzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkgew0KCQkJCQkJY29tcGxldGUocmVzcG9uc2UpOw0KCQkJCQl9DQoJCQkJfSk7DQoJCQl9LA0KCQkJb25SZWZyZXNoVW5yZWFkQ291bnQ6IGZ1bmN0aW9uKGNvbXBsZXRlKSB7DQoJCQkJY29tcGxldGUoMCk7DQoJCQl9LA0KCQkJdGVtcGxhdGU6IGNvbnRleHQuc2l0ZU5hdmlnYXRpb25UZW1wbGF0ZSwNCgkJCW9uU2hvdzogZnVuY3Rpb24oYWN0aXZhdG9yLCBjb21wbGV0ZSkgew0KCQkJCWNvbXBsZXRlKGJ1aWxkU2hvd1NldHRpbmdzKGNvbnRleHQsIGFjdGl2YXRvciwge30pKTsNCgkJCX0NCgkJfSk7DQoNCgkJaWYoY29udGV4dC5zaXRlTmF2aWdhdGlvbkN1c3RvbUl0ZW1zICYmDQoJCQljb250ZXh0LnNpdGVOYXZpZ2F0aW9uQ3VzdG9tSXRlbXMubGVuZ3RoID4gMCkNCgkJew0KCQkJc2V0VGltZW91dChmdW5jdGlvbigpew0KCQkJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5tZXNzYWdpbmcucHVibGlzaCgnbmF2aWdhdGlvbi5zaXRlTmF2aWdhdGlvbkNvbnRlbnQnLCB7DQoJCQkJCWl0ZW1zOiBjb250ZXh0LnNpdGVOYXZpZ2F0aW9uQ3VzdG9tSXRlbXMNCgkJCQl9KTsNCgkJCX0sIDEwMCk7DQoJCX0NCg0KCQlyZXR1cm4gY29udGV4dC5zaXRlTmF2aWdhdGlvbkxpc3Q7DQoJfQ0KDQoJZnVuY3Rpb24gaW5pdEhhbmRoZWxkTGlua3MoY29udGV4dCkgew0KCQl2YXIgb3BlbkhhbmRoZWxkQ29udGFpbmVyID0gbnVsbCwgYWN0aXZlTGluaywgb3BlbiA9IGZhbHNlOw0KDQoJCWZ1bmN0aW9uIHJlZ2lzdGVySGFuZGhlbGRMaW5rKGxpbmssIGNvbnRhaW5lciwgb25TaG93LCBvbkhpZGUpIHsNCgkJCWxpbmsub24oJ2NsaWNrJywgZnVuY3Rpb24oZSl7DQoJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOw0KCQkJCWlmIChvcGVuSGFuZGhlbGRDb250YWluZXIgJiYgb3BlbkhhbmRoZWxkQ29udGFpbmVyID09IGNvbnRhaW5lcikgew0KCQkJCQlpZihhY3RpdmVMaW5rKQ0KCQkJCQkJYWN0aXZlTGluay5yZW1vdmVDbGFzcygnYWN0aXZlJyk7DQoJCQkJCW9uSGlkZSgpOw0KCQkJCQlvcGVuID0gZmFsc2U7DQoJCQkJCWlmKG9wZW5IYW5kaGVsZENvbnRhaW5lcikNCgkJCQkJCW9wZW5IYW5kaGVsZENvbnRhaW5lci5oaWRlKCk7DQoJCQkJCW9wZW5IYW5kaGVsZENvbnRhaW5lciA9IG51bGw7DQoJCQkJfSBlbHNlIGlmKG9wZW5IYW5kaGVsZENvbnRhaW5lcikgew0KCQkJCQlpZihhY3RpdmVMaW5rKQ0KCQkJCQkJYWN0aXZlTGluay5yZW1vdmVDbGFzcygnYWN0aXZlJyk7DQoJCQkJCW9uSGlkZSgpOw0KCQkJCQlvcGVuID0gZmFsc2U7DQoJCQkJCWlmKG9wZW5IYW5kaGVsZENvbnRhaW5lcikNCgkJCQkJCW9wZW5IYW5kaGVsZENvbnRhaW5lci5oaWRlKCk7DQoJCQkJCW9wZW5IYW5kaGVsZENvbnRhaW5lciA9IGNvbnRhaW5lcjsNCgkJCQl9IGVsc2Ugew0KCQkJCQlvcGVuSGFuZGhlbGRDb250YWluZXIgPSBjb250YWluZXI7DQoJCQkJfQ0KCQkJCWlmKG9wZW5IYW5kaGVsZENvbnRhaW5lciAhPT0gbnVsbCkgew0KCQkJCQlvcGVuSGFuZGhlbGRDb250YWluZXIuc2hvdygpOw0KCQkJCQlvblNob3coKTsNCgkJCQkJb3BlbiA9IHRydWU7DQoJCQkJCWlmKGFjdGl2ZUxpbmspDQoJCQkJCQlhY3RpdmVMaW5rLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTsNCgkJCQkJYWN0aXZlTGluayA9IGxpbmsuYWRkQ2xhc3MoJ2FjdGl2ZScpOw0KCQkJCX0gZWxzZSB7DQoJCQkJCW9uU2hvdygpOw0KCQkJCQlvcGVuID0gZmFsc2U7DQoJCQkJCWlmKGFjdGl2ZUxpbmspDQoJCQkJCQlhY3RpdmVMaW5rLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTsNCgkJCQkJYWN0aXZlTGluayA9IGxpbmsuYWRkQ2xhc3MoJ2FjdGl2ZScpOw0KCQkJCX0NCgkJCX0pOw0KCQl9DQoNCgkJcmVnaXN0ZXJIYW5kaGVsZExpbmsoY29udGV4dC5oYW5kaGVsZFNpdGVMaW5rc0xpbmssIG51bGwsDQoJCQlmdW5jdGlvbigpew0KCQkJCWNvbnRleHQuaGFuZGhlbGRTaXRlTGlua3NMaW5rLmFkZENsYXNzKCdhY3RpdmUnKTsNCgkJCQljb250ZXh0LnNpdGVOYXZpZ2F0aW9uTGluay5jbGljaygpOw0KCQkJfSwNCgkJCWZ1bmN0aW9uKCl7DQoJCQkJY29udGV4dC5oYW5kaGVsZFNpdGVMaW5rc0xpbmsucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpOw0KCQkJCWNvbnRleHQuc2l0ZU5hdmlnYXRpb25MaW5rLmNsaWNrKCk7DQoJCQl9KTsNCgkJcmVnaXN0ZXJIYW5kaGVsZExpbmsoY29udGV4dC5oYW5kaGVsZFNlYXJjaEZpZWxkc0xpbmssIGNvbnRleHQuaGFuZGhlbGRTZWFyY2hGaWVsZHMsDQoJCQlmdW5jdGlvbigpew0KCQkJCWNvbnRleHQuc2VhcmNoRmllbGRzLmNvbnRlbnRzKCkuYXBwZW5kVG8oY29udGV4dC5oYW5kaGVsZFNlYXJjaEZpZWxkcyk7DQoJCQkJLy8gZm9jdXMgb24gc2VhcmNoDQoJCQkJY29udGV4dC5zZWFyY2hJbnB1dC5mb2N1cygpOw0KCQkJCS8vIHNjcm9sbCB0byB0b3AgKGlPUyByZXF1aXJlcyB0aGlzLi4uICkNCgkJCQlnbG9iYWwuc2Nyb2xsVG8oMCwwKTsNCgkJCX0sDQoJCQlmdW5jdGlvbigpeyBjb250ZXh0LmhhbmRoZWxkU2VhcmNoRmllbGRzLmNvbnRlbnRzKCkuYXBwZW5kVG8oY29udGV4dC5zZWFyY2hGaWVsZHMpOyB9KTsNCgkJcmVnaXN0ZXJIYW5kaGVsZExpbmsoY29udGV4dC5oYW5kaGVsZEJhbm5lckxpbmtzTGluaywgY29udGV4dC5oYW5kaGVsZEJhbm5lckxpbmtzLA0KCQkJZnVuY3Rpb24oKXsgY29udGV4dC5iYW5uZXJMaW5rcy5jb250ZW50cygpLmFwcGVuZFRvKGNvbnRleHQuaGFuZGhlbGRCYW5uZXJMaW5rcyk7IH0sDQoJCQlmdW5jdGlvbigpeyBjb250ZXh0LmhhbmRoZWxkQmFubmVyTGlua3MuY29udGVudHMoKS5hcHBlbmRUbyhjb250ZXh0LmJhbm5lckxpbmtzKTsgfSk7DQoJfQ0KDQoJdmFyIHBvcHVwTGlzdCA9IFtdOw0KCXZhciBwb3B1cHMgPSB7fTsNCg0KCWZ1bmN0aW9uIHJlZ2lzdGVyUG9wdXAocG9wdXAsIGtleSkgew0KCQl2YXIgaW5kZXggPSBwb3B1cExpc3QubGVuZ3RoOw0KCQlwb3B1cExpc3QucHVzaChwb3B1cCk7DQoJCXBvcHVwc1trZXldID0gew0KCQkJcG9wdXA6IHBvcHVwLA0KCQkJaW5kZXg6IGluZGV4DQoJCX07DQoJfQ0KDQoJZnVuY3Rpb24gaW5pdEtleWJvYXJkRXZlbnRzKGNvbnRleHQpIHsNCgkJdmFyIGlzQWN0aXZlID0gZmFsc2U7DQoJCXZhciBjdXJyZW50SW5kZXggPSBudWxsOw0KDQoJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5tZXNzYWdpbmcuc3Vic2NyaWJlKGFjdGl2YXRlTWVzc2FnZSwgZnVuY3Rpb24oZGF0YSl7DQoJCQlpc0FjdGl2ZSA9IHRydWU7DQoJCQljdXJyZW50SW5kZXggPSBwb3B1cHNbZGF0YS5rZXldLmluZGV4Ow0KCQkJaWYoZGF0YS5rZXkgPT0gJ3NlYXJjaCcpIHsNCgkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7DQoJCQkJCWNvbnRleHQuc2VhcmNoSW5wdXQuZm9jdXMoKTsNCgkJCQl9LCAxMCkNCgkJCX0NCgkJfSk7DQoJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5tZXNzYWdpbmcuc3Vic2NyaWJlKGRlYWN0aXZhdGVNZXNzYWdlLCBmdW5jdGlvbihkYXRhKXsNCgkJCWlmKGRhdGEua2V5ICE9ICdzZWFyY2gnKSB7DQoJCQkJaXNBY3RpdmUgPSBmYWxzZTsNCgkJCX0NCgkJCWNsZWFySW50ZXJ2YWwodGVzdEludGVydmFsKTsNCgkJfSk7DQoJCXZhciBib2R5ID0gZG9jdW1lbnQuYm9keSwNCgkJCWRvYyA9IGRvY3VtZW50LA0KCQkJd2luID0gd2luZG93LA0KCQkJY3VycmVudFNlbGVjdGlvbiA9IG51bGw7DQoNCgkJdmFyIGtleXMgPSB7DQoJCQllbnRlcjogMTMsDQoJCQllc2M6IDI3LA0KDQoJCQlzbGFzaDogMTkxLA0KDQoJCQl1cDogMzgsDQoJCQlwOiA4MCwNCgkJCWs6IDc1LA0KDQoJCQlkb3duOiA0MCwNCgkJCW46IDc4LA0KCQkJajogNzQsDQoNCgkJCWxlZnQ6IDM3LA0KCQkJcmlnaHQ6IDM5LA0KCQkJaDogNzIsDQoJCQlsOiA3Ng0KCQl9Ow0KDQoJCWZ1bmN0aW9uIGJsb2NrS2V5KGUpIHsNCgkJCWUucHJldmVudERlZmF1bHQoKTsNCgkJCWUuc3RvcFByb3BhZ2F0aW9uKCk7DQoJCX0NCg0KCQlmdW5jdGlvbiBnZXRDYXJldChlbCkgew0KCQkJaWYgKGVsLnNlbGVjdGlvblN0YXJ0KSB7DQoJCQkJcmV0dXJuIGVsLnNlbGVjdGlvblN0YXJ0Ow0KCQkJfSBlbHNlIGlmIChkb2N1bWVudC5zZWxlY3Rpb24pIHsNCgkJCQllbC5mb2N1cygpOw0KCQkJCXZhciByID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7DQoJCQkJaWYgKHIgPT0gbnVsbCkgew0KCQkJCQlyZXR1cm4gMDsNCgkJCQl9DQoJCQkJdmFyIHJlID0gZWwuY3JlYXRlVGV4dFJhbmdlKCksDQoJCQkJCXJjID0gcmUuZHVwbGljYXRlKCk7DQoJCQkJcmUubW92ZVRvQm9va21hcmsoci5nZXRCb29rbWFyaygpKTsNCgkJCQlyYy5zZXRFbmRQb2ludCgnRW5kVG9TdGFydCcsIHJlKTsNCgkJCQlyZXR1cm4gcmMudGV4dC5sZW5ndGg7DQoJCQl9DQoJCQlyZXR1cm4gMDsNCgkJfQ0KDQoJCSQoJ2JvZHknKS5vbignY2xpY2snLCBmdW5jdGlvbihlKXsNCgkJCXZhciBpc0Jhbm5lclRhcmdldCA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoY29udGV4dC53cmFwcGVyICsgJywgLnBvcHVwLWxpc3QnKS5sZW5ndGggPiAwOw0KCQkJaWYoIWlzQmFubmVyVGFyZ2V0KSB7DQoJCQkJdmFyIGN1cnJlbnRQb3B1cCA9IHBvcHVwTGlzdFtjdXJyZW50SW5kZXhdOw0KCQkJCWlzQWN0aXZlID0gZmFsc2U7DQoJCQkJaWYoY3VycmVudFBvcHVwKQ0KCQkJCQljdXJyZW50UG9wdXAuZGVhY3RpdmF0ZSgpOw0KCQkJCWNvbnRleHQuc2VhcmNoSW5wdXQuYmx1cigpOw0KCQkJCWN1cnJlbnRTZWxlY3Rpb24gPSBudWxsOw0KCQkJfQ0KCQl9KQ0KDQoJCSQoZG9jdW1lbnQpLm9uKCdrZXlkb3duJywgZnVuY3Rpb24oZSl7DQoJCQl2YXIgaXNXaW5kb3dFdmVudCA9IChlLnRhcmdldCA9PSBib2R5IHx8IGUudGFyZ2V0ID09IGRvYyB8fCBlLnRhcmdldCA9PSB3aW4pOw0KCQkJdmFyIGlzQmFubmVyRXZlbnQgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KGNvbnRleHQud3JhcHBlciArICcsIC5wb3B1cC1saXN0JykubGVuZ3RoID4gMDsNCg0KCQkJLy92YXIgaXNCYW5uZXJUYXJnZXQgPSBlLnRhcmdldA0KCQkJLy8gc2xhc2ggb3BlbnMgc2VhcmNoDQoJCQlpZighaXNBY3RpdmUgJiYgaXNXaW5kb3dFdmVudCAmJiBlLndoaWNoID09IGtleXMuc2xhc2gpIHsNCgkJCQlibG9ja0tleShlKTsNCgkJCQljb250ZXh0LnNlYXJjaElucHV0LmZvY3VzKCk7DQoJCQkJaXNBY3RpdmUgPSB0cnVlOw0KCQkJCWN1cnJlbnRJbmRleCA9IHBvcHVwc1snc2VhcmNoJ10uaW5kZXg7DQoJCQl9IGVsc2UgaWYoaXNBY3RpdmUpIHsNCgkJCQl2YXIgY3VycmVudFBvcHVwID0gcG9wdXBMaXN0W2N1cnJlbnRJbmRleF07DQoNCgkJCQlpZighaXNCYW5uZXJFdmVudCAmJiAhaXNXaW5kb3dFdmVudCkgew0KCQkJCQlpc0FjdGl2ZSA9IGZhbHNlOw0KCQkJCQlpZihjdXJyZW50UG9wdXApDQoJCQkJCQljdXJyZW50UG9wdXAuZGVhY3RpdmF0ZSgpOw0KCQkJCQljb250ZXh0LnNlYXJjaElucHV0LmJsdXIoKTsNCgkJCQkJY3VycmVudFNlbGVjdGlvbiA9IG51bGw7DQoJCQkJCXJldHVybiB0cnVlOw0KCQkJCX0NCg0KCQkJCWlmKCFjdXJyZW50UG9wdXApIHsNCgkJCQkJcmV0dXJuIHRydWU7DQoJCQkJfQ0KDQoJCQkJdmFyIGlzQ3Vyc29ySW5TdGFydCA9IGNvbnRleHQuc2VhcmNoSW5wdXQuaXMoIjpub3QoOmZvY3VzKSIpIHx8IGdldENhcmV0KGNvbnRleHQuc2VhcmNoSW5wdXRbMF0pID09IDA7DQoJCQkJdmFyIGlzQ3Vyc29ySW5FbmQgPSBjb250ZXh0LnNlYXJjaElucHV0LmlzKCI6bm90KDpmb2N1cykiKSB8fCBnZXRDYXJldChjb250ZXh0LnNlYXJjaElucHV0WzBdKSA9PSBjb250ZXh0LnNlYXJjaElucHV0LnZhbCgpLmxlbmd0aDsNCg0KCQkJCS8vIGhpZGUgb24gZXNjIG9yIHNsYXNoIGluIG5vbiBpbnB1dA0KCQkJCWlmKGUud2hpY2ggPT0ga2V5cy5lc2MgfHwgKGUud2hpY2ggPT0ga2V5cy5zbGFzaCAmJiBpc1dpbmRvd0V2ZW50KSkgew0KCQkJCQlibG9ja0tleShlKTsNCgkJCQkJY3VycmVudFBvcHVwLmRlYWN0aXZhdGUoKTsNCgkJCQkJY29udGV4dC5zZWFyY2hJbnB1dC5ibHVyKCk7DQoJCQkJCWlzQWN0aXZlID0gZmFsc2U7DQoJCQkJCWN1cnJlbnRTZWxlY3Rpb24gPSBudWxsOw0KCQkJCX0NCg0KCQkJCS8vIGxlZnQvcmlnaHQgdG8gY2hhbmdlIGN1cnJlbnQgb3BlbiBwb3B1cA0KCQkJCWVsc2UgaWYoKGUud2hpY2ggPT0ga2V5cy5sZWZ0ICYmIGlzQ3Vyc29ySW5TdGFydCAmJiAhKGUuY3RybEtleSB8fCBlLm1ldGFLZXkpKSB8fA0KCQkJCQkoZS53aGljaCA9PSBrZXlzLmggJiYgY3VycmVudFBvcHVwICE9PSBjb250ZXh0LnNlYXJjaFBvcHVwKSkgew0KCQkJCQlibG9ja0tleShlKTsNCgkJCQkJY3VycmVudFBvcHVwLmRlYWN0aXZhdGUoKTsNCgkJCQkJY29udGV4dC5zZWFyY2hJbnB1dC5ibHVyKCk7DQoJCQkJCWN1cnJlbnRJbmRleC0tOw0KCQkJCQlpZihjdXJyZW50SW5kZXggPCAwKSB7DQoJCQkJCQljdXJyZW50SW5kZXggPSBwb3B1cExpc3QubGVuZ3RoIC0gMTsNCgkJCQkJfQ0KDQoJCQkJCWN1cnJlbnRQb3B1cCA9IHBvcHVwTGlzdFtjdXJyZW50SW5kZXhdOw0KCQkJCQljdXJyZW50UG9wdXAuYWN0aXZhdGUoKTsNCgkJCQl9DQoJCQkJZWxzZSBpZigoZS53aGljaCA9PSBrZXlzLnJpZ2h0ICYmIGlzQ3Vyc29ySW5FbmQgJiYgIShlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSkgfHwNCgkJCQkJKGUud2hpY2ggPT0ga2V5cy5sICYmIGN1cnJlbnRQb3B1cCAhPT0gY29udGV4dC5zZWFyY2hQb3B1cCkpIHsNCgkJCQkJYmxvY2tLZXkoZSk7DQoJCQkJCWN1cnJlbnRQb3B1cC5kZWFjdGl2YXRlKCk7DQoJCQkJCWNvbnRleHQuc2VhcmNoSW5wdXQuYmx1cigpOw0KCQkJCQljdXJyZW50SW5kZXgrKzsNCgkJCQkJaWYoY3VycmVudEluZGV4ID49IHBvcHVwTGlzdC5sZW5ndGgpIHsNCgkJCQkJCWN1cnJlbnRJbmRleCA9IDA7DQoJCQkJCX0NCg0KCQkJCQljdXJyZW50UG9wdXAgPSBwb3B1cExpc3RbY3VycmVudEluZGV4XTsNCgkJCQkJY3VycmVudFBvcHVwLmFjdGl2YXRlKCk7DQoJCQkJfQ0KDQoJCQkJLy8gdXANCgkJCQllbHNlIGlmKGUud2hpY2ggPT0ga2V5cy51cCB8fA0KCQkJCQkoKGUud2hpY2ggPT0ga2V5cy5wIHx8IGUud2hpY2ggPT0ga2V5cy5rKSAmJiAoY3VycmVudFBvcHVwICE9PSBjb250ZXh0LnNlYXJjaFBvcHVwKSkpIHsNCgkJCQkJYmxvY2tLZXkoZSk7DQoJCQkJCWN1cnJlbnRQb3B1cC5tb3ZlVXAoZnVuY3Rpb24oaXRlbSl7DQoJCQkJCQljdXJyZW50U2VsZWN0aW9uID0gaXRlbTsNCgkJCQkJfSk7DQoJCQkJfQ0KDQoJCQkJLy8gZG93bg0KCQkJCWVsc2UgaWYoZS53aGljaCA9PSBrZXlzLmRvd24gfHwNCgkJCQkJKChlLndoaWNoID09IGtleXMubiB8fCBlLndoaWNoID09IGtleXMuaikgJiYgKGN1cnJlbnRQb3B1cCAhPT0gY29udGV4dC5zZWFyY2hQb3B1cCkpKSB7DQoJCQkJCWJsb2NrS2V5KGUpOw0KCQkJCQljdXJyZW50UG9wdXAubW92ZURvd24oZnVuY3Rpb24oaXRlbSl7DQoJCQkJCQljdXJyZW50U2VsZWN0aW9uID0gaXRlbTsNCgkJCQkJfSk7DQoJCQkJfQ0KDQoJCQkJLy8gc2VsZWN0DQoJCQkJZWxzZSBpZihlLndoaWNoID09IGtleXMuZW50ZXIpIHsNCgkJCQkJYmxvY2tLZXkoZSk7DQoJCQkJCWlmKGN1cnJlbnRTZWxlY3Rpb24pIHsNCgkJCQkJCWN1cnJlbnRTZWxlY3Rpb24uY2xpY2soKTsNCgkJCQkJfQ0KCQkJCX0NCg0KCQkJfQ0KCQl9KTsNCgl9DQoNCgl2YXIgYXBpID0gew0KCQlyZWdpc3RlcjogZnVuY3Rpb24oY29udGV4dCkgew0KCQkJaWYoY29udGV4dC5zaXRlTmF2aWdhdGlvbkxpbmsgJiYgY29udGV4dC5zaXRlTmF2aWdhdGlvbkxpbmsubGVuZ3RoID4gMCkNCgkJCQlyZWdpc3RlclBvcHVwKGluaXRTaXRlTmF2aWdhdGlvbihjb250ZXh0KSwgJ3NpdGUnKTsNCg0KCQkJaWYoY29udGV4dC5zZWFyY2hJbnB1dC5sZW5ndGggPiAwKQ0KCQkJCXJlZ2lzdGVyUG9wdXAoaW5pdFNlYXJjaFBvcHVwKGNvbnRleHQpLCAnc2VhcmNoJyk7DQoNCgkJCWlmKGNvbnRleHQubm90aWZpY2F0aW9uc0xpbmsubGVuZ3RoID4gMCkNCgkJCQlyZWdpc3RlclBvcHVwKGluaXROb3RpZmljYXRpb25MaXN0KGNvbnRleHQpLCAnbm90aWZpY2F0aW9ucycpOw0KDQoJCQlpZihjb250ZXh0LmNvbnZlcnNhdGlvbnNMaW5rLmxlbmd0aCA+IDApDQoJCQkJcmVnaXN0ZXJQb3B1cChpbml0Q29udmVyc2F0aW9uTGlzdChjb250ZXh0KSwgJ2NvbnZlcnNhdGlvbnMnKTsNCg0KCQkJaWYoY29udGV4dC5ib29rbWFya3NMaW5rLmxlbmd0aCA+IDApDQoJCQkJcmVnaXN0ZXJQb3B1cChpbml0Qm9va21hcmtzTGlzdChjb250ZXh0KSwgJ2Jvb2ttYXJrcycpOw0KDQoJCQlpZihjb250ZXh0LnVzZXJMaW5rLmxlbmd0aCA+IDApDQoJCQkJcmVnaXN0ZXJQb3B1cChpbml0VXNlclBvcHVwKGNvbnRleHQpLCAndXNlcicpOw0KDQoJCQlpbml0SGFuZGhlbGRMaW5rcyhjb250ZXh0KTsNCg0KCQkJaW5pdEtleWJvYXJkRXZlbnRzKGNvbnRleHQpOw0KCQl9DQoJfTsNCg0KCSQudGVsbGlnZW50ID0gJC50ZWxsaWdlbnQgfHwge307DQoJJC50ZWxsaWdlbnQuZXZvbHV0aW9uID0gJC50ZWxsaWdlbnQuZXZvbHV0aW9uIHx8IHt9Ow0KCSQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID0gJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgfHwge307DQoJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMuc2l0ZUJhbm5lciA9IGFwaTsNCg0KfShqUXVlcnksIHdpbmRvdykpOw0K</file>
		</files>
	</scriptedContentFragment>
</scriptedContentFragments>