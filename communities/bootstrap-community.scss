// Core variables and mixins
@import "../static/bootstrap/custom/_variables-quest";
@import "../static/bootstrap/partials/_mixins";

.glyphicon {
	position: relative;
	top: 1px;
	display: inline-block;
	font-family: "Glyphicons Halflings";
	font-style: normal;
	font-weight: normal;
	line-height: 1;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

.glyphicon-user {
	&:before {
		content: "\e008";
	}
}

.glyphicon-search {
	&:before {
		content: "\e003";
	}
}

.glyphicon-menu-hamburger {
	&:before {
		content: "\e236";
	}
}

#ctl02_ctl01_layout {
	overflow: visible;
	.banner {
		&.site {
			> .search {
				display: none;
			}
		}
	}
}

#ctl02_ctl01_content {
	display: none;
}

.contextual-administration-active {
	&.edit {
		#ctl02_ctl01_content {
			display: block;
		}
	}
}

#ctl02_ctl01_page {
	.banner, .layout-region-inner {
		&.header {
			overflow: visible;
		}
	}
}

.pull-right {
	float: right !important;
}

.menu-indicator {
	@extend .glyphicon;

	&:before {
		content: "\e252"
	}
}

/* Footer (mobile first) */
#footer {
	background-color: $footer-bg-color;
	font-size: 14px;
	margin-top: 10px;
	border-top: 1px solid $footer-xs-border-top-color;
	color: #333;

	a {
		color: $footer-link-color;
		text-decoration: none;

		/* Overriding Default Community Styles */
		border: 0;

		&:hover, &:focus {
			color: $footer-link-color;
			text-decoration: none;
		}
	}
	li {
		list-style: none outside none;
		a {
			display: block;
		}
		> div {
			padding: 10px 0 9px 15px;
		}
		> ul {
			display: none;
		}
	}
	ul {
		margin: 0;
		padding: 0;
	}
	.footer-top-section {
		position: relative;
		a {
			padding: 10px 0 9px 15px;
		}
		li {
			border-top: 1px solid $footer-li-xs-border-bottom-color;
			&:first-child {
				border-top: none;
			}
		}
	}
	.footer-copyright-section {
		color: $footer-cpy-link;
		font-size: 11px;
		a, span {
			padding: 10px 10px 10px 15px;
		}
		a {
			color: $footer-cpy-link;
		}
		li {
			border-top: 1px solid $footer-cpy-border-color;
			display: block;
			&:first-child {
				padding: 10px 10px 10px 15px;
			}
		}
	}
	.dropdown-toggle {
		&:after {
			padding-left: 5px;
		}
	}

	.open {
		.menu-indicator {
			&:before {
				color: #ff692e;
				content: "\e253";
			}
		}
		> div {
			background-color: #eee;
		}
		> ul {
			display: block;
			border-bottom: 1px solid $footer-xs-border-top-color;
			background-color: $footer-bg-color;
		}
	}
}

@media (max-width: $screen-xs-max) {
	body {
		-webkit-transition: left .5s ease 0;
		-o-transition: left .5s ease 0;
		transition: left .5s ease 0;
		left: 0;

		&.open {
			padding-top: 0 !important;

			> form {
				//left: -276px;
				-webkit-transform: translate3d(-276px, 0, 0);
				-moz-transform: translate3d(-276px, 0, 0);
				-ms-transform: translate3d(-276px, 0, 0);
				-o-transform: translate3d(-276px, 0, 0);
				transform: translate3d(-276px, 0, 0);
				-webkit-transition: -webkit-transform 500ms ease;
				-moz-transition: -moz-transform 500ms ease;
				-o-transition: -o-transform 500ms ease;
				transition: transform 500ms ease;
			}
			#mobile-nav-container {
				display: block;
				position: absolute;
				top: 0;
				//left: 84px;
				-webkit-transform: translate3d(84px, 0, 0);
				-moz-transform: translate3d(84px, 0, 0);
				-ms-transform: translate3d(84px, 0, 0);
				-o-transform: translate3d(84px, 0, 0);
				transform: translate3d(84px, 0, 0);
				-webkit-transition: -webkit-transform 500ms ease;
				-moz-transition: -moz-transform 500ms ease;
				-o-transition: -o-transform 500ms ease;
				transition: transform 500ms ease;
			}
		}

		> form {
			position: relative;
		}
	}

	.banner.site {
		.avatar {
			img {
				width: 100px;
				margin-top: 8px;
			}
		}
		> .navigation-list {
			&.handheld {
				ul {
					a {
						-webkit-text-fill-color: inherit;
						-webkit-text-stroke-width: 0;
						-webkit-text-stroke-color: inherit;

						&.active {
							color: $text-orange;
							-webkit-text-fill-color: inherit;
							-webkit-text-stroke-width: 0;
							-webkit-text-stroke-color: inherit;
						}
					}
					.navigation-list-item {
						&:first-child {
							float: right;
						}
					}
					.site {
						font-size: 20px;
						padding-top: 5px;
						text-indent: 0;
						&:before {
							display: none;
						}
					}
				}
			}
		}
	}

	#mobile-nav-container {
		background-color: #fff;
		display: none;
		-webkit-transform: translate3d(100%, 0, 0);
		-moz-transform: translate3d(100%, 0, 0);
		-ms-transform: translate3d(100%, 0, 0);
		-o-transform: translate3d(100%, 0, 0);
		transform: translate3d(100%, 0, 0);

		.main-nav-section {
			z-index: 999;
			width: 276px;
			height: 5000px;
			margin-left: 0;
			margin-right: 0;
			padding-left: 0;
			padding-right: 0;
		}
	}

	.shadow-overlay-left {
		width: 10px;
		height: 100%;
		position: absolute;
		z-index: 5;
		pointer-events: none;
		-webkit-box-shadow: inset 2px -4px 3px 0 rgba(170, 170, 170, 0.5);
		-moz-box-shadow: inset 2px -4px 3px 0 rgba(170, 170, 170, 0.5);
		box-shadow: inset 2px -4px 3px 0 rgba(170, 170, 170, 0.5);
	}

	.custom-main-navigation {
		a {
			display: block;
			padding: 12px 0 11px 15px;
			text-decoration: none;
			color: #333;
		}
		li {
			position: relative;
			border-bottom: 1px solid #aaa;
		}
		ul {
			&.tier1 {
				padding-left: 0;
				margin: 0;
				li {
					display: block;
					padding: 0;
				}
				ul {
					display: none;
					-webkit-transition: all .3s ease 0s;
					-moz-transition: all .3s ease 0s;
					-o-transition: all .3s ease 0s;
					-ms-transition: all .3s ease 0s;
					transition: all 0.3s ease 0s;
					padding: 0;

					li {
						border-bottom: none;
						overflow: hidden;
					}
				}
				span {
					display: inline-block;
				}
			}
			&.tier2 {
				li.open {
					overflow: visible;
				}
			}
			&.tier3 {
				padding: 0 0 0 15px;
			}
			&.tier4 {
				padding: 0 0 0 15px;
			}
		}
	}
}

@media (min-width: $screen-sm-min) {
	#mobile-nav-container {
		display: none;
	}

	.header-fragments {
		.layout {
			.layout-content {
				.layout-region.header {
					.layout-region-inner {
						max-width: 1200px;
					}
				}
			}
		}
		&:hover {
			.banner.site {
				.navigation-list {
					ul {
						a {
							color: #333;
						}
					}
				}
			}
		}
	}

	.custom-main-navigation {
		li {
			float: left;
		}
		a {
			color: $darker-gray;
			display: block;
			padding: 25px 15px 25px;
			font-size: 17px;
			font-weight: 700;
			margin-bottom: -4px;

			&:hover {
				color: $text-orange;
			}
		}
	}

	.navigation-list {
		&.user-links {
			li {
				&:hover {
					a {
						color: $text-orange !important;
					}
				}
			}
		}
		.logout {
			margin-top: 10px;
			a {
				display: block;
				margin-bottom: 0; // For input.btn
				font-weight: $btn-font-weight;
				text-align: center;
				vertical-align: middle;
				touch-action: manipulation;
				cursor: pointer;
				background-image: none; // Reset unusual Firefox-on-Android default style; see https://github.com/necolas/normalize.css/issues/214
				border: 1px solid transparent;
				white-space: nowrap;
				@include button-size($padding-base-vertical, $padding-base-horizontal, $font-size-base, $line-height-base, $border-radius-base);
				@include user-select(none);

				&,
				&:active,
				&.active {
					&:focus,
					&.focus {
						@include tab-focus;
					}
				}

				&:hover,
				&:focus,
				&.focus {
					color: $btn-default-color;
					text-decoration: none;
				}

				&:active,
				&.active {
					outline: 0;
					background-image: none;
					@include box-shadow(inset 0 3px 5px rgba(0, 0, 0, .125));
				}
				@include button-variant-v2($btn-default-color, $btn-default-bg, $btn-default-border, $btn-default-hover-color, $btn-default-hover-bg, $btn-default-hover-border);
			}
		}
		.glyphicon {
			font-size: 22px;
		}
	}

	.banner.site {
		.navigation-list {
			&.user-links {
				a {
					&.search-icon {
						margin: 4px;
					}
				}
			}
			ul {
				a {
					color: #333;
				}
				.bookmarks, .conversations, .notifications {
					height: 22px;

					&:before {
						height: 22px;
						font-size: 28px;
					}
				}
				.bookmarks, .notifications {
					margin-top: 5px;
				}
				.conversations {
					margin-top: 7px;
				}
				.user {
					&.with-icon {
						text-indent: 0;
						&:before {
							display: none;
						}
					}
				}
			}
		}
	}

	#masthead-search {
		text-align: center;
		display: none;
		position: absolute;
		left: 0;
		margin-top: 68px;
		z-index: 99;
		width: 100%;
		padding: 18px 15px;
		background-color: #f9f9f9;
		-webkit-box-shadow: 0 4px 5px 0 rgba(97, 95, 95, 0.49);
		-moz-box-shadow: 0 4px 5px 0 rgba(97, 95, 95, 0.49);
		box-shadow: 0 4px 5px 0 rgba(97, 95, 95, 0.49);
		border-top: 3px solid #eee;

		[type="search"] {
			width: 40%;
			padding: 5px 20px;
			vertical-align: top;
		}

		.field-item-input {
			&:after {
				display: none;
			}
		}

		.btn {
			background-color: #fb4f14;
			padding: 4px 5px 1px;
			border: 1px solid transparent;
			color: #fff;
			border-top-right-radius: 1px;
			border-bottom-right-radius: 1px;
			font-size: 20px;
		}
	}

	.header {
		.content-fragment {
			&.with-spacing {
				padding: 4px 0;
			}
		}
	}

	//Popup
	.popup-list {
		&.user {
			font-size: 16px;
		}
		.multiple-column-list {
			border: 1px solid #eee;
			background-color: #f9f9f9;
		}
	}

	//Footer

	.footer-fragments {
		.layout {
			max-width: 100% !important;
			margin: 0;
		}
	}

	#footer {
		border-top: 0;

		> div {
			max-width: 1200px;
			margin: 0 auto;
		}

		.menu-indicator {
			display: none;
		}
		.footer-top-section {
			.menu-links {
				> li {
					padding: 0 8%;
					display: inline-block;
					vertical-align: top;
					> div {
						padding: 0 0 5px;
						font-weight: 700;
					}
				}
				ul {
					li {
						font-size: 12px;
					}
				}
			}
			a {
				padding: 0 0 5px;
			}
			ul {
				display: block;
				li {
					display: block;
					border-top: 0;
				}
			}
		}
		.footer-copyright-section {
			max-width: 100%;
			border-top: 1px solid #eee;
			font-size: 12px;
			ul {
				text-align: center;
			}
			li {
				border-top: 0;
				display: inline-block;
			}
		}
	}
}